{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"SpendWise Sistema de gest\u00e3o financeira pessoal com Clean Architecture, DDD e Next.js GitHub"},{"location":"#principais-secoes","title":"Principais Se\u00e7\u00f5es","text":"<ul> <li> Especifica\u00e7\u00f5es <p>User Stories e Regras de Neg\u00f3cio do sistema</p> Acessar \u2192 </li> <li> Vis\u00e3o Geral <p>Introdu\u00e7\u00e3o \u00e0 arquitetura e motiva\u00e7\u00e3o do projeto</p> Acessar \u2192 </li> <li> Backend <p>ASP.NET Core \u2014 Clean Architecture, DDD e Testes</p> Acessar \u2192 </li> <li> SpendWise Auth <p>Microservi\u00e7o de Autentica\u00e7\u00e3o \u2014 CQRS e JWT</p> Acessar \u2192 </li> <li> Frontend <p>Next.js + Tailwind + Radix UI + TypeScript</p> Acessar \u2192 </li> <li> Docker &amp; DevOps <p>Containeriza\u00e7\u00e3o e CI/CD com GitHub Actions</p> Acessar \u2192 </li> <li> API <p>Documenta\u00e7\u00e3o completa dos endpoints REST</p> Acessar \u2192 </li> <li> Diagramas <p>Arquitetura, DER, Modelo de Dados e Classes</p> Acessar \u2192 </li> <li> Guias <p>Setup, Contribui\u00e7\u00e3o e Troubleshooting</p> Acessar \u2192 </li> </ul>"},{"location":"#autor","title":"Autor","text":"<p>Mateus Orlando Medeiros Ribeiro</p>"},{"location":"api/auth/","title":"API - Autentica\u00e7\u00e3o","text":""},{"location":"api/auth/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>A API de autentica\u00e7\u00e3o do SpendWise utiliza JWT (JSON Web Tokens) para autentica\u00e7\u00e3o stateless, garantindo seguran\u00e7a e escalabilidade.</p>"},{"location":"api/auth/#base-url","title":"Base URL","text":"<pre><code>Development: http://localhost:5000/api\nProduction: https://api.spendwise.com/api\n</code></pre>"},{"location":"api/auth/#endpoints","title":"Endpoints","text":""},{"location":"api/auth/#post-authlogin","title":"POST /auth/login","text":"<p>Autentica um usu\u00e1rio e retorna um token JWT.</p>"},{"location":"api/auth/#request","title":"Request","text":"<pre><code>POST /api/auth/login\nContent-Type: application/json\n\n{\n  \"email\": \"usuario@exemplo.com\",\n  \"senha\": \"senha123\"\n}\n</code></pre>"},{"location":"api/auth/#response","title":"Response","text":"<p>200 OK <pre><code>{\n  \"data\": {\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"user\": {\n      \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n      \"nome\": \"Jo\u00e3o Silva\",\n      \"email\": \"usuario@exemplo.com\",\n      \"rendaMensal\": 5000.00,\n      \"isAtivo\": true,\n      \"createdAt\": \"2025-01-01T00:00:00Z\",\n      \"updatedAt\": \"2025-01-01T00:00:00Z\"\n    }\n  },\n  \"success\": true\n}\n</code></pre></p> <p>400 Bad Request <pre><code>{\n  \"data\": null,\n  \"success\": false,\n  \"message\": \"Email ou senha inv\u00e1lidos\"\n}\n</code></pre></p>"},{"location":"api/auth/#exemplo-curl","title":"Exemplo cURL","text":"<pre><code>curl -X POST http://localhost:5000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"usuario@exemplo.com\",\n    \"senha\": \"senha123\"\n  }'\n</code></pre>"},{"location":"api/auth/#post-authregister","title":"POST /auth/register","text":"<p>Registra um novo usu\u00e1rio no sistema.</p>"},{"location":"api/auth/#request_1","title":"Request","text":"<pre><code>POST /api/auth/register\nContent-Type: application/json\n\n{\n  \"nome\": \"Jo\u00e3o Silva\",\n  \"email\": \"usuario@exemplo.com\",\n  \"senha\": \"senha123\",\n  \"rendaMensal\": 5000.00\n}\n</code></pre>"},{"location":"api/auth/#response_1","title":"Response","text":"<p>201 Created <pre><code>{\n  \"data\": {\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"user\": {\n      \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n      \"nome\": \"Jo\u00e3o Silva\",\n      \"email\": \"usuario@exemplo.com\",\n      \"rendaMensal\": 5000.00,\n      \"isAtivo\": true,\n      \"createdAt\": \"2025-01-01T00:00:00Z\",\n      \"updatedAt\": \"2025-01-01T00:00:00Z\"\n    }\n  },\n  \"success\": true\n}\n</code></pre></p> <p>400 Bad Request <pre><code>{\n  \"data\": null,\n  \"success\": false,\n  \"message\": \"Email j\u00e1 est\u00e1 em uso\"\n}\n</code></pre></p>"},{"location":"api/auth/#exemplo-curl_1","title":"Exemplo cURL","text":"<pre><code>curl -X POST http://localhost:5000/api/auth/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"nome\": \"Jo\u00e3o Silva\",\n    \"email\": \"usuario@exemplo.com\",\n    \"senha\": \"senha123\",\n    \"rendaMensal\": 5000.00\n  }'\n</code></pre>"},{"location":"api/auth/#get-usuariosprofile","title":"GET /usuarios/profile","text":"<p>Retorna os dados do usu\u00e1rio autenticado.</p>"},{"location":"api/auth/#headers","title":"Headers","text":"<pre><code>Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n</code></pre>"},{"location":"api/auth/#response_2","title":"Response","text":"<p>200 OK <pre><code>{\n  \"data\": {\n    \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n    \"nome\": \"Jo\u00e3o Silva\",\n    \"email\": \"usuario@exemplo.com\",\n    \"rendaMensal\": 5000.00,\n    \"isAtivo\": true,\n    \"createdAt\": \"2025-01-01T00:00:00Z\",\n    \"updatedAt\": \"2025-01-01T00:00:00Z\"\n  },\n  \"success\": true\n}\n</code></pre></p> <p>401 Unauthorized <pre><code>{\n  \"data\": null,\n  \"success\": false,\n  \"message\": \"Token inv\u00e1lido ou expirado\"\n}\n</code></pre></p>"},{"location":"api/auth/#exemplo-curl_2","title":"Exemplo cURL","text":"<pre><code>curl -X GET http://localhost:5000/api/usuarios/profile \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n</code></pre>"},{"location":"api/auth/#autenticacao","title":"Autentica\u00e7\u00e3o","text":""},{"location":"api/auth/#jwt-token","title":"JWT Token","text":"<p>O sistema utiliza JWT para autentica\u00e7\u00e3o. O token deve ser inclu\u00eddo no header <code>Authorization</code> de todas as requisi\u00e7\u00f5es autenticadas.</p>"},{"location":"api/auth/#header-format","title":"Header Format","text":"<pre><code>Authorization: Bearer &lt;token&gt;\n</code></pre>"},{"location":"api/auth/#token-structure","title":"Token Structure","text":"<pre><code>{\n  \"sub\": \"123e4567-e89b-12d3-a456-426614174000\",\n  \"email\": \"usuario@exemplo.com\",\n  \"nome\": \"Jo\u00e3o Silva\",\n  \"iat\": 1640995200,\n  \"exp\": 1641081600,\n  \"iss\": \"SpendWise\",\n  \"aud\": \"SpendWise\"\n}\n</code></pre>"},{"location":"api/auth/#claims","title":"Claims","text":"<ul> <li><code>sub</code>: ID do usu\u00e1rio</li> <li><code>email</code>: Email do usu\u00e1rio</li> <li><code>nome</code>: Nome do usu\u00e1rio</li> <li><code>iat</code>: Timestamp de cria\u00e7\u00e3o</li> <li><code>exp</code>: Timestamp de expira\u00e7\u00e3o</li> <li><code>iss</code>: Emissor do token</li> <li><code>aud</code>: Audi\u00eancia do token</li> </ul>"},{"location":"api/auth/#expiracao","title":"Expira\u00e7\u00e3o","text":"<ul> <li>Access Token: 24 horas</li> <li>Refresh Token: 7 dias (quando implementado)</li> </ul>"},{"location":"api/auth/#seguranca","title":"Seguran\u00e7a","text":""},{"location":"api/auth/#validacoes","title":"Valida\u00e7\u00f5es","text":""},{"location":"api/auth/#email","title":"Email","text":"<ul> <li>Formato v\u00e1lido de email</li> <li>\u00danico no sistema</li> <li>Case-insensitive</li> </ul>"},{"location":"api/auth/#senha","title":"Senha","text":"<ul> <li>M\u00ednimo 6 caracteres</li> <li>Hash com BCrypt</li> <li>N\u00e3o armazenada em texto plano</li> </ul>"},{"location":"api/auth/#nome","title":"Nome","text":"<ul> <li>Obrigat\u00f3rio</li> <li>M\u00e1ximo 100 caracteres</li> <li>Apenas letras e espa\u00e7os</li> </ul>"},{"location":"api/auth/#rate-limiting","title":"Rate Limiting","text":"<ul> <li>Login: 5 tentativas por minuto por IP</li> <li>Register: 3 tentativas por minuto por IP</li> <li>API: 100 requisi\u00e7\u00f5es por minuto por usu\u00e1rio</li> </ul>"},{"location":"api/auth/#codigos-de-status","title":"C\u00f3digos de Status","text":"C\u00f3digo Descri\u00e7\u00e3o 200 Sucesso 201 Criado com sucesso 400 Requisi\u00e7\u00e3o inv\u00e1lida 401 N\u00e3o autorizado 403 Acesso negado 404 N\u00e3o encontrado 500 Erro interno do servidor"},{"location":"api/auth/#exemplos-de-uso","title":"Exemplos de Uso","text":""},{"location":"api/auth/#javascripttypescript","title":"JavaScript/TypeScript","text":"<pre><code>// Login\nconst login = async (email: string, senha: string) =&gt; {\n  const response = await fetch('/api/auth/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, senha }),\n  });\n\n  const data = await response.json();\n\n  if (data.success) {\n    localStorage.setItem('token', data.data.token);\n    return data.data.user;\n  }\n\n  throw new Error(data.message);\n};\n\n// Requisi\u00e7\u00e3o autenticada\nconst getProfile = async () =&gt; {\n  const token = localStorage.getItem('token');\n\n  const response = await fetch('/api/usuarios/profile', {\n    headers: {\n      'Authorization': `Bearer ${token}`,\n    },\n  });\n\n  const data = await response.json();\n  return data.data;\n};\n</code></pre>"},{"location":"api/auth/#python","title":"Python","text":"<pre><code>import requests\n\n# Login\ndef login(email, senha):\n    response = requests.post(\n        'http://localhost:5000/api/auth/login',\n        json={'email': email, 'senha': senha}\n    )\n\n    data = response.json()\n\n    if data['success']:\n        return data['data']['token']\n\n    raise Exception(data['message'])\n\n# Requisi\u00e7\u00e3o autenticada\ndef get_profile(token):\n    headers = {'Authorization': f'Bearer {token}'}\n    response = requests.get(\n        'http://localhost:5000/api/usuarios/profile',\n        headers=headers\n    )\n\n    data = response.json()\n    return data['data']\n</code></pre>"},{"location":"api/auth/#curl","title":"cURL","text":"<pre><code># Login\nTOKEN=$(curl -s -X POST http://localhost:5000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\":\"usuario@exemplo.com\",\"senha\":\"senha123\"}' \\\n  | jq -r '.data.token')\n\n# Usar token\ncurl -X GET http://localhost:5000/api/usuarios/profile \\\n  -H \"Authorization: Bearer $TOKEN\"\n</code></pre>"},{"location":"api/auth/#tratamento-de-erros","title":"Tratamento de Erros","text":""},{"location":"api/auth/#erros-comuns","title":"Erros Comuns","text":""},{"location":"api/auth/#email-ja-em-uso","title":"Email j\u00e1 em uso","text":"<pre><code>{\n  \"data\": null,\n  \"success\": false,\n  \"message\": \"Email j\u00e1 est\u00e1 em uso\"\n}\n</code></pre>"},{"location":"api/auth/#credenciais-invalidas","title":"Credenciais inv\u00e1lidas","text":"<pre><code>{\n  \"data\": null,\n  \"success\": false,\n  \"message\": \"Email ou senha inv\u00e1lidos\"\n}\n</code></pre>"},{"location":"api/auth/#token-expirado","title":"Token expirado","text":"<pre><code>{\n  \"data\": null,\n  \"success\": false,\n  \"message\": \"Token expirado\"\n}\n</code></pre>"},{"location":"api/auth/#token-invalido","title":"Token inv\u00e1lido","text":"<pre><code>{\n  \"data\": null,\n  \"success\": false,\n  \"message\": \"Token inv\u00e1lido\"\n}\n</code></pre>"},{"location":"api/auth/#proximos-passos","title":"Pr\u00f3ximos Passos","text":"<ol> <li>Usu\u00e1rios - Gest\u00e3o de usu\u00e1rios</li> <li>Categorias - Gest\u00e3o de categorias</li> <li>Transa\u00e7\u00f5es - Gest\u00e3o de transa\u00e7\u00f5es</li> <li>Relat\u00f3rios - Relat\u00f3rios e an\u00e1lises</li> </ol>"},{"location":"api/auth/#suporte","title":"Suporte","text":"<p>Para problemas ou d\u00favidas:</p> <ol> <li>Verificar logs da aplica\u00e7\u00e3o</li> <li>Consultar documenta\u00e7\u00e3o da API</li> <li>Abrir issue no reposit\u00f3rio</li> <li>Contatar equipe de desenvolvimento</li> </ol>"},{"location":"api/categories/","title":"API - Categorias","text":""},{"location":"api/categories/#endpoints-de-categorias","title":"Endpoints de Categorias","text":"<p>Esta se\u00e7\u00e3o documenta todos os endpoints relacionados ao gerenciamento de categorias no sistema SpendWise.</p>"},{"location":"api/categories/#modelo-de-dados","title":"Modelo de Dados","text":""},{"location":"api/categories/#category","title":"Category","text":"<pre><code>{\n  \"id\": \"string (uuid)\",\n  \"nome\": \"string\",\n  \"descricao\": \"string\",\n  \"cor\": \"string (hex)\",\n  \"icone\": \"string\",\n  \"tipo\": \"receita | despesa\",\n  \"limite\": \"decimal\",\n  \"ativo\": \"boolean\",\n  \"usuarioId\": \"string (uuid)\",\n  \"dataCriacao\": \"datetime\",\n  \"dataAtualizacao\": \"datetime\"\n}\n</code></pre>"},{"location":"api/categories/#categorywithstats","title":"CategoryWithStats","text":"<pre><code>{\n  \"id\": \"string (uuid)\",\n  \"nome\": \"string\",\n  \"descricao\": \"string\",\n  \"cor\": \"string (hex)\",\n  \"icone\": \"string\",\n  \"tipo\": \"receita | despesa\",\n  \"limite\": \"decimal\",\n  \"gastoAtual\": \"decimal\",\n  \"percentualUsado\": \"decimal\",\n  \"transacoesCount\": \"integer\",\n  \"ativo\": \"boolean\"\n}\n</code></pre>"},{"location":"api/categories/#get-apicategorias","title":"GET /api/categorias","text":"<p>Lista todas as categorias do usu\u00e1rio autenticado.</p>"},{"location":"api/categories/#headers","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/categories/#query-parameters","title":"Query Parameters","text":"<ul> <li><code>tipo</code> (optional): <code>receita</code>, <code>despesa</code>, <code>todas</code> (default: <code>todas</code>)</li> <li><code>ativo</code> (optional): <code>true</code>, <code>false</code> (default: <code>true</code>)</li> <li><code>incluirEstatisticas</code> (optional): <code>true</code>, <code>false</code> (default: <code>false</code>)</li> </ul>"},{"location":"api/categories/#response-200-success","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n      \"nome\": \"Alimenta\u00e7\u00e3o\",\n      \"descricao\": \"Gastos com comida e bebida\",\n      \"cor\": \"#10b981\",\n      \"icone\": \"utensils\",\n      \"tipo\": \"despesa\",\n      \"limite\": 800.00,\n      \"gastoAtual\": 520.00,\n      \"percentualUsado\": 65.0,\n      \"transacoesCount\": 12,\n      \"ativo\": true,\n      \"dataCriacao\": \"2024-01-15T10:30:00Z\",\n      \"dataAtualizacao\": \"2024-01-20T14:45:00Z\"\n    },\n    {\n      \"id\": \"cat-456e7890-e89b-12d3-a456-426614174001\",\n      \"nome\": \"Sal\u00e1rio\",\n      \"descricao\": \"Renda mensal fixa\",\n      \"cor\": \"#3b82f6\",\n      \"icone\": \"briefcase\",\n      \"tipo\": \"receita\",\n      \"limite\": null,\n      \"gastoAtual\": 0.00,\n      \"percentualUsado\": 0.0,\n      \"transacoesCount\": 1,\n      \"ativo\": true,\n      \"dataCriacao\": \"2024-01-15T10:30:00Z\",\n      \"dataAtualizacao\": \"2024-01-15T10:30:00Z\"\n    }\n  ],\n  \"meta\": {\n    \"total\": 8,\n    \"totalReceitas\": 2,\n    \"totalDespesas\": 6,\n    \"totalAtivas\": 8\n  }\n}\n</code></pre>"},{"location":"api/categories/#get-apicategoriasid","title":"GET /api/categorias/{id}","text":"<p>Obt\u00e9m uma categoria espec\u00edfica por ID.</p>"},{"location":"api/categories/#headers_1","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/categories/#path-parameters","title":"Path Parameters","text":"<ul> <li><code>id</code>: UUID da categoria</li> </ul>"},{"location":"api/categories/#response-200-success_1","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n    \"nome\": \"Alimenta\u00e7\u00e3o\",\n    \"descricao\": \"Gastos com comida e bebida\",\n    \"cor\": \"#10b981\",\n    \"icone\": \"utensils\",\n    \"tipo\": \"despesa\",\n    \"limite\": 800.00,\n    \"gastoAtual\": 520.00,\n    \"percentualUsado\": 65.0,\n    \"transacoesCount\": 12,\n    \"ativo\": true,\n    \"transacoesRecentes\": [\n      {\n        \"id\": \"trans-123\",\n        \"descricao\": \"Supermercado Extra\",\n        \"valor\": 156.80,\n        \"data\": \"2024-01-20T18:30:00Z\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/categories/#response-404-not-found","title":"Response 404 - Not Found","text":"<pre><code>{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"CATEGORY_NOT_FOUND\",\n    \"message\": \"Categoria n\u00e3o encontrada\"\n  }\n}\n</code></pre>"},{"location":"api/categories/#post-apicategorias","title":"POST /api/categorias","text":"<p>Cria uma nova categoria.</p>"},{"location":"api/categories/#headers_2","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/categories/#request-body","title":"Request Body","text":"<pre><code>{\n  \"nome\": \"Transporte\",\n  \"descricao\": \"Gastos com locomo\u00e7\u00e3o\",\n  \"cor\": \"#f59e0b\",\n  \"icone\": \"car\",\n  \"tipo\": \"despesa\",\n  \"limite\": 300.00\n}\n</code></pre>"},{"location":"api/categories/#response-201-created","title":"Response 201 - Created","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"cat-789e0123-e89b-12d3-a456-426614174002\",\n    \"nome\": \"Transporte\",\n    \"descricao\": \"Gastos com locomo\u00e7\u00e3o\",\n    \"cor\": \"#f59e0b\",\n    \"icone\": \"car\",\n    \"tipo\": \"despesa\",\n    \"limite\": 300.00,\n    \"gastoAtual\": 0.00,\n    \"percentualUsado\": 0.0,\n    \"transacoesCount\": 0,\n    \"ativo\": true,\n    \"dataCriacao\": \"2024-01-21T09:15:00Z\",\n    \"dataAtualizacao\": \"2024-01-21T09:15:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/categories/#response-400-bad-request","title":"Response 400 - Bad Request","text":"<pre><code>{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Dados inv\u00e1lidos\",\n    \"details\": [\n      {\n        \"field\": \"nome\",\n        \"message\": \"Nome \u00e9 obrigat\u00f3rio\"\n      },\n      {\n        \"field\": \"cor\",\n        \"message\": \"Cor deve estar no formato hexadecimal (#RRGGBB)\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/categories/#put-apicategoriasid","title":"PUT /api/categorias/{id}","text":"<p>Atualiza uma categoria existente.</p>"},{"location":"api/categories/#headers_3","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/categories/#path-parameters_1","title":"Path Parameters","text":"<ul> <li><code>id</code>: UUID da categoria</li> </ul>"},{"location":"api/categories/#request-body_1","title":"Request Body","text":"<pre><code>{\n  \"nome\": \"Transporte P\u00fablico\",\n  \"descricao\": \"Gastos com \u00f4nibus, metr\u00f4 e t\u00e1xi\",\n  \"cor\": \"#f59e0b\",\n  \"icone\": \"bus\",\n  \"limite\": 350.00\n}\n</code></pre>"},{"location":"api/categories/#response-200-success_2","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"cat-789e0123-e89b-12d3-a456-426614174002\",\n    \"nome\": \"Transporte P\u00fablico\",\n    \"descricao\": \"Gastos com \u00f4nibus, metr\u00f4 e t\u00e1xi\",\n    \"cor\": \"#f59e0b\",\n    \"icone\": \"bus\",\n    \"tipo\": \"despesa\",\n    \"limite\": 350.00,\n    \"gastoAtual\": 180.00,\n    \"percentualUsado\": 51.4,\n    \"transacoesCount\": 5,\n    \"ativo\": true,\n    \"dataAtualizacao\": \"2024-01-21T10:30:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/categories/#delete-apicategoriasid","title":"DELETE /api/categorias/{id}","text":"<p>Exclui uma categoria (soft delete).</p>"},{"location":"api/categories/#headers_4","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/categories/#path-parameters_2","title":"Path Parameters","text":"<ul> <li><code>id</code>: UUID da categoria</li> </ul>"},{"location":"api/categories/#response-200-success_3","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"message\": \"Categoria exclu\u00edda com sucesso\"\n}\n</code></pre>"},{"location":"api/categories/#response-400-bad-request_1","title":"Response 400 - Bad Request","text":"<pre><code>{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"CATEGORY_HAS_TRANSACTIONS\",\n    \"message\": \"N\u00e3o \u00e9 poss\u00edvel excluir categoria com transa\u00e7\u00f5es associadas\"\n  }\n}\n</code></pre>"},{"location":"api/categories/#get-apicategoriasidestatisticas","title":"GET /api/categorias/{id}/estatisticas","text":"<p>Obt\u00e9m estat\u00edsticas detalhadas de uma categoria.</p>"},{"location":"api/categories/#headers_5","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/categories/#path-parameters_3","title":"Path Parameters","text":"<ul> <li><code>id</code>: UUID da categoria</li> </ul>"},{"location":"api/categories/#query-parameters_1","title":"Query Parameters","text":"<ul> <li><code>periodo</code> (optional): <code>mensal</code>, <code>trimestral</code>, <code>anual</code> (default: <code>mensal</code>)</li> <li><code>ano</code> (optional): Ano espec\u00edfico (default: ano atual)</li> <li><code>mes</code> (optional): M\u00eas espec\u00edfico (1-12, usado apenas com periodo=mensal)</li> </ul>"},{"location":"api/categories/#response-200-success_4","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"categoria\": {\n      \"id\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n      \"nome\": \"Alimenta\u00e7\u00e3o\",\n      \"limite\": 800.00\n    },\n    \"periodo\": \"mensal\",\n    \"estatisticas\": {\n      \"totalGasto\": 520.00,\n      \"percentualLimite\": 65.0,\n      \"mediaTransacao\": 43.33,\n      \"totalTransacoes\": 12,\n      \"maiorTransacao\": 156.80,\n      \"menorTransacao\": 15.50,\n      \"tendencia\": \"crescente\",\n      \"comparacaoMesAnterior\": {\n        \"valor\": 480.00,\n        \"variacao\": 8.33,\n        \"percentual\": 8.33\n      }\n    },\n    \"evolucaoMensal\": [\n      {\n        \"mes\": \"2024-01\",\n        \"valor\": 520.00,\n        \"transacoes\": 12\n      },\n      {\n        \"mes\": \"2023-12\",\n        \"valor\": 480.00,\n        \"transacoes\": 10\n      }\n    ],\n    \"transacoesPorDia\": [\n      {\n        \"data\": \"2024-01-20\",\n        \"valor\": 156.80,\n        \"transacoes\": 1\n      },\n      {\n        \"data\": \"2024-01-19\",\n        \"valor\": 89.50,\n        \"transacoes\": 2\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/categories/#post-apicategoriasidativar","title":"POST /api/categorias/{id}/ativar","text":"<p>Ativa uma categoria desativada.</p>"},{"location":"api/categories/#headers_6","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/categories/#path-parameters_4","title":"Path Parameters","text":"<ul> <li><code>id</code>: UUID da categoria</li> </ul>"},{"location":"api/categories/#response-200-success_5","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"message\": \"Categoria ativada com sucesso\"\n}\n</code></pre>"},{"location":"api/categories/#post-apicategoriasiddesativar","title":"\u23f8 POST /api/categorias/{id}/desativar","text":"<p>Desativa uma categoria.</p>"},{"location":"api/categories/#headers_7","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/categories/#path-parameters_5","title":"Path Parameters","text":"<ul> <li><code>id</code>: UUID da categoria</li> </ul>"},{"location":"api/categories/#response-200-success_6","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"message\": \"Categoria desativada com sucesso\"\n}\n</code></pre>"},{"location":"api/categories/#get-apicategoriasranking","title":"GET /api/categorias/ranking","text":"<p>Obt\u00e9m ranking das categorias por gasto.</p>"},{"location":"api/categories/#headers_8","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/categories/#query-parameters_2","title":"Query Parameters","text":"<ul> <li><code>periodo</code> (optional): <code>mensal</code>, <code>trimestral</code>, <code>anual</code> (default: <code>mensal</code>)</li> <li><code>tipo</code> (optional): <code>receita</code>, <code>despesa</code> (default: <code>despesa</code>)</li> <li><code>limite</code> (optional): N\u00famero de categorias (default: 10)</li> </ul>"},{"location":"api/categories/#response-200-success_7","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"periodo\": \"mensal\",\n    \"tipo\": \"despesa\",\n    \"ranking\": [\n      {\n        \"posicao\": 1,\n        \"categoria\": {\n          \"id\": \"cat-123\",\n          \"nome\": \"Alimenta\u00e7\u00e3o\",\n          \"cor\": \"#10b981\"\n        },\n        \"valor\": 850.00,\n        \"percentualTotal\": 30.2,\n        \"transacoes\": 15\n      },\n      {\n        \"posicao\": 2,\n        \"categoria\": {\n          \"id\": \"cat-456\",\n          \"nome\": \"Transporte\",\n          \"cor\": \"#f59e0b\"\n        },\n        \"valor\": 680.00,\n        \"percentualTotal\": 24.2,\n        \"transacoes\": 8\n      }\n    ],\n    \"totalGeral\": 2810.00\n  }\n}\n</code></pre>"},{"location":"api/categories/#codigos-de-erro","title":"C\u00f3digos de Erro","text":"C\u00f3digo Descri\u00e7\u00e3o <code>CATEGORY_NOT_FOUND</code> Categoria n\u00e3o encontrada <code>CATEGORY_HAS_TRANSACTIONS</code> Categoria possui transa\u00e7\u00f5es associadas <code>DUPLICATE_CATEGORY_NAME</code> Nome da categoria j\u00e1 existe <code>INVALID_COLOR_FORMAT</code> Formato de cor inv\u00e1lido <code>INVALID_LIMIT_VALUE</code> Valor de limite inv\u00e1lido"},{"location":"api/categories/#exemplos-de-uso","title":"Exemplos de Uso","text":""},{"location":"api/categories/#curl-criar-categoria","title":"cURL - Criar Categoria","text":"<pre><code>curl -X POST \"https://api.spendwise.com/api/categorias\" \\\n  -H \"Authorization: Bearer seu_token_aqui\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"nome\": \"Lazer\",\n    \"descricao\": \"Entretenimento e divers\u00e3o\",\n    \"cor\": \"#8b5cf6\",\n    \"icone\": \"gamepad\",\n    \"tipo\": \"despesa\",\n    \"limite\": 400.00\n  }'\n</code></pre>"},{"location":"api/categories/#javascript-listar-categorias","title":"JavaScript - Listar Categorias","text":"<pre><code>const response = await fetch('/api/categorias?incluirEstatisticas=true', {\n  headers: {\n    'Authorization': `Bearer ${token}`,\n    'Content-Type': 'application/json'\n  }\n});\n\nconst { data: categorias } = await response.json();\n</code></pre>"},{"location":"api/categories/#python-obter-estatisticas","title":"Python - Obter Estat\u00edsticas","text":"<pre><code>import requests\n\nheaders = {\n    'Authorization': f'Bearer {token}',\n    'Content-Type': 'application/json'\n}\n\nresponse = requests.get(\n    f'https://api.spendwise.com/api/categorias/{categoria_id}/estatisticas',\n    headers=headers,\n    params={'periodo': 'mensal'}\n)\n\ndata = response.json()\n</code></pre>"},{"location":"api/reports/","title":"API - Relat\u00f3rios","text":""},{"location":"api/reports/#endpoints-de-relatorios","title":"Endpoints de Relat\u00f3rios","text":"<p>Esta se\u00e7\u00e3o documenta todos os endpoints relacionados \u00e0 gera\u00e7\u00e3o de relat\u00f3rios e an\u00e1lises no sistema SpendWise.</p>"},{"location":"api/reports/#modelos-de-dados","title":"Modelos de Dados","text":""},{"location":"api/reports/#reportsummary","title":"ReportSummary","text":"<pre><code>{\n  \"periodo\": \"string\",\n  \"dataInicio\": \"datetime\",\n  \"dataFim\": \"datetime\",\n  \"totalReceitas\": \"decimal\",\n  \"totalDespesas\": \"decimal\",\n  \"saldoLiquido\": \"decimal\",\n  \"transacoesCount\": \"integer\",\n  \"categoriasCount\": \"integer\"\n}\n</code></pre>"},{"location":"api/reports/#categoryreport","title":"CategoryReport","text":"<pre><code>{\n  \"categoria\": {\n    \"id\": \"string (uuid)\",\n    \"nome\": \"string\",\n    \"cor\": \"string (hex)\"\n  },\n  \"valor\": \"decimal\",\n  \"percentual\": \"decimal\",\n  \"transacoes\": \"integer\",\n  \"limite\": \"decimal\",\n  \"percentualLimite\": \"decimal\"\n}\n</code></pre>"},{"location":"api/reports/#trendanalysis","title":"TrendAnalysis","text":"<pre><code>{\n  \"tendencia\": \"crescente | decrescente | estavel\",\n  \"variacao\": \"decimal\",\n  \"percentualVariacao\": \"decimal\",\n  \"confianca\": \"alta | media | baixa\"\n}\n</code></pre>"},{"location":"api/reports/#get-apirelatoriosdashboard","title":"GET /api/relatorios/dashboard","text":"<p>Obt\u00e9m dados consolidados para o dashboard.</p>"},{"location":"api/reports/#headers","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/reports/#query-parameters","title":"Query Parameters","text":"<ul> <li><code>periodo</code> (optional): <code>mensal</code>, <code>trimestral</code>, <code>anual</code> (default: <code>mensal</code>)</li> <li><code>ano</code> (optional): Ano espec\u00edfico (default: ano atual)</li> <li><code>mes</code> (optional): M\u00eas espec\u00edfico (1-12, usado apenas com periodo=mensal)</li> </ul>"},{"location":"api/reports/#response-200-success","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"resumo\": {\n      \"periodo\": \"mensal\",\n      \"dataInicio\": \"2024-01-01T00:00:00Z\",\n      \"dataFim\": \"2024-01-31T23:59:59Z\",\n      \"totalReceitas\": 5300.00,\n      \"totalDespesas\": 2810.00,\n      \"saldoLiquido\": 2490.00,\n      \"transacoesCount\": 47,\n      \"categoriasCount\": 8\n    },\n    \"kpis\": {\n      \"taxaEconomia\": 47.0,\n      \"mediaDiaria\": 90.65,\n      \"crescimentoReceitas\": 10.5,\n      \"crescimentoDespesas\": 6.2,\n      \"eficienciaOrcamentaria\": 85.3\n    },\n    \"evolucaoMensal\": [\n      {\n        \"mes\": \"2024-01\",\n        \"receitas\": 5300.00,\n        \"despesas\": 2810.00,\n        \"saldo\": 2490.00\n      },\n      {\n        \"mes\": \"2023-12\",\n        \"receitas\": 4800.00,\n        \"despesas\": 2650.00,\n        \"saldo\": 2150.00\n      }\n    ],\n    \"topCategorias\": [\n      {\n        \"categoria\": {\n          \"id\": \"cat-123\",\n          \"nome\": \"Alimenta\u00e7\u00e3o\",\n          \"cor\": \"#10b981\"\n        },\n        \"valor\": 850.00,\n        \"percentual\": 30.2,\n        \"transacoes\": 15,\n        \"limite\": 800.00,\n        \"percentualLimite\": 106.25\n      }\n    ],\n    \"alertas\": [\n      {\n        \"tipo\": \"limite_excedido\",\n        \"categoria\": \"Alimenta\u00e7\u00e3o\",\n        \"valor\": 850.00,\n        \"limite\": 800.00,\n        \"severidade\": \"alta\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/reports/#get-apirelatorioscategorias","title":"GET /api/relatorios/categorias","text":"<p>Relat\u00f3rio detalhado por categorias.</p>"},{"location":"api/reports/#headers_1","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/reports/#query-parameters_1","title":"Query Parameters","text":"<ul> <li><code>periodo</code> (optional): <code>mensal</code>, <code>trimestral</code>, <code>anual</code> (default: <code>mensal</code>)</li> <li><code>tipo</code> (optional): <code>receita</code>, <code>despesa</code>, <code>todas</code> (default: <code>todas</code>)</li> <li><code>incluirInativas</code> (optional): <code>true</code>, <code>false</code> (default: <code>false</code>)</li> </ul>"},{"location":"api/reports/#response-200-success_1","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"periodo\": \"mensal\",\n    \"resumo\": {\n      \"totalCategorias\": 8,\n      \"categoriasComGastos\": 6,\n      \"categoriasAcimaDaMedia\": 3,\n      \"categoriaComMaiorGasto\": \"Alimenta\u00e7\u00e3o\",\n      \"valorMedioCategoria\": 351.25\n    },\n    \"categorias\": [\n      {\n        \"categoria\": {\n          \"id\": \"cat-123\",\n          \"nome\": \"Alimenta\u00e7\u00e3o\",\n          \"cor\": \"#10b981\",\n          \"icone\": \"utensils\"\n        },\n        \"valor\": 850.00,\n        \"percentual\": 30.2,\n        \"transacoes\": 15,\n        \"limite\": 800.00,\n        \"percentualLimite\": 106.25,\n        \"mediaTransacao\": 56.67,\n        \"tendencia\": {\n          \"tendencia\": \"crescente\",\n          \"variacao\": 70.00,\n          \"percentualVariacao\": 8.96,\n          \"confianca\": \"alta\"\n        },\n        \"evolucaoMensal\": [\n          {\n            \"mes\": \"2024-01\",\n            \"valor\": 850.00,\n            \"transacoes\": 15\n          },\n          {\n            \"mes\": \"2023-12\",\n            \"valor\": 780.00,\n            \"transacoes\": 12\n          }\n        ]\n      }\n    ],\n    \"insights\": [\n      {\n        \"tipo\": \"alerta\",\n        \"titulo\": \"Categoria Alimenta\u00e7\u00e3o acima do limite\",\n        \"descricao\": \"Voc\u00ea gastou R$ 50,00 a mais que o limite estabelecido\",\n        \"impacto\": \"alto\"\n      },\n      {\n        \"tipo\": \"oportunidade\",\n        \"titulo\": \"Economia em Transporte\",\n        \"descricao\": \"Voc\u00ea economizou 15% em transporte comparado ao m\u00eas anterior\",\n        \"impacto\": \"positivo\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/reports/#get-apirelatoriosmensal","title":"GET /api/relatorios/mensal","text":"<p>Relat\u00f3rio mensal detalhado.</p>"},{"location":"api/reports/#headers_2","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/reports/#query-parameters_2","title":"Query Parameters","text":"<ul> <li><code>ano</code> (required): Ano (YYYY)</li> <li><code>mes</code> (required): M\u00eas (1-12)</li> <li><code>compararMesAnterior</code> (optional): <code>true</code>, <code>false</code> (default: <code>true</code>)</li> </ul>"},{"location":"api/reports/#response-200-success_2","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"periodo\": {\n      \"ano\": 2024,\n      \"mes\": 1,\n      \"nome\": \"Janeiro 2024\",\n      \"diasNoMes\": 31,\n      \"diasComTransacoes\": 18\n    },\n    \"resumoFinanceiro\": {\n      \"receitas\": 5300.00,\n      \"despesas\": 2810.00,\n      \"saldo\": 2490.00,\n      \"transacoes\": 47,\n      \"mediaTransacaoDia\": 2.61,\n      \"mediaDiaria\": 90.65\n    },\n    \"comparacaoMesAnterior\": {\n      \"receitas\": {\n        \"anterior\": 4800.00,\n        \"atual\": 5300.00,\n        \"variacao\": 500.00,\n        \"percentual\": 10.42\n      },\n      \"despesas\": {\n        \"anterior\": 2650.00,\n        \"atual\": 2810.00,\n        \"variacao\": 160.00,\n        \"percentual\": 6.04\n      },\n      \"saldo\": {\n        \"anterior\": 2150.00,\n        \"atual\": 2490.00,\n        \"variacao\": 340.00,\n        \"percentual\": 15.81\n      }\n    },\n    \"distribuicaoPorSemana\": [\n      {\n        \"semana\": 1,\n        \"dataInicio\": \"2024-01-01\",\n        \"dataFim\": \"2024-01-07\",\n        \"receitas\": 4500.00,\n        \"despesas\": 245.30,\n        \"saldo\": 4254.70,\n        \"transacoes\": 3\n      }\n    ],\n    \"distribuicaoPorCategoria\": [\n      {\n        \"categoria\": {\n          \"id\": \"cat-123\",\n          \"nome\": \"Alimenta\u00e7\u00e3o\",\n          \"cor\": \"#10b981\"\n        },\n        \"valor\": 850.00,\n        \"percentual\": 30.2,\n        \"transacoes\": 15,\n        \"limite\": 800.00,\n        \"status\": \"acima_limite\"\n      }\n    ],\n    \"padroes\": {\n      \"diaSemanaComMaisGastos\": {\n        \"dia\": \"sexta-feira\",\n        \"valor\": 456.80,\n        \"transacoes\": 8\n      },\n      \"horarioComMaisGastos\": {\n        \"periodo\": \"18:00-20:00\",\n        \"valor\": 234.50,\n        \"transacoes\": 5\n      },\n      \"maiorTransacao\": {\n        \"id\": \"trans-123\",\n        \"descricao\": \"Sal\u00e1rio Janeiro\",\n        \"valor\": 4500.00,\n        \"tipo\": \"receita\",\n        \"data\": \"2024-01-01\"\n      }\n    },\n    \"metas\": {\n      \"economia\": {\n        \"meta\": 2000.00,\n        \"realizado\": 2490.00,\n        \"percentual\": 124.5,\n        \"status\": \"superada\"\n      },\n      \"gastos\": {\n        \"meta\": 3000.00,\n        \"realizado\": 2810.00,\n        \"percentual\": 93.7,\n        \"status\": \"dentro_meta\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"api/reports/#get-apirelatoriostendencias","title":"GET /api/relatorios/tendencias","text":"<p>An\u00e1lise de tend\u00eancias financeiras.</p>"},{"location":"api/reports/#headers_3","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/reports/#query-parameters_3","title":"Query Parameters","text":"<ul> <li><code>periodo</code> (optional): <code>6meses</code>, <code>1ano</code>, <code>2anos</code> (default: <code>6meses</code>)</li> <li><code>metrica</code> (optional): <code>receitas</code>, <code>despesas</code>, <code>saldo</code>, <code>todas</code> (default: <code>todas</code>)</li> </ul>"},{"location":"api/reports/#response-200-success_3","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"periodo\": \"6meses\",\n    \"analise\": {\n      \"receitas\": {\n        \"tendencia\": \"crescente\",\n        \"variacao\": 650.00,\n        \"percentualVariacao\": 13.5,\n        \"confianca\": \"alta\",\n        \"projecao6Meses\": 5850.00\n      },\n      \"despesas\": {\n        \"tendencia\": \"estavel\",\n        \"variacao\": 45.00,\n        \"percentualVariacao\": 1.6,\n        \"confianca\": \"media\",\n        \"projecao6Meses\": 2855.00\n      },\n      \"saldo\": {\n        \"tendencia\": \"crescente\",\n        \"variacao\": 605.00,\n        \"percentualVariacao\": 32.1,\n        \"confianca\": \"alta\",\n        \"projecao6Meses\": 2995.00\n      }\n    },\n    \"evolucaoMensal\": [\n      {\n        \"mes\": \"2024-01\",\n        \"receitas\": 5300.00,\n        \"despesas\": 2810.00,\n        \"saldo\": 2490.00\n      },\n      {\n        \"mes\": \"2023-12\",\n        \"receitas\": 4800.00,\n        \"despesas\": 2650.00,\n        \"saldo\": 2150.00\n      }\n    ],\n    \"sazonalidade\": {\n      \"mesesComMaiorReceita\": [\"Janeiro\", \"Julho\", \"Dezembro\"],\n      \"mesesComMaiorDespesa\": [\"Dezembro\", \"Janeiro\", \"Julho\"],\n      \"padraoIdentificado\": \"Gastos elevados em feriados e f\u00e9rias\"\n    },\n    \"recomendacoes\": [\n      {\n        \"tipo\": \"economia\",\n        \"titulo\": \"Oportunidade de economia em Dezembro\",\n        \"descricao\": \"Baseado no hist\u00f3rico, voc\u00ea pode economizar 15% planejando melhor os gastos de fim de ano\",\n        \"impactoEstimado\": 421.50\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/reports/#get-apirelatoriosmetas","title":"GET /api/relatorios/metas","text":"<p>Relat\u00f3rio de acompanhamento de metas.</p>"},{"location":"api/reports/#headers_4","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/reports/#query-parameters_4","title":"Query Parameters","text":"<ul> <li><code>periodo</code> (optional): <code>mensal</code>, <code>anual</code> (default: <code>mensal</code>)</li> <li><code>status</code> (optional): <code>ativas</code>, <code>concluidas</code>, <code>todas</code> (default: <code>ativas</code>)</li> </ul>"},{"location":"api/reports/#response-200-success_4","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"resumo\": {\n      \"totalMetas\": 5,\n      \"metasAtivas\": 3,\n      \"metasConcluidas\": 1,\n      \"metasAtrasadas\": 1,\n      \"percentualGeralCumprimento\": 78.5\n    },\n    \"metas\": [\n      {\n        \"id\": \"meta-123\",\n        \"titulo\": \"Economia Mensal\",\n        \"descricao\": \"Economizar R$ 2.000 por m\u00eas\",\n        \"tipo\": \"economia\",\n        \"valorMeta\": 2000.00,\n        \"valorAtual\": 2490.00,\n        \"percentualCumprimento\": 124.5,\n        \"status\": \"superada\",\n        \"prazo\": \"2024-01-31\",\n        \"categoria\": null,\n        \"historico\": [\n          {\n            \"data\": \"2024-01-31\",\n            \"valor\": 2490.00,\n            \"percentual\": 124.5\n          },\n          {\n            \"data\": \"2023-12-31\",\n            \"valor\": 2150.00,\n            \"percentual\": 107.5\n          }\n        ]\n      }\n    ],\n    \"insights\": [\n      {\n        \"tipo\": \"parabens\",\n        \"titulo\": \"Meta de economia superada!\",\n        \"descricao\": \"Voc\u00ea economizou R$ 490,00 a mais que sua meta mensal\",\n        \"impacto\": \"positivo\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/reports/#get-apirelatorioscomparativo","title":"GET /api/relatorios/comparativo","text":"<p>Relat\u00f3rio comparativo entre per\u00edodos.</p>"},{"location":"api/reports/#headers_5","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/reports/#query-parameters_5","title":"Query Parameters","text":"<ul> <li><code>periodo1</code> (required): Data in\u00edcio per\u00edodo 1 (YYYY-MM-DD)</li> <li><code>periodo1Fim</code> (required): Data fim per\u00edodo 1 (YYYY-MM-DD)</li> <li><code>periodo2</code> (required): Data in\u00edcio per\u00edodo 2 (YYYY-MM-DD)</li> <li><code>periodo2Fim</code> (required): Data fim per\u00edodo 2 (YYYY-MM-DD)</li> </ul>"},{"location":"api/reports/#response-200-success_5","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"periodo1\": {\n      \"nome\": \"Janeiro 2024\",\n      \"dataInicio\": \"2024-01-01\",\n      \"dataFim\": \"2024-01-31\",\n      \"receitas\": 5300.00,\n      \"despesas\": 2810.00,\n      \"saldo\": 2490.00,\n      \"transacoes\": 47\n    },\n    \"periodo2\": {\n      \"nome\": \"Dezembro 2023\",\n      \"dataInicio\": \"2023-12-01\",\n      \"dataFim\": \"2023-12-31\",\n      \"receitas\": 4800.00,\n      \"despesas\": 2650.00,\n      \"saldo\": 2150.00,\n      \"transacoes\": 42\n    },\n    \"comparacao\": {\n      \"receitas\": {\n        \"diferenca\": 500.00,\n        \"percentual\": 10.42,\n        \"tendencia\": \"positiva\"\n      },\n      \"despesas\": {\n        \"diferenca\": 160.00,\n        \"percentual\": 6.04,\n        \"tendencia\": \"negativa\"\n      },\n      \"saldo\": {\n        \"diferenca\": 340.00,\n        \"percentual\": 15.81,\n        \"tendencia\": \"positiva\"\n      }\n    },\n    \"categoriasMaisImpactadas\": [\n      {\n        \"categoria\": \"Alimenta\u00e7\u00e3o\",\n        \"periodo1\": 850.00,\n        \"periodo2\": 780.00,\n        \"diferenca\": 70.00,\n        \"percentual\": 8.97\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/reports/#post-apirelatoriosgerar","title":"POST /api/relatorios/gerar","text":"<p>Gera relat\u00f3rio personalizado em PDF/Excel.</p>"},{"location":"api/reports/#headers_6","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/reports/#request-body","title":"Request Body","text":"<pre><code>{\n  \"tipo\": \"completo\",\n  \"formato\": \"pdf\",\n  \"periodo\": {\n    \"dataInicio\": \"2024-01-01\",\n    \"dataFim\": \"2024-01-31\"\n  },\n  \"secoes\": [\n    \"resumo_financeiro\",\n    \"categorias\",\n    \"tendencias\",\n    \"metas\",\n    \"graficos\"\n  ],\n  \"filtros\": {\n    \"categorias\": [\"cat-123\", \"cat-456\"],\n    \"tipoTransacao\": \"todas\"\n  },\n  \"configuracoes\": {\n    \"incluirGraficos\": true,\n    \"incluirDetalhes\": true,\n    \"idioma\": \"pt-BR\"\n  }\n}\n</code></pre>"},{"location":"api/reports/#response-200-success_6","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"relatorio-123e4567-e89b-12d3-a456-426614174000\",\n    \"status\": \"processando\",\n    \"estimativaMinutos\": 2,\n    \"urlDownload\": null,\n    \"dataCriacao\": \"2024-01-21T15:30:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/reports/#get-apirelatoriosiddownload","title":"GET /api/relatorios/{id}/download","text":"<p>Faz download de relat\u00f3rio gerado.</p>"},{"location":"api/reports/#headers_7","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\n</code></pre>"},{"location":"api/reports/#path-parameters","title":"Path Parameters","text":"<ul> <li><code>id</code>: UUID do relat\u00f3rio</li> </ul>"},{"location":"api/reports/#response-200-success_7","title":"Response 200 - Success","text":"<pre><code>Content-Type: application/pdf\nContent-Disposition: attachment; filename=\"relatorio_janeiro_2024.pdf\"\n\n[Conte\u00fado bin\u00e1rio do PDF]\n</code></pre>"},{"location":"api/reports/#codigos-de-erro","title":"C\u00f3digos de Erro","text":"C\u00f3digo Descri\u00e7\u00e3o <code>INVALID_DATE_RANGE</code> Intervalo de datas inv\u00e1lido <code>REPORT_NOT_FOUND</code> Relat\u00f3rio n\u00e3o encontrado <code>REPORT_GENERATION_FAILED</code> Falha na gera\u00e7\u00e3o do relat\u00f3rio <code>INSUFFICIENT_DATA</code> Dados insuficientes para an\u00e1lise <code>INVALID_PERIOD</code> Per\u00edodo inv\u00e1lido"},{"location":"api/reports/#exemplos-de-uso","title":"Exemplos de Uso","text":""},{"location":"api/reports/#curl-dashboard","title":"cURL - Dashboard","text":"<pre><code>curl -X GET \"https://api.spendwise.com/api/relatorios/dashboard?periodo=mensal\" \\\n  -H \"Authorization: Bearer seu_token_aqui\" \\\n  -H \"Content-Type: application/json\"\n</code></pre>"},{"location":"api/reports/#javascript-relatorio-de-categorias","title":"JavaScript - Relat\u00f3rio de Categorias","text":"<pre><code>const response = await fetch('/api/relatorios/categorias?periodo=mensal&amp;tipo=despesa', {\n  headers: {\n    'Authorization': `Bearer ${token}`,\n    'Content-Type': 'application/json'\n  }\n});\n\nconst { data: relatorio } = await response.json();\n</code></pre>"},{"location":"api/reports/#python-gerar-relatorio-pdf","title":"Python - Gerar Relat\u00f3rio PDF","text":"<pre><code>import requests\n\nheaders = {\n    'Authorization': f'Bearer {token}',\n    'Content-Type': 'application/json'\n}\n\npayload = {\n    'tipo': 'completo',\n    'formato': 'pdf',\n    'periodo': {\n        'dataInicio': '2024-01-01',\n        'dataFim': '2024-01-31'\n    },\n    'secoes': ['resumo_financeiro', 'categorias', 'graficos']\n}\n\nresponse = requests.post(\n    'https://api.spendwise.com/api/relatorios/gerar',\n    headers=headers,\n    json=payload\n)\n\nrelatorio = response.json()\n</code></pre>"},{"location":"api/transactions/","title":"API - Transa\u00e7\u00f5es","text":""},{"location":"api/transactions/#endpoints-de-transacoes","title":"Endpoints de Transa\u00e7\u00f5es","text":"<p>Esta se\u00e7\u00e3o documenta todos os endpoints relacionados ao gerenciamento de transa\u00e7\u00f5es no sistema SpendWise.</p>"},{"location":"api/transactions/#modelo-de-dados","title":"Modelo de Dados","text":""},{"location":"api/transactions/#transaction","title":"Transaction","text":"<pre><code>{\n  \"id\": \"string (uuid)\",\n  \"descricao\": \"string\",\n  \"valor\": \"decimal\",\n  \"tipo\": \"receita | despesa\",\n  \"data\": \"datetime\",\n  \"categoriaId\": \"string (uuid)\",\n  \"categoria\": {\n    \"id\": \"string (uuid)\",\n    \"nome\": \"string\",\n    \"cor\": \"string (hex)\"\n  },\n  \"observacoes\": \"string\",\n  \"tags\": [\"string\"],\n  \"anexos\": [\"string\"],\n  \"recorrente\": \"boolean\",\n  \"recorrencia\": {\n    \"tipo\": \"mensal | semanal | anual\",\n    \"intervalo\": \"integer\",\n    \"dataFim\": \"datetime\"\n  },\n  \"usuarioId\": \"string (uuid)\",\n  \"dataCriacao\": \"datetime\",\n  \"dataAtualizacao\": \"datetime\"\n}\n</code></pre>"},{"location":"api/transactions/#transactionsummary","title":"TransactionSummary","text":"<pre><code>{\n  \"totalReceitas\": \"decimal\",\n  \"totalDespesas\": \"decimal\",\n  \"saldoLiquido\": \"decimal\",\n  \"totalTransacoes\": \"integer\",\n  \"mediaTransacao\": \"decimal\",\n  \"maiorReceita\": \"decimal\",\n  \"maiorDespesa\": \"decimal\"\n}\n</code></pre>"},{"location":"api/transactions/#get-apitransacoes","title":"GET /api/transacoes","text":"<p>Lista todas as transa\u00e7\u00f5es do usu\u00e1rio autenticado.</p>"},{"location":"api/transactions/#headers","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/transactions/#query-parameters","title":"Query Parameters","text":"<ul> <li><code>tipo</code> (optional): <code>receita</code>, <code>despesa</code>, <code>todas</code> (default: <code>todas</code>)</li> <li><code>categoriaId</code> (optional): UUID da categoria</li> <li><code>dataInicio</code> (optional): Data in\u00edcio (YYYY-MM-DD)</li> <li><code>dataFim</code> (optional): Data fim (YYYY-MM-DD)</li> <li><code>descricao</code> (optional): Busca por descri\u00e7\u00e3o</li> <li><code>valorMin</code> (optional): Valor m\u00ednimo</li> <li><code>valorMax</code> (optional): Valor m\u00e1ximo</li> <li><code>page</code> (optional): P\u00e1gina (default: 1)</li> <li><code>limit</code> (optional): Itens por p\u00e1gina (default: 50, max: 100)</li> <li><code>orderBy</code> (optional): <code>data</code>, <code>valor</code>, <code>descricao</code> (default: <code>data</code>)</li> <li><code>orderDirection</code> (optional): <code>asc</code>, <code>desc</code> (default: <code>desc</code>)</li> </ul>"},{"location":"api/transactions/#response-200-success","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"trans-123e4567-e89b-12d3-a456-426614174000\",\n      \"descricao\": \"Supermercado Extra\",\n      \"valor\": 156.80,\n      \"tipo\": \"despesa\",\n      \"data\": \"2024-01-20T18:30:00Z\",\n      \"categoriaId\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n      \"categoria\": {\n        \"id\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n        \"nome\": \"Alimenta\u00e7\u00e3o\",\n        \"cor\": \"#10b981\"\n      },\n      \"observacoes\": \"Compras da semana\",\n      \"tags\": [\"mercado\", \"essencial\"],\n      \"anexos\": [],\n      \"recorrente\": false,\n      \"dataCriacao\": \"2024-01-20T18:35:00Z\",\n      \"dataAtualizacao\": \"2024-01-20T18:35:00Z\"\n    },\n    {\n      \"id\": \"trans-456e7890-e89b-12d3-a456-426614174001\",\n      \"descricao\": \"Sal\u00e1rio Janeiro\",\n      \"valor\": 4500.00,\n      \"tipo\": \"receita\",\n      \"data\": \"2024-01-01T00:00:00Z\",\n      \"categoriaId\": \"cat-456e7890-e89b-12d3-a456-426614174001\",\n      \"categoria\": {\n        \"id\": \"cat-456e7890-e89b-12d3-a456-426614174001\",\n        \"nome\": \"Sal\u00e1rio\",\n        \"cor\": \"#3b82f6\"\n      },\n      \"observacoes\": null,\n      \"tags\": [\"salario\", \"mensal\"],\n      \"anexos\": [],\n      \"recorrente\": true,\n      \"recorrencia\": {\n        \"tipo\": \"mensal\",\n        \"intervalo\": 1,\n        \"dataFim\": null\n      },\n      \"dataCriacao\": \"2024-01-01T09:00:00Z\",\n      \"dataAtualizacao\": \"2024-01-01T09:00:00Z\"\n    }\n  ],\n  \"meta\": {\n    \"currentPage\": 1,\n    \"totalPages\": 3,\n    \"totalItems\": 147,\n    \"itemsPerPage\": 50,\n    \"hasNextPage\": true,\n    \"hasPreviousPage\": false\n  },\n  \"summary\": {\n    \"totalReceitas\": 5300.00,\n    \"totalDespesas\": 2810.00,\n    \"saldoLiquido\": 2490.00,\n    \"totalTransacoes\": 47,\n    \"mediaTransacao\": 174.47\n  }\n}\n</code></pre>"},{"location":"api/transactions/#get-apitransacoesid","title":"GET /api/transacoes/{id}","text":"<p>Obt\u00e9m uma transa\u00e7\u00e3o espec\u00edfica por ID.</p>"},{"location":"api/transactions/#headers_1","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/transactions/#path-parameters","title":"Path Parameters","text":"<ul> <li><code>id</code>: UUID da transa\u00e7\u00e3o</li> </ul>"},{"location":"api/transactions/#response-200-success_1","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"trans-123e4567-e89b-12d3-a456-426614174000\",\n    \"descricao\": \"Supermercado Extra\",\n    \"valor\": 156.80,\n    \"tipo\": \"despesa\",\n    \"data\": \"2024-01-20T18:30:00Z\",\n    \"categoriaId\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n    \"categoria\": {\n      \"id\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n      \"nome\": \"Alimenta\u00e7\u00e3o\",\n      \"cor\": \"#10b981\",\n      \"limite\": 800.00,\n      \"gastoAtual\": 520.00\n    },\n    \"observacoes\": \"Compras da semana - frutas, verduras e prote\u00ednas\",\n    \"tags\": [\"mercado\", \"essencial\", \"saudavel\"],\n    \"anexos\": [\n      {\n        \"id\": \"anexo-123\",\n        \"nome\": \"nota_fiscal.pdf\",\n        \"url\": \"https://storage.spendwise.com/anexos/anexo-123.pdf\",\n        \"tamanho\": 245760,\n        \"tipo\": \"application/pdf\"\n      }\n    ],\n    \"recorrente\": false,\n    \"localizacao\": {\n      \"latitude\": -23.5505,\n      \"longitude\": -46.6333,\n      \"endereco\": \"Av. Paulista, 1000 - S\u00e3o Paulo, SP\"\n    },\n    \"dataCriacao\": \"2024-01-20T18:35:00Z\",\n    \"dataAtualizacao\": \"2024-01-20T18:35:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/transactions/#post-apitransacoes","title":"POST /api/transacoes","text":"<p>Cria uma nova transa\u00e7\u00e3o.</p>"},{"location":"api/transactions/#headers_2","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/transactions/#request-body","title":"Request Body","text":"<pre><code>{\n  \"descricao\": \"Almo\u00e7o Restaurante\",\n  \"valor\": 45.00,\n  \"tipo\": \"despesa\",\n  \"data\": \"2024-01-21T12:30:00Z\",\n  \"categoriaId\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n  \"observacoes\": \"Almo\u00e7o de neg\u00f3cios\",\n  \"tags\": [\"restaurante\", \"trabalho\"],\n  \"recorrente\": false\n}\n</code></pre>"},{"location":"api/transactions/#response-201-created","title":"Response 201 - Created","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"trans-789e0123-e89b-12d3-a456-426614174002\",\n    \"descricao\": \"Almo\u00e7o Restaurante\",\n    \"valor\": 45.00,\n    \"tipo\": \"despesa\",\n    \"data\": \"2024-01-21T12:30:00Z\",\n    \"categoriaId\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n    \"categoria\": {\n      \"id\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n      \"nome\": \"Alimenta\u00e7\u00e3o\",\n      \"cor\": \"#10b981\"\n    },\n    \"observacoes\": \"Almo\u00e7o de neg\u00f3cios\",\n    \"tags\": [\"restaurante\", \"trabalho\"],\n    \"anexos\": [],\n    \"recorrente\": false,\n    \"dataCriacao\": \"2024-01-21T12:35:00Z\",\n    \"dataAtualizacao\": \"2024-01-21T12:35:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/transactions/#response-400-bad-request","title":"Response 400 - Bad Request","text":"<pre><code>{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Dados inv\u00e1lidos\",\n    \"details\": [\n      {\n        \"field\": \"descricao\",\n        \"message\": \"Descri\u00e7\u00e3o \u00e9 obrigat\u00f3ria\"\n      },\n      {\n        \"field\": \"valor\",\n        \"message\": \"Valor deve ser maior que zero\"\n      },\n      {\n        \"field\": \"categoriaId\",\n        \"message\": \"Categoria n\u00e3o encontrada\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/transactions/#put-apitransacoesid","title":"PUT /api/transacoes/{id}","text":"<p>Atualiza uma transa\u00e7\u00e3o existente.</p>"},{"location":"api/transactions/#headers_3","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/transactions/#path-parameters_1","title":"Path Parameters","text":"<ul> <li><code>id</code>: UUID da transa\u00e7\u00e3o</li> </ul>"},{"location":"api/transactions/#request-body_1","title":"Request Body","text":"<pre><code>{\n  \"descricao\": \"Almo\u00e7o Restaurante Italiano\",\n  \"valor\": 52.00,\n  \"observacoes\": \"Almo\u00e7o de neg\u00f3cios - cliente importante\",\n  \"tags\": [\"restaurante\", \"trabalho\", \"italiano\"]\n}\n</code></pre>"},{"location":"api/transactions/#response-200-success_2","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"trans-789e0123-e89b-12d3-a456-426614174002\",\n    \"descricao\": \"Almo\u00e7o Restaurante Italiano\",\n    \"valor\": 52.00,\n    \"tipo\": \"despesa\",\n    \"data\": \"2024-01-21T12:30:00Z\",\n    \"categoriaId\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n    \"categoria\": {\n      \"id\": \"cat-123e4567-e89b-12d3-a456-426614174000\",\n      \"nome\": \"Alimenta\u00e7\u00e3o\",\n      \"cor\": \"#10b981\"\n    },\n    \"observacoes\": \"Almo\u00e7o de neg\u00f3cios - cliente importante\",\n    \"tags\": [\"restaurante\", \"trabalho\", \"italiano\"],\n    \"anexos\": [],\n    \"recorrente\": false,\n    \"dataAtualizacao\": \"2024-01-21T15:20:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/transactions/#delete-apitransacoesid","title":"DELETE /api/transacoes/{id}","text":"<p>Exclui uma transa\u00e7\u00e3o.</p>"},{"location":"api/transactions/#headers_4","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/transactions/#path-parameters_2","title":"Path Parameters","text":"<ul> <li><code>id</code>: UUID da transa\u00e7\u00e3o</li> </ul>"},{"location":"api/transactions/#response-200-success_3","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"message\": \"Transa\u00e7\u00e3o exclu\u00edda com sucesso\"\n}\n</code></pre>"},{"location":"api/transactions/#get-apitransacoesresumo","title":"GET /api/transacoes/resumo","text":"<p>Obt\u00e9m resumo das transa\u00e7\u00f5es por per\u00edodo.</p>"},{"location":"api/transactions/#headers_5","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/transactions/#query-parameters_1","title":"Query Parameters","text":"<ul> <li><code>periodo</code> (optional): <code>dia</code>, <code>semana</code>, <code>mes</code>, <code>ano</code> (default: <code>mes</code>)</li> <li><code>dataInicio</code> (optional): Data in\u00edcio (YYYY-MM-DD)</li> <li><code>dataFim</code> (optional): Data fim (YYYY-MM-DD)</li> <li><code>categoriaId</code> (optional): UUID da categoria</li> </ul>"},{"location":"api/transactions/#response-200-success_4","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"periodo\": \"mes\",\n    \"dataInicio\": \"2024-01-01\",\n    \"dataFim\": \"2024-01-31\",\n    \"resumo\": {\n      \"totalReceitas\": 5300.00,\n      \"totalDespesas\": 2810.00,\n      \"saldoLiquido\": 2490.00,\n      \"totalTransacoes\": 47,\n      \"mediaTransacao\": 174.47,\n      \"maiorReceita\": 4500.00,\n      \"maiorDespesa\": 350.90,\n      \"diasComTransacoes\": 18\n    },\n    \"evolucaoDiaria\": [\n      {\n        \"data\": \"2024-01-01\",\n        \"receitas\": 4500.00,\n        \"despesas\": 0.00,\n        \"saldo\": 4500.00,\n        \"transacoes\": 1\n      },\n      {\n        \"data\": \"2024-01-02\",\n        \"receitas\": 0.00,\n        \"despesas\": 156.80,\n        \"saldo\": -156.80,\n        \"transacoes\": 1\n      }\n    ],\n    \"porCategoria\": [\n      {\n        \"categoria\": {\n          \"id\": \"cat-123\",\n          \"nome\": \"Alimenta\u00e7\u00e3o\",\n          \"cor\": \"#10b981\"\n        },\n        \"valor\": 850.00,\n        \"percentual\": 30.2,\n        \"transacoes\": 15\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/transactions/#get-apitransacoesestatisticas","title":"GET /api/transacoes/estatisticas","text":"<p>Obt\u00e9m estat\u00edsticas avan\u00e7adas das transa\u00e7\u00f5es.</p>"},{"location":"api/transactions/#headers_6","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/transactions/#query-parameters_2","title":"Query Parameters","text":"<ul> <li><code>periodo</code> (optional): <code>mensal</code>, <code>trimestral</code>, <code>anual</code> (default: <code>mensal</code>)</li> <li><code>compararPeriodoAnterior</code> (optional): <code>true</code>, <code>false</code> (default: <code>true</code>)</li> </ul>"},{"location":"api/transactions/#response-200-success_5","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"periodo\": \"mensal\",\n    \"estatisticas\": {\n      \"totalReceitas\": 5300.00,\n      \"totalDespesas\": 2810.00,\n      \"saldoLiquido\": 2490.00,\n      \"taxaEconomia\": 47.0,\n      \"mediaDiaria\": 90.65,\n      \"tendencia\": \"positiva\",\n      \"volatilidade\": \"baixa\"\n    },\n    \"comparacao\": {\n      \"periodoAnterior\": {\n        \"totalReceitas\": 4800.00,\n        \"totalDespesas\": 2650.00,\n        \"saldoLiquido\": 2150.00\n      },\n      \"variacao\": {\n        \"receitas\": {\n          \"valor\": 500.00,\n          \"percentual\": 10.42\n        },\n        \"despesas\": {\n          \"valor\": 160.00,\n          \"percentual\": 6.04\n        },\n        \"saldo\": {\n          \"valor\": 340.00,\n          \"percentual\": 15.81\n        }\n      }\n    },\n    \"padroes\": {\n      \"diaSemanaComMaisGastos\": \"sexta\",\n      \"horarioComMaisGastos\": \"18:00-20:00\",\n      \"categoriaComMaiorCrescimento\": \"Alimenta\u00e7\u00e3o\",\n      \"mediaPorTransacao\": 59.79\n    }\n  }\n}\n</code></pre>"},{"location":"api/transactions/#post-apitransacoesrecorrentes","title":"POST /api/transacoes/recorrentes","text":"<p>Cria uma transa\u00e7\u00e3o recorrente.</p>"},{"location":"api/transactions/#headers_7","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/transactions/#request-body_2","title":"Request Body","text":"<pre><code>{\n  \"descricao\": \"Sal\u00e1rio Mensal\",\n  \"valor\": 4500.00,\n  \"tipo\": \"receita\",\n  \"categoriaId\": \"cat-456e7890-e89b-12d3-a456-426614174001\",\n  \"dataInicio\": \"2024-01-01\",\n  \"recorrencia\": {\n    \"tipo\": \"mensal\",\n    \"intervalo\": 1,\n    \"diaDoMes\": 1,\n    \"dataFim\": null\n  },\n  \"observacoes\": \"Sal\u00e1rio fixo mensal\"\n}\n</code></pre>"},{"location":"api/transactions/#response-201-created_1","title":"Response 201 - Created","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"recorrente-123e4567-e89b-12d3-a456-426614174000\",\n    \"descricao\": \"Sal\u00e1rio Mensal\",\n    \"valor\": 4500.00,\n    \"tipo\": \"receita\",\n    \"categoriaId\": \"cat-456e7890-e89b-12d3-a456-426614174001\",\n    \"dataInicio\": \"2024-01-01\",\n    \"recorrencia\": {\n      \"tipo\": \"mensal\",\n      \"intervalo\": 1,\n      \"diaDoMes\": 1,\n      \"dataFim\": null\n    },\n    \"proximasOcorrencias\": [\n      \"2024-02-01\",\n      \"2024-03-01\",\n      \"2024-04-01\"\n    ],\n    \"ativo\": true\n  }\n}\n</code></pre>"},{"location":"api/transactions/#post-apitransacoesimportar","title":"POST /api/transacoes/importar","text":"<p>Importa transa\u00e7\u00f5es de arquivo CSV/Excel.</p>"},{"location":"api/transactions/#headers_8","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: multipart/form-data\n</code></pre>"},{"location":"api/transactions/#request-body-form-data","title":"Request Body (Form Data)","text":"<ul> <li><code>arquivo</code>: Arquivo CSV/Excel</li> <li><code>mapeamento</code>: JSON com mapeamento das colunas</li> <li><code>ignorarDuplicatas</code>: boolean (default: true)</li> </ul>"},{"location":"api/transactions/#response-200-success_6","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"totalLinhas\": 150,\n    \"transacoesImportadas\": 142,\n    \"transacoesIgnoradas\": 8,\n    \"erros\": [\n      {\n        \"linha\": 15,\n        \"erro\": \"Categoria n\u00e3o encontrada: 'Categoria Inexistente'\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/transactions/#get-apitransacoesexportar","title":"GET /api/transacoes/exportar","text":"<p>Exporta transa\u00e7\u00f5es para CSV/Excel.</p>"},{"location":"api/transactions/#headers_9","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/transactions/#query-parameters_3","title":"Query Parameters","text":"<ul> <li><code>formato</code> (optional): <code>csv</code>, <code>xlsx</code> (default: <code>csv</code>)</li> <li><code>dataInicio</code> (optional): Data in\u00edcio (YYYY-MM-DD)</li> <li><code>dataFim</code> (optional): Data fim (YYYY-MM-DD)</li> <li><code>categorias</code> (optional): IDs das categorias separados por v\u00edrgula</li> </ul>"},{"location":"api/transactions/#response-200-success_7","title":"Response 200 - Success","text":"<pre><code>Content-Type: application/octet-stream\nContent-Disposition: attachment; filename=\"transacoes_2024-01.csv\"\n\nData,Descri\u00e7\u00e3o,Valor,Tipo,Categoria,Observa\u00e7\u00f5es\n2024-01-20,Supermercado Extra,156.80,despesa,Alimenta\u00e7\u00e3o,Compras da semana\n2024-01-19,Freelance Design,800.00,receita,Trabalho,Projeto cliente X\n</code></pre>"},{"location":"api/transactions/#codigos-de-erro","title":"C\u00f3digos de Erro","text":"C\u00f3digo Descri\u00e7\u00e3o <code>TRANSACTION_NOT_FOUND</code> Transa\u00e7\u00e3o n\u00e3o encontrada <code>CATEGORY_NOT_FOUND</code> Categoria n\u00e3o encontrada <code>INVALID_DATE_RANGE</code> Intervalo de datas inv\u00e1lido <code>INVALID_AMOUNT</code> Valor da transa\u00e7\u00e3o inv\u00e1lido <code>DUPLICATE_TRANSACTION</code> Transa\u00e7\u00e3o duplicada <code>IMPORT_FAILED</code> Falha na importa\u00e7\u00e3o <code>EXPORT_FAILED</code> Falha na exporta\u00e7\u00e3o"},{"location":"api/transactions/#exemplos-de-uso","title":"Exemplos de Uso","text":""},{"location":"api/transactions/#curl-criar-transacao","title":"cURL - Criar Transa\u00e7\u00e3o","text":"<pre><code>curl -X POST \"https://api.spendwise.com/api/transacoes\" \\\n  -H \"Authorization: Bearer seu_token_aqui\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"descricao\": \"Uber para trabalho\",\n    \"valor\": 25.50,\n    \"tipo\": \"despesa\",\n    \"data\": \"2024-01-21T08:30:00Z\",\n    \"categoriaId\": \"cat-transporte-123\",\n    \"tags\": [\"transporte\", \"trabalho\"]\n  }'\n</code></pre>"},{"location":"api/transactions/#javascript-listar-transacoes","title":"JavaScript - Listar Transa\u00e7\u00f5es","text":"<pre><code>const response = await fetch('/api/transacoes?page=1&amp;limit=20&amp;orderBy=data', {\n  headers: {\n    'Authorization': `Bearer ${token}`,\n    'Content-Type': 'application/json'\n  }\n});\n\nconst { data: transacoes, meta, summary } = await response.json();\n</code></pre>"},{"location":"api/transactions/#python-obter-resumo","title":"Python - Obter Resumo","text":"<pre><code>import requests\nfrom datetime import datetime, timedelta\n\n# \u00daltimos 30 dias\ndata_fim = datetime.now()\ndata_inicio = data_fim - timedelta(days=30)\n\nheaders = {\n    'Authorization': f'Bearer {token}',\n    'Content-Type': 'application/json'\n}\n\nresponse = requests.get(\n    'https://api.spendwise.com/api/transacoes/resumo',\n    headers=headers,\n    params={\n        'dataInicio': data_inicio.strftime('%Y-%m-%d'),\n        'dataFim': data_fim.strftime('%Y-%m-%d')\n    }\n)\n\nresumo = response.json()\n</code></pre>"},{"location":"api/users/","title":"API - Usu\u00e1rios","text":""},{"location":"api/users/#endpoints-de-usuarios","title":"Endpoints de Usu\u00e1rios","text":"<p>Esta se\u00e7\u00e3o documenta todos os endpoints relacionados ao gerenciamento de usu\u00e1rios no sistema SpendWise.</p>"},{"location":"api/users/#modelo-de-dados","title":"Modelo de Dados","text":""},{"location":"api/users/#user","title":"User","text":"<pre><code>{\n  \"id\": \"string (uuid)\",\n  \"nome\": \"string\",\n  \"email\": \"string\",\n  \"telefone\": \"string\",\n  \"rendaMensal\": \"decimal\",\n  \"dataCriacao\": \"datetime\",\n  \"dataAtualizacao\": \"datetime\",\n  \"ativo\": \"boolean\"\n}\n</code></pre>"},{"location":"api/users/#userprofile","title":"UserProfile","text":"<pre><code>{\n  \"id\": \"string (uuid)\",\n  \"nome\": \"string\",\n  \"email\": \"string\",\n  \"telefone\": \"string\",\n  \"rendaMensal\": \"decimal\",\n  \"configuracoes\": {\n    \"tema\": \"string\",\n    \"moeda\": \"string\",\n    \"formatoData\": \"string\",\n    \"notificacoes\": {\n      \"email\": \"boolean\",\n      \"push\": \"boolean\",\n      \"relatorioMensal\": \"boolean\"\n    }\n  }\n}\n</code></pre>"},{"location":"api/users/#get-apiusuariosprofile","title":"GET /api/usuarios/profile","text":"<p>Obt\u00e9m o perfil do usu\u00e1rio autenticado.</p>"},{"location":"api/users/#headers","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/users/#response-200-success","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n    \"nome\": \"Jo\u00e3o Silva\",\n    \"email\": \"joao.silva@email.com\",\n    \"telefone\": \"(11) 99999-9999\",\n    \"rendaMensal\": 5000.00,\n    \"configuracoes\": {\n      \"tema\": \"system\",\n      \"moeda\": \"BRL\",\n      \"formatoData\": \"DD/MM/YYYY\",\n      \"notificacoes\": {\n        \"email\": true,\n        \"push\": false,\n        \"relatorioMensal\": true\n      }\n    },\n    \"dataCriacao\": \"2024-01-15T10:30:00Z\",\n    \"dataAtualizacao\": \"2024-01-20T14:45:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/users/#response-401-unauthorized","title":"Response 401 - Unauthorized","text":"<pre><code>{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"UNAUTHORIZED\",\n    \"message\": \"Token de acesso inv\u00e1lido ou expirado\"\n  }\n}\n</code></pre>"},{"location":"api/users/#put-apiusuariosprofile","title":"PUT /api/usuarios/profile","text":"<p>Atualiza o perfil do usu\u00e1rio autenticado.</p>"},{"location":"api/users/#headers_1","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/users/#request-body","title":"Request Body","text":"<pre><code>{\n  \"nome\": \"Jo\u00e3o Silva Santos\",\n  \"telefone\": \"(11) 88888-8888\",\n  \"rendaMensal\": 5500.00\n}\n</code></pre>"},{"location":"api/users/#response-200-success_1","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n    \"nome\": \"Jo\u00e3o Silva Santos\",\n    \"email\": \"joao.silva@email.com\",\n    \"telefone\": \"(11) 88888-8888\",\n    \"rendaMensal\": 5500.00,\n    \"dataAtualizacao\": \"2024-01-21T09:15:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/users/#response-400-bad-request","title":"Response 400 - Bad Request","text":"<pre><code>{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Dados inv\u00e1lidos\",\n    \"details\": [\n      {\n        \"field\": \"nome\",\n        \"message\": \"Nome \u00e9 obrigat\u00f3rio\"\n      },\n      {\n        \"field\": \"rendaMensal\",\n        \"message\": \"Renda mensal deve ser maior que zero\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/users/#put-apiusuariosconfiguracoes","title":"PUT /api/usuarios/configuracoes","text":"<p>Atualiza as configura\u00e7\u00f5es do usu\u00e1rio.</p>"},{"location":"api/users/#headers_2","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/users/#request-body_1","title":"Request Body","text":"<pre><code>{\n  \"tema\": \"dark\",\n  \"moeda\": \"BRL\",\n  \"formatoData\": \"DD/MM/YYYY\",\n  \"inicioSemana\": \"segunda\",\n  \"notificacoes\": {\n    \"email\": true,\n    \"push\": true,\n    \"relatorioMensal\": true,\n    \"alertasLimite\": true\n  }\n}\n</code></pre>"},{"location":"api/users/#response-200-success_2","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"tema\": \"dark\",\n    \"moeda\": \"BRL\",\n    \"formatoData\": \"DD/MM/YYYY\",\n    \"inicioSemana\": \"segunda\",\n    \"notificacoes\": {\n      \"email\": true,\n      \"push\": true,\n      \"relatorioMensal\": true,\n      \"alertasLimite\": true\n    },\n    \"dataAtualizacao\": \"2024-01-21T10:30:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/users/#put-apiusuariossenha","title":"PUT /api/usuarios/senha","text":"<p>Altera a senha do usu\u00e1rio.</p>"},{"location":"api/users/#headers_3","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/users/#request-body_2","title":"Request Body","text":"<pre><code>{\n  \"senhaAtual\": \"senhaAtual123\",\n  \"novaSenha\": \"novaSenha456\",\n  \"confirmarSenha\": \"novaSenha456\"\n}\n</code></pre>"},{"location":"api/users/#response-200-success_3","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"message\": \"Senha alterada com sucesso\"\n}\n</code></pre>"},{"location":"api/users/#response-400-bad-request_1","title":"Response 400 - Bad Request","text":"<pre><code>{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"INVALID_PASSWORD\",\n    \"message\": \"Senha atual incorreta\"\n  }\n}\n</code></pre>"},{"location":"api/users/#get-apiusuariosestatisticas","title":"GET /api/usuarios/estatisticas","text":"<p>Obt\u00e9m estat\u00edsticas do usu\u00e1rio.</p>"},{"location":"api/users/#headers_4","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/users/#query-parameters","title":"Query Parameters","text":"<ul> <li><code>periodo</code> (optional): <code>mensal</code>, <code>trimestral</code>, <code>anual</code> (default: <code>mensal</code>)</li> </ul>"},{"location":"api/users/#response-200-success_4","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"periodo\": \"mensal\",\n    \"totalTransacoes\": 47,\n    \"totalCategorias\": 8,\n    \"totalReceitas\": 5300.00,\n    \"totalDespesas\": 2810.00,\n    \"saldoAtual\": 2490.00,\n    \"metaEconomia\": {\n      \"valor\": 1000.00,\n      \"progresso\": 149.0,\n      \"atingida\": true\n    },\n    \"categoriasMaisGastas\": [\n      {\n        \"nome\": \"Alimenta\u00e7\u00e3o\",\n        \"valor\": 850.00,\n        \"percentual\": 30.2\n      },\n      {\n        \"nome\": \"Transporte\",\n        \"valor\": 680.00,\n        \"percentual\": 24.2\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/users/#delete-apiusuariosconta","title":"DELETE /api/usuarios/conta","text":"<p>Exclui a conta do usu\u00e1rio (soft delete).</p>"},{"location":"api/users/#headers_5","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/users/#request-body_3","title":"Request Body","text":"<pre><code>{\n  \"senha\": \"senhaConfirmacao123\",\n  \"confirmacao\": \"EXCLUIR CONTA\"\n}\n</code></pre>"},{"location":"api/users/#response-200-success_5","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"message\": \"Conta exclu\u00edda com sucesso. Voc\u00ea tem 30 dias para recuper\u00e1-la.\"\n}\n</code></pre>"},{"location":"api/users/#response-400-bad-request_2","title":"Response 400 - Bad Request","text":"<pre><code>{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"INVALID_CONFIRMATION\",\n    \"message\": \"Confirma\u00e7\u00e3o inv\u00e1lida. Digite 'EXCLUIR CONTA' para confirmar.\"\n  }\n}\n</code></pre>"},{"location":"api/users/#get-apiusuariosexportar","title":"GET /api/usuarios/exportar","text":"<p>Exporta todos os dados do usu\u00e1rio.</p>"},{"location":"api/users/#headers_6","title":"Headers","text":"<pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre>"},{"location":"api/users/#query-parameters_1","title":"Query Parameters","text":"<ul> <li><code>formato</code> (optional): <code>json</code>, <code>csv</code>, <code>xlsx</code> (default: <code>json</code>)</li> </ul>"},{"location":"api/users/#response-200-success_6","title":"Response 200 - Success","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"usuario\": { /* dados do usu\u00e1rio */ },\n    \"transacoes\": [ /* todas as transa\u00e7\u00f5es */ ],\n    \"categorias\": [ /* todas as categorias */ ],\n    \"orcamentos\": [ /* todos os or\u00e7amentos */ ],\n    \"fechamentos\": [ /* todos os fechamentos */ ],\n    \"dataExportacao\": \"2024-01-21T15:30:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/users/#codigos-de-erro","title":"C\u00f3digos de Erro","text":"C\u00f3digo Descri\u00e7\u00e3o <code>UNAUTHORIZED</code> Token inv\u00e1lido ou expirado <code>VALIDATION_ERROR</code> Dados de entrada inv\u00e1lidos <code>USER_NOT_FOUND</code> Usu\u00e1rio n\u00e3o encontrado <code>INVALID_PASSWORD</code> Senha atual incorreta <code>INVALID_CONFIRMATION</code> Confirma\u00e7\u00e3o de exclus\u00e3o inv\u00e1lida <code>EXPORT_FAILED</code> Falha na exporta\u00e7\u00e3o de dados"},{"location":"api/users/#exemplos-de-uso","title":"Exemplos de Uso","text":""},{"location":"api/users/#curl-obter-perfil","title":"cURL - Obter Perfil","text":"<pre><code>curl -X GET \"https://api.spendwise.com/api/usuarios/profile\" \\\n  -H \"Authorization: Bearer seu_token_aqui\" \\\n  -H \"Content-Type: application/json\"\n</code></pre>"},{"location":"api/users/#javascript-atualizar-perfil","title":"JavaScript - Atualizar Perfil","text":"<pre><code>const response = await fetch('/api/usuarios/profile', {\n  method: 'PUT',\n  headers: {\n    'Authorization': `Bearer ${token}`,\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    nome: 'Jo\u00e3o Silva Santos',\n    telefone: '(11) 88888-8888',\n    rendaMensal: 5500.00\n  })\n});\n\nconst data = await response.json();\n</code></pre>"},{"location":"api/users/#python-obter-estatisticas","title":"Python - Obter Estat\u00edsticas","text":"<pre><code>import requests\n\nheaders = {\n    'Authorization': f'Bearer {token}',\n    'Content-Type': 'application/json'\n}\n\nresponse = requests.get(\n    'https://api.spendwise.com/api/usuarios/estatisticas',\n    headers=headers,\n    params={'periodo': 'mensal'}\n)\n\ndata = response.json()\n</code></pre>"},{"location":"auth-service/","title":"\ud83d\udd10 SpendWise Auth","text":"<p>Microservi\u00e7o independente de autentica\u00e7\u00e3o e gerenciamento de usu\u00e1rios do SpendWise.</p>"},{"location":"auth-service/#visao-geral","title":"\ud83d\udccb Vis\u00e3o Geral","text":"<p>O SpendWise Auth \u00e9 um servi\u00e7o dedicado exclusivamente \u00e0 autentica\u00e7\u00e3o, desenvolvido com ASP.NET Core 9.0 seguindo os princ\u00edpios de Clean Architecture, CQRS, Rich Domain e Value Objects.</p>"},{"location":"auth-service/#motivacao","title":"Motiva\u00e7\u00e3o","text":"<p>A separa\u00e7\u00e3o do servi\u00e7o de autentica\u00e7\u00e3o do backend principal oferece:</p> <ul> <li>\u2705 Separa\u00e7\u00e3o de Responsabilidades: Cada servi\u00e7o tem uma \u00fanica responsabilidade</li> <li>\u2705 Escalabilidade Independente: Escalar autentica\u00e7\u00e3o sem afetar outros servi\u00e7os</li> <li>\u2705 Manuten\u00e7\u00e3o Facilitada: C\u00f3digo mais organizado e f\u00e1cil de manter</li> <li>\u2705 Reutiliza\u00e7\u00e3o: Pode ser usado por outros projetos</li> <li>\u2705 Seguran\u00e7a: Isolamento de dados sens\u00edveis</li> </ul>"},{"location":"auth-service/#arquitetura","title":"\ud83c\udfd7\ufe0f Arquitetura","text":"<p>O projeto segue Clean Architecture com 4 camadas bem definidas:</p> <pre><code>SpendWise-Auth/\n\u251c\u2500\u2500 SpendWise.Auth.Domain/          # Entidades, Value Objects, Interfaces\n\u251c\u2500\u2500 SpendWise.Auth.Application/     # Use Cases, Commands, Handlers, DTOs\n\u251c\u2500\u2500 SpendWise.Auth.Infrastructure/  # Reposit\u00f3rios, DbContext, Servi\u00e7os\n\u2514\u2500\u2500 SpendWise.Auth.API/             # Controllers, Program.cs, Configura\u00e7\u00f5es\n</code></pre>"},{"location":"auth-service/#camadas","title":"Camadas","text":""},{"location":"auth-service/#1-domain-dominio","title":"1. Domain (Dom\u00ednio)","text":"<p>Cont\u00e9m a l\u00f3gica de neg\u00f3cio pura, sem depend\u00eancias externas:</p> <ul> <li>Entidades: <code>Usuario</code></li> <li>Value Objects: <code>Email</code></li> <li>Interfaces: Contratos para servi\u00e7os e reposit\u00f3rios</li> </ul>"},{"location":"auth-service/#2-application-aplicacao","title":"2. Application (Aplica\u00e7\u00e3o)","text":"<p>Implementa os casos de uso do sistema:</p> <ul> <li>Commands: <code>LoginCommand</code>, <code>RegisterCommand</code>, <code>ForgotPasswordCommand</code>, etc.</li> <li>Handlers: Processam os commands usando MediatR</li> <li>DTOs: Objetos de transfer\u00eancia de dados</li> </ul>"},{"location":"auth-service/#3-infrastructure-infraestrutura","title":"3. Infrastructure (Infraestrutura)","text":"<p>Implementa\u00e7\u00f5es concretas de servi\u00e7os e acesso a dados:</p> <ul> <li>DbContext: Entity Framework Core</li> <li>Repositories: Acesso ao banco de dados</li> <li>Services: TokenService, PasswordHasher, EmailService</li> </ul>"},{"location":"auth-service/#4-api-apresentacao","title":"4. API (Apresenta\u00e7\u00e3o)","text":"<p>Camada de entrada HTTP:</p> <ul> <li>Controllers: Endpoints REST</li> <li>Middleware: Autentica\u00e7\u00e3o, CORS, Logging</li> <li>Configura\u00e7\u00e3o: JWT, Swagger, Serilog</li> </ul>"},{"location":"auth-service/#tecnologias","title":"\ud83d\udee0\ufe0f Tecnologias","text":""},{"location":"auth-service/#core","title":"Core","text":"<ul> <li>.NET 9.0</li> <li>ASP.NET Core Web API</li> <li>C# 12</li> </ul>"},{"location":"auth-service/#persistencia","title":"Persist\u00eancia","text":"<ul> <li>Entity Framework Core 9.0.10</li> <li>PostgreSQL (Npgsql)</li> </ul>"},{"location":"auth-service/#padroes-e-bibliotecas","title":"Padr\u00f5es e Bibliotecas","text":"<ul> <li>MediatR 13.1.0 - CQRS</li> <li>FluentValidation 12.1.0 - Valida\u00e7\u00f5es</li> <li>BCrypt.Net-Next 4.0.3 - Hash de senhas</li> <li>System.IdentityModel.Tokens.Jwt 8.14.0 - JWT</li> </ul>"},{"location":"auth-service/#observabilidade","title":"Observabilidade","text":"<ul> <li>Serilog 9.0.0 - Logging estruturado</li> <li>Swashbuckle 9.0.6 - Documenta\u00e7\u00e3o Swagger</li> </ul>"},{"location":"auth-service/#endpoints","title":"\ud83d\udd0c Endpoints","text":""},{"location":"auth-service/#autenticacao","title":"Autentica\u00e7\u00e3o","text":"M\u00e9todo Endpoint Descri\u00e7\u00e3o Autentica\u00e7\u00e3o <code>POST</code> <code>/api/auth/login</code> Realiza login \u274c <code>POST</code> <code>/api/auth/register</code> Registra novo usu\u00e1rio \u274c <code>GET</code> <code>/api/auth/me</code> Dados do usu\u00e1rio autenticado \u2705 <code>POST</code> <code>/api/auth/forgot-password</code> Solicita reset de senha \u274c <code>POST</code> <code>/api/auth/reset-password</code> Redefine senha com token \u274c <code>POST</code> <code>/api/auth/validate</code> Valida token JWT \u274c"},{"location":"auth-service/#exemplos-de-uso","title":"Exemplos de Uso","text":""},{"location":"auth-service/#login","title":"Login","text":"<pre><code>POST /api/auth/login\nContent-Type: application/json\n\n{\n  \"email\": \"usuario@exemplo.com\",\n  \"senha\": \"senha123\"\n}\n</code></pre> <p>Resposta: <pre><code>{\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"user\": {\n    \"id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n    \"nome\": \"Jo\u00e3o Silva\",\n    \"email\": \"usuario@exemplo.com\"\n  },\n  \"expiresAt\": \"2025-11-04T01:00:00Z\"\n}\n</code></pre></p>"},{"location":"auth-service/#registro","title":"Registro","text":"<pre><code>POST /api/auth/register\nContent-Type: application/json\n\n{\n  \"nome\": \"Jo\u00e3o Silva\",\n  \"email\": \"joao@exemplo.com\",\n  \"senha\": \"senha123\",\n  \"confirmarSenha\": \"senha123\"\n}\n</code></pre>"},{"location":"auth-service/#validar-token","title":"Validar Token","text":"<pre><code>POST /api/auth/validate\nContent-Type: application/json\n\n{\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}\n</code></pre> <p>Resposta: <pre><code>{\n  \"isValid\": true,\n  \"userId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n  \"email\": \"usuario@exemplo.com\"\n}\n</code></pre></p>"},{"location":"auth-service/#modelo-de-dados","title":"\ud83d\uddc4\ufe0f Modelo de Dados","text":""},{"location":"auth-service/#entidade-usuario","title":"Entidade Usuario","text":"<pre><code>public class Usuario : BaseEntity\n{\n    public string Nome { get; private set; }\n    public Email Email { get; private set; }\n    public string Senha { get; private set; }\n    public bool IsAtivo { get; private set; }\n\n    // Reset de senha\n    public string? PasswordResetToken { get; private set; }\n    public DateTime? PasswordResetTokenExpiry { get; private set; }\n}\n</code></pre>"},{"location":"auth-service/#value-object-email","title":"Value Object Email","text":"<pre><code>public class Email\n{\n    public string Valor { get; private set; }\n    public string Domain =&gt; Valor.Split('@')[1];\n    public string LocalPart =&gt; Valor.Split('@')[0];\n\n    // Valida\u00e7\u00e3o com Regex\n    // Imut\u00e1vel\n    // Compara\u00e7\u00e3o por valor\n}\n</code></pre>"},{"location":"auth-service/#tabela-usuarios","title":"Tabela: Usuarios","text":"Coluna Tipo Descri\u00e7\u00e3o <code>Id</code> UUID Chave prim\u00e1ria <code>Nome</code> VARCHAR(200) Nome do usu\u00e1rio <code>Email</code> VARCHAR(255) Email (\u00fanico) <code>Senha</code> VARCHAR(500) Hash BCrypt <code>IsAtivo</code> BOOLEAN Status ativo/inativo <code>PasswordResetToken</code> VARCHAR(500) Token de reset <code>PasswordResetTokenExpiry</code> TIMESTAMP Expira\u00e7\u00e3o do token <code>CreatedAt</code> TIMESTAMP Data de cria\u00e7\u00e3o <code>UpdatedAt</code> TIMESTAMP \u00daltima atualiza\u00e7\u00e3o"},{"location":"auth-service/#seguranca","title":"\ud83d\udd12 Seguran\u00e7a","text":""},{"location":"auth-service/#hash-de-senhas","title":"Hash de Senhas","text":"<ul> <li>BCrypt com 12 rounds de salt</li> <li>Senhas nunca armazenadas em texto plano</li> <li>Verifica\u00e7\u00e3o segura com timing attack protection</li> </ul>"},{"location":"auth-service/#jwt-json-web-tokens","title":"JWT (JSON Web Tokens)","text":"<ul> <li>Algoritmo: HMAC-SHA256</li> <li>Expira\u00e7\u00e3o: 60 minutos (configur\u00e1vel)</li> <li>Claims: UserId, Email, JTI</li> <li>Valida\u00e7\u00e3o: Issuer, Audience, Lifetime</li> </ul>"},{"location":"auth-service/#reset-de-senha","title":"Reset de Senha","text":"<ul> <li>Token: 32 bytes aleat\u00f3rios (Base64)</li> <li>Validade: 30 minutos</li> <li>Uso \u00fanico: Token invalidado ap\u00f3s uso</li> <li>Seguran\u00e7a: Sempre retorna sucesso (evita enumera\u00e7\u00e3o de emails)</li> </ul>"},{"location":"auth-service/#configuracao","title":"\u2699\ufe0f Configura\u00e7\u00e3o","text":""},{"location":"auth-service/#appsettingsjson","title":"appsettings.json","text":"<pre><code>{\n  \"ConnectionStrings\": {\n    \"DefaultConnection\": \"Host=localhost;Port=5432;Database=spendwise_auth;Username=auth_user;Password=auth_pass\"\n  },\n  \"JWT\": {\n    \"SecretKey\": \"MinhaChaveSecretaSuperSeguraParaJWT2024!@#$%\",\n    \"Issuer\": \"SpendWise.Auth\",\n    \"Audience\": \"SpendWise\",\n    \"ExpirationMinutes\": \"60\"\n  }\n}\n</code></pre>"},{"location":"auth-service/#variaveis-de-ambiente-producao","title":"Vari\u00e1veis de Ambiente (Produ\u00e7\u00e3o)","text":"<pre><code>ConnectionStrings__DefaultConnection=\"...\"\nJWT__SecretKey=\"...\"\nJWT__Issuer=\"SpendWise.Auth\"\nJWT__Audience=\"SpendWise\"\nJWT__ExpirationMinutes=\"60\"\n</code></pre>"},{"location":"auth-service/#instalacao","title":"\ud83d\ude80 Instala\u00e7\u00e3o","text":""},{"location":"auth-service/#pre-requisitos","title":"Pr\u00e9-requisitos","text":"<ul> <li>.NET SDK 9.0+</li> <li>PostgreSQL 14+</li> <li>Docker (opcional)</li> </ul>"},{"location":"auth-service/#passo-a-passo","title":"Passo a Passo","text":"<ol> <li> <p>Clone o reposit\u00f3rio <pre><code>git clone &lt;url-do-repositorio&gt;\ncd SpendWise-Auth\n</code></pre></p> </li> <li> <p>Configure o banco de dados <pre><code># Com Docker\ndocker-compose up -d\n\n# Ou crie manualmente no PostgreSQL\ncreatedb spendwise_auth\n</code></pre></p> </li> <li> <p>Aplique as migrations <pre><code>dotnet ef database update --project src/SpendWise.Auth.Infrastructure --startup-project src/SpendWise.Auth.API\n</code></pre></p> </li> <li> <p>Execute o servi\u00e7o <pre><code>dotnet run --project src/SpendWise.Auth.API\n</code></pre></p> </li> <li> <p>Acesse o Swagger <pre><code>http://localhost:5001/swagger\n</code></pre></p> </li> </ol>"},{"location":"auth-service/#integracao-com-frontend","title":"\ud83d\udd17 Integra\u00e7\u00e3o com Frontend","text":""},{"location":"auth-service/#configuracao_1","title":"Configura\u00e7\u00e3o","text":"<p>Adicione no <code>.env.local</code> do frontend:</p> <pre><code>NEXT_PUBLIC_AUTH_API_URL=http://localhost:5001/api\n</code></pre>"},{"location":"auth-service/#exemplo-de-cliente","title":"Exemplo de Cliente","text":"<pre><code>// lib/api/authClient.ts\nconst AUTH_API_URL = process.env.NEXT_PUBLIC_AUTH_API_URL;\n\nexport async function login(email: string, senha: string) {\n  const response = await fetch(`${AUTH_API_URL}/auth/login`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email, senha })\n  });\n\n  if (!response.ok) throw new Error('Login falhou');\n\n  const data = await response.json();\n  localStorage.setItem('token', data.token);\n  return data;\n}\n</code></pre>"},{"location":"auth-service/#padroes-implementados","title":"\ud83d\udcca Padr\u00f5es Implementados","text":""},{"location":"auth-service/#cqrs-command-query-responsibility-segregation","title":"CQRS (Command Query Responsibility Segregation)","text":"<ul> <li>Commands: Opera\u00e7\u00f5es de escrita (Login, Register, etc.)</li> <li>Handlers: Processam commands de forma isolada</li> <li>MediatR: Orquestra o fluxo de commands</li> </ul>"},{"location":"auth-service/#repository-pattern","title":"Repository Pattern","text":"<ul> <li>IUsuarioRepository: Interface de acesso a dados</li> <li>UsuarioRepository: Implementa\u00e7\u00e3o com EF Core</li> <li>Unit of Work: Gerencia transa\u00e7\u00f5es</li> </ul>"},{"location":"auth-service/#value-objects","title":"Value Objects","text":"<ul> <li>Email: Valida\u00e7\u00e3o e encapsulamento de email</li> <li>Imutabilidade: N\u00e3o pode ser alterado ap\u00f3s cria\u00e7\u00e3o</li> <li>Igualdade por valor: Compara conte\u00fado, n\u00e3o refer\u00eancia</li> </ul>"},{"location":"auth-service/#rich-domain-model","title":"Rich Domain Model","text":"<ul> <li>L\u00f3gica no dom\u00ednio: Regras de neg\u00f3cio nas entidades</li> <li>Encapsulamento: Setters privados</li> <li>M\u00e9todos de neg\u00f3cio: <code>DefinirTokenResetSenha()</code>, <code>ResetarSenha()</code></li> </ul>"},{"location":"auth-service/#testes","title":"\ud83e\uddea Testes","text":""},{"location":"auth-service/#estrutura-de-testes","title":"Estrutura de Testes","text":"<pre><code>tests/\n\u251c\u2500\u2500 SpendWise.Auth.UnitTests/\n\u2502   \u251c\u2500\u2500 Domain/\n\u2502   \u251c\u2500\u2500 Application/\n\u2502   \u2514\u2500\u2500 Infrastructure/\n\u2514\u2500\u2500 SpendWise.Auth.IntegrationTests/\n    \u2514\u2500\u2500 API/\n</code></pre>"},{"location":"auth-service/#executar-testes","title":"Executar Testes","text":"<pre><code>dotnet test\n</code></pre>"},{"location":"auth-service/#logs","title":"\ud83d\udcdd Logs","text":""},{"location":"auth-service/#serilog","title":"Serilog","text":"<p>O servi\u00e7o usa Serilog para logging estruturado:</p> <ul> <li>Console: Logs em tempo real</li> <li>Arquivo: <code>logs/spendwise-auth-YYYYMMDD.txt</code></li> <li>Enrichers: MachineName, ProcessId, ThreadId</li> </ul>"},{"location":"auth-service/#exemplo-de-log","title":"Exemplo de Log","text":"<pre><code>[23:11:10 INF] Iniciando SpendWise Auth API\n[23:11:11 INF] Verificando e aplicando migrations...\n[23:11:12 INF] Migrations aplicadas com sucesso\n[23:11:12 INF] === MOCK EMAIL - RESET DE SENHA ===\n[23:11:12 INF] Para: usuario@exemplo.com\n[23:11:12 INF] Token: ABC123XYZ...\n[23:11:12 INF] URL: http://localhost:3000/redefinir-senha?token=ABC123&amp;email=usuario@exemplo.com\n</code></pre>"},{"location":"auth-service/#docker","title":"\ud83d\udc33 Docker","text":""},{"location":"auth-service/#docker-composeyml","title":"docker-compose.yml","text":"<pre><code>version: '3.8'\n\nservices:\n  postgres:\n    image: postgres:16-alpine\n    container_name: spendwise-auth-db\n    environment:\n      POSTGRES_DB: spendwise_auth\n      POSTGRES_USER: auth_user\n      POSTGRES_PASSWORD: auth_pass\n    ports:\n      - \"5433:5432\"\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\nvolumes:\n  postgres_data:\n</code></pre>"},{"location":"auth-service/#uso","title":"Uso","text":"<pre><code># Iniciar banco de dados\ndocker-compose up -d\n\n# Parar\ndocker-compose down\n\n# Ver logs\ndocker-compose logs -f\n</code></pre>"},{"location":"auth-service/#fluxos-de-autenticacao","title":"\ud83d\udd04 Fluxos de Autentica\u00e7\u00e3o","text":""},{"location":"auth-service/#fluxo-de-login","title":"Fluxo de Login","text":"<pre><code>sequenceDiagram\n    participant F as Frontend\n    participant A as Auth API\n    participant DB as Database\n\n    F-&gt;&gt;A: POST /api/auth/login\n    A-&gt;&gt;DB: Buscar usu\u00e1rio por email\n    DB--&gt;&gt;A: Usu\u00e1rio encontrado\n    A-&gt;&gt;A: Verificar senha (BCrypt)\n    A-&gt;&gt;A: Gerar token JWT\n    A--&gt;&gt;F: Token + dados do usu\u00e1rio\n    F-&gt;&gt;F: Armazenar token\n</code></pre>"},{"location":"auth-service/#fluxo-de-reset-de-senha","title":"Fluxo de Reset de Senha","text":"<pre><code>sequenceDiagram\n    participant F as Frontend\n    participant A as Auth API\n    participant DB as Database\n    participant E as Email Service\n\n    F-&gt;&gt;A: POST /api/auth/forgot-password\n    A-&gt;&gt;DB: Buscar usu\u00e1rio\n    A-&gt;&gt;A: Gerar token seguro\n    A-&gt;&gt;DB: Salvar token + expiry\n    A-&gt;&gt;E: Enviar email com link\n    E--&gt;&gt;F: Email recebido (mock)\n    F-&gt;&gt;A: POST /api/auth/reset-password\n    A-&gt;&gt;DB: Validar token\n    A-&gt;&gt;A: Hash nova senha\n    A-&gt;&gt;DB: Atualizar senha\n    A--&gt;&gt;F: Sucesso\n</code></pre>"},{"location":"auth-service/#referencias","title":"\ud83d\udcda Refer\u00eancias","text":"<ul> <li>Reposit\u00f3rio GitHub</li> <li>Clean Architecture</li> <li>Documenta\u00e7\u00e3o da API</li> <li>Guia de Setup</li> </ul>"},{"location":"auth-service/#proximos-passos","title":"\ud83c\udfaf Pr\u00f3ximos Passos","text":"<ul> <li>[ ] Implementar refresh tokens</li> <li>[ ] Adicionar autentica\u00e7\u00e3o OAuth2 (Google, GitHub)</li> <li>[ ] Implementar rate limiting</li> <li>[ ] Adicionar testes de carga</li> <li>[ ] Configurar CI/CD</li> <li>[ ] Substituir MockEmailService por servi\u00e7o real</li> <li>[ ] Implementar 2FA (Two-Factor Authentication)</li> <li>[ ] Adicionar auditoria de acessos</li> </ul>"},{"location":"auth-service/architecture/","title":"\ud83c\udfd7\ufe0f Arquitetura do SpendWise Auth","text":""},{"location":"auth-service/architecture/#clean-architecture","title":"Clean Architecture","text":"<p>O SpendWise Auth segue rigorosamente os princ\u00edpios da Clean Architecture, garantindo separa\u00e7\u00e3o de responsabilidades e independ\u00eancia de frameworks.</p>"},{"location":"auth-service/architecture/#diagrama-de-camadas","title":"Diagrama de Camadas","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  SpendWise.Auth.API                 \u2502\n\u2502              (Controllers, Middleware)              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           SpendWise.Auth.Infrastructure             \u2502\n\u2502     (Repositories, DbContext, Services)             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           SpendWise.Auth.Application                \u2502\n\u2502       (Commands, Handlers, DTOs, Validators)        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             SpendWise.Auth.Domain                   \u2502\n\u2502    (Entities, Value Objects, Interfaces)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"auth-service/architecture/#dependencias","title":"Depend\u00eancias","text":"<pre><code>API \u2192 Infrastructure \u2192 Application \u2192 Domain\n                    \u2193\n                Application \u2192 Domain\n</code></pre> <p>Regra de Ouro: As depend\u00eancias sempre apontam para dentro (em dire\u00e7\u00e3o ao Domain).</p>"},{"location":"auth-service/architecture/#domain-layer-camada-de-dominio","title":"Domain Layer (Camada de Dom\u00ednio)","text":""},{"location":"auth-service/architecture/#responsabilidades","title":"Responsabilidades","text":"<ul> <li>Definir entidades de neg\u00f3cio</li> <li>Implementar regras de neg\u00f3cio</li> <li>Definir contratos (interfaces)</li> <li>Criar Value Objects</li> </ul>"},{"location":"auth-service/architecture/#estrutura","title":"Estrutura","text":"<pre><code>SpendWise.Auth.Domain/\n\u251c\u2500\u2500 Entities/\n\u2502   \u2514\u2500\u2500 Usuario.cs\n\u251c\u2500\u2500 ValueObjects/\n\u2502   \u2514\u2500\u2500 Email.cs\n\u251c\u2500\u2500 Interfaces/\n\u2502   \u251c\u2500\u2500 IPasswordHasher.cs\n\u2502   \u251c\u2500\u2500 ITokenService.cs\n\u2502   \u251c\u2500\u2500 IEmailService.cs\n\u2502   \u251c\u2500\u2500 IUsuarioRepository.cs\n\u2502   \u2514\u2500\u2500 IUnitOfWork.cs\n\u2514\u2500\u2500 BaseEntity.cs\n</code></pre>"},{"location":"auth-service/architecture/#caracteristicas","title":"Caracter\u00edsticas","text":"<ul> <li>\u2705 Sem depend\u00eancias externas</li> <li>\u2705 L\u00f3gica de neg\u00f3cio pura</li> <li>\u2705 Test\u00e1vel isoladamente</li> <li>\u2705 Agn\u00f3stico a frameworks</li> </ul>"},{"location":"auth-service/architecture/#application-layer-camada-de-aplicacao","title":"Application Layer (Camada de Aplica\u00e7\u00e3o)","text":""},{"location":"auth-service/architecture/#responsabilidades_1","title":"Responsabilidades","text":"<ul> <li>Orquestrar casos de uso</li> <li>Implementar CQRS com MediatR</li> <li>Validar entrada de dados</li> <li>Transformar dados (DTOs)</li> </ul>"},{"location":"auth-service/architecture/#estrutura_1","title":"Estrutura","text":"<pre><code>SpendWise.Auth.Application/\n\u251c\u2500\u2500 Commands/\n\u2502   \u2514\u2500\u2500 AuthCommands.cs\n\u251c\u2500\u2500 Handlers/\n\u2502   \u251c\u2500\u2500 LoginHandler.cs\n\u2502   \u251c\u2500\u2500 RegisterHandler.cs\n\u2502   \u251c\u2500\u2500 ForgotPasswordHandler.cs\n\u2502   \u251c\u2500\u2500 ResetPasswordHandler.cs\n\u2502   \u2514\u2500\u2500 ValidateTokenHandler.cs\n\u251c\u2500\u2500 DTOs/\n\u2502   \u2514\u2500\u2500 AuthDtos.cs\n\u2514\u2500\u2500 DependencyInjection.cs\n</code></pre>"},{"location":"auth-service/architecture/#cqrs-pattern","title":"CQRS Pattern","text":""},{"location":"auth-service/architecture/#commands","title":"Commands","text":"<pre><code>public record LoginCommand(\n    string Email,\n    string Senha\n) : IRequest&lt;LoginResponseDto&gt;;\n</code></pre>"},{"location":"auth-service/architecture/#handlers","title":"Handlers","text":"<pre><code>public class LoginHandler : IRequestHandler&lt;LoginCommand, LoginResponseDto&gt;\n{\n    public async Task&lt;LoginResponseDto&gt; Handle(\n        LoginCommand request, \n        CancellationToken cancellationToken)\n    {\n        // 1. Buscar usu\u00e1rio\n        // 2. Verificar senha\n        // 3. Gerar token\n        // 4. Retornar resposta\n    }\n}\n</code></pre>"},{"location":"auth-service/architecture/#infrastructure-layer-camada-de-infraestrutura","title":"Infrastructure Layer (Camada de Infraestrutura)","text":""},{"location":"auth-service/architecture/#responsabilidades_2","title":"Responsabilidades","text":"<ul> <li>Implementar acesso a dados</li> <li>Implementar servi\u00e7os externos</li> <li>Configurar Entity Framework</li> <li>Gerenciar migrations</li> </ul>"},{"location":"auth-service/architecture/#estrutura_2","title":"Estrutura","text":"<pre><code>SpendWise.Auth.Infrastructure/\n\u251c\u2500\u2500 Data/\n\u2502   \u2514\u2500\u2500 AuthDbContext.cs\n\u251c\u2500\u2500 Repositories/\n\u2502   \u251c\u2500\u2500 UsuarioRepository.cs\n\u2502   \u2514\u2500\u2500 UnitOfWork.cs\n\u251c\u2500\u2500 Services/\n\u2502   \u251c\u2500\u2500 PasswordHasher.cs\n\u2502   \u251c\u2500\u2500 TokenService.cs\n\u2502   \u2514\u2500\u2500 MockEmailService.cs\n\u251c\u2500\u2500 Migrations/\n\u2514\u2500\u2500 DependencyInjection.cs\n</code></pre>"},{"location":"auth-service/architecture/#dbcontext","title":"DbContext","text":"<pre><code>public class AuthDbContext : DbContext\n{\n    public DbSet&lt;Usuario&gt; Usuarios =&gt; Set&lt;Usuario&gt;();\n\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        // Configura\u00e7\u00e3o de entidades\n        // Mapeamento de Value Objects\n        // \u00cdndices e constraints\n    }\n}\n</code></pre>"},{"location":"auth-service/architecture/#repository-pattern","title":"Repository Pattern","text":"<pre><code>public class UsuarioRepository : IUsuarioRepository\n{\n    private readonly AuthDbContext _context;\n\n    public async Task&lt;Usuario?&gt; BuscarPorEmailAsync(Email email)\n    {\n        return await _context.Usuarios\n            .FirstOrDefaultAsync(u =&gt; u.Email.Valor == email.Valor);\n    }\n}\n</code></pre>"},{"location":"auth-service/architecture/#api-layer-camada-de-apresentacao","title":"API Layer (Camada de Apresenta\u00e7\u00e3o)","text":""},{"location":"auth-service/architecture/#responsabilidades_3","title":"Responsabilidades","text":"<ul> <li>Expor endpoints HTTP</li> <li>Autenticar requisi\u00e7\u00f5es</li> <li>Configurar middleware</li> <li>Documentar API (Swagger)</li> </ul>"},{"location":"auth-service/architecture/#estrutura_3","title":"Estrutura","text":"<pre><code>SpendWise.Auth.API/\n\u251c\u2500\u2500 Controllers/\n\u2502   \u2514\u2500\u2500 AuthController.cs\n\u251c\u2500\u2500 Properties/\n\u2502   \u2514\u2500\u2500 launchSettings.json\n\u251c\u2500\u2500 Program.cs\n\u2514\u2500\u2500 appsettings.json\n</code></pre>"},{"location":"auth-service/architecture/#controller","title":"Controller","text":"<pre><code>[ApiController]\n[Route(\"api/[controller]\")]\npublic class AuthController : ControllerBase\n{\n    private readonly IMediator _mediator;\n\n    [HttpPost(\"login\")]\n    [AllowAnonymous]\n    public async Task&lt;ActionResult&lt;LoginResponseDto&gt;&gt; Login(\n        [FromBody] LoginRequestDto request)\n    {\n        var command = new LoginCommand(request.Email, request.Senha);\n        var result = await _mediator.Send(command);\n        return Ok(result);\n    }\n}\n</code></pre>"},{"location":"auth-service/architecture/#padroes-de-design","title":"Padr\u00f5es de Design","text":""},{"location":"auth-service/architecture/#1-cqrs-command-query-responsibility-segregation","title":"1. CQRS (Command Query Responsibility Segregation)","text":"<p>Separa\u00e7\u00e3o entre leitura e escrita:</p> <ul> <li>Commands: Opera\u00e7\u00f5es que modificam estado</li> <li>Queries: Opera\u00e7\u00f5es de leitura (futuro)</li> </ul> <pre><code>// Command\npublic record RegisterCommand(...) : IRequest&lt;Guid&gt;;\n\n// Handler\npublic class RegisterHandler : IRequestHandler&lt;RegisterCommand, Guid&gt;\n{\n    // L\u00f3gica de registro\n}\n</code></pre>"},{"location":"auth-service/architecture/#2-repository-pattern","title":"2. Repository Pattern","text":"<p>Abstra\u00e7\u00e3o do acesso a dados:</p> <pre><code>public interface IUsuarioRepository\n{\n    Task&lt;Usuario?&gt; BuscarPorIdAsync(Guid id);\n    Task&lt;Usuario?&gt; BuscarPorEmailAsync(Email email);\n    Task AdicionarAsync(Usuario usuario);\n}\n</code></pre>"},{"location":"auth-service/architecture/#3-unit-of-work","title":"3. Unit of Work","text":"<p>Gerenciamento de transa\u00e7\u00f5es:</p> <pre><code>public interface IUnitOfWork\n{\n    IUsuarioRepository Usuarios { get; }\n    Task&lt;int&gt; SaveChangesAsync();\n}\n</code></pre>"},{"location":"auth-service/architecture/#4-dependency-injection","title":"4. Dependency Injection","text":"<p>Invers\u00e3o de controle:</p> <pre><code>// Infrastructure\nservices.AddScoped&lt;IUsuarioRepository, UsuarioRepository&gt;();\nservices.AddScoped&lt;IPasswordHasher, PasswordHasher&gt;();\n\n// Application\nservices.AddMediatR(cfg =&gt; \n    cfg.RegisterServicesFromAssembly(typeof(DependencyInjection).Assembly));\n</code></pre>"},{"location":"auth-service/architecture/#5-value-objects","title":"5. Value Objects","text":"<p>Encapsulamento de valores:</p> <pre><code>public class Email\n{\n    public string Valor { get; private set; }\n\n    public Email(string valor)\n    {\n        // Valida\u00e7\u00e3o\n        if (!EmailRegex.IsMatch(valor))\n            throw new ArgumentException(\"Email inv\u00e1lido\");\n\n        Valor = valor.ToLowerInvariant();\n    }\n}\n</code></pre>"},{"location":"auth-service/architecture/#fluxo-de-uma-requisicao","title":"Fluxo de uma Requisi\u00e7\u00e3o","text":""},{"location":"auth-service/architecture/#exemplo-login","title":"Exemplo: Login","text":"<pre><code>1. HTTP Request\n   \u2193\n2. AuthController.Login()\n   \u2193\n3. LoginCommand criado\n   \u2193\n4. MediatR despacha para LoginHandler\n   \u2193\n5. Handler busca usu\u00e1rio (Repository)\n   \u2193\n6. Handler verifica senha (PasswordHasher)\n   \u2193\n7. Handler gera token (TokenService)\n   \u2193\n8. Handler retorna LoginResponseDto\n   \u2193\n9. Controller retorna HTTP 200 OK\n</code></pre>"},{"location":"auth-service/architecture/#diagrama-de-sequencia","title":"Diagrama de Sequ\u00eancia","text":"<pre><code>sequenceDiagram\n    participant C as Controller\n    participant M as MediatR\n    participant H as Handler\n    participant R as Repository\n    participant P as PasswordHasher\n    participant T as TokenService\n\n    C-&gt;&gt;M: Send(LoginCommand)\n    M-&gt;&gt;H: Handle(command)\n    H-&gt;&gt;R: BuscarPorEmailAsync(email)\n    R--&gt;&gt;H: Usuario\n    H-&gt;&gt;P: VerifyPassword(senha, hash)\n    P--&gt;&gt;H: true\n    H-&gt;&gt;T: GenerateToken(userId, email)\n    T--&gt;&gt;H: token\n    H--&gt;&gt;M: LoginResponseDto\n    M--&gt;&gt;C: LoginResponseDto\n    C--&gt;&gt;C: Ok(response)\n</code></pre>"},{"location":"auth-service/architecture/#principios-solid","title":"Princ\u00edpios SOLID","text":""},{"location":"auth-service/architecture/#single-responsibility-principle-srp","title":"Single Responsibility Principle (SRP)","text":"<ul> <li>Cada classe tem uma \u00fanica responsabilidade</li> <li><code>LoginHandler</code> apenas processa login</li> <li><code>PasswordHasher</code> apenas faz hash de senhas</li> </ul>"},{"location":"auth-service/architecture/#openclosed-principle-ocp","title":"Open/Closed Principle (OCP)","text":"<ul> <li>Aberto para extens\u00e3o, fechado para modifica\u00e7\u00e3o</li> <li>Novos handlers podem ser adicionados sem modificar existentes</li> </ul>"},{"location":"auth-service/architecture/#liskov-substitution-principle-lsp","title":"Liskov Substitution Principle (LSP)","text":"<ul> <li>Implementa\u00e7\u00f5es podem ser substitu\u00eddas por suas interfaces</li> <li><code>IPasswordHasher</code> pode ter m\u00faltiplas implementa\u00e7\u00f5es</li> </ul>"},{"location":"auth-service/architecture/#interface-segregation-principle-isp","title":"Interface Segregation Principle (ISP)","text":"<ul> <li>Interfaces espec\u00edficas e coesas</li> <li><code>ITokenService</code> separado de <code>IPasswordHasher</code></li> </ul>"},{"location":"auth-service/architecture/#dependency-inversion-principle-dip","title":"Dependency Inversion Principle (DIP)","text":"<ul> <li>Depend\u00eancias apontam para abstra\u00e7\u00f5es</li> <li>Handlers dependem de <code>IUsuarioRepository</code>, n\u00e3o de <code>UsuarioRepository</code></li> </ul>"},{"location":"auth-service/architecture/#beneficios-da-arquitetura","title":"Benef\u00edcios da Arquitetura","text":""},{"location":"auth-service/architecture/#testabilidade","title":"Testabilidade","text":"<ul> <li>Cada camada pode ser testada isoladamente</li> <li>Mocks f\u00e1ceis de criar (interfaces)</li> <li>Testes unit\u00e1rios r\u00e1pidos</li> </ul>"},{"location":"auth-service/architecture/#manutenibilidade","title":"Manutenibilidade","text":"<ul> <li>C\u00f3digo organizado e previs\u00edvel</li> <li>F\u00e1cil localizar funcionalidades</li> <li>Mudan\u00e7as isoladas</li> </ul>"},{"location":"auth-service/architecture/#escalabilidade","title":"Escalabilidade","text":"<ul> <li>Camadas podem ser escaladas independentemente</li> <li>F\u00e1cil adicionar novos casos de uso</li> <li>Preparado para microservi\u00e7os</li> </ul>"},{"location":"auth-service/architecture/#independencia-de-frameworks","title":"Independ\u00eancia de Frameworks","text":"<ul> <li>Domain n\u00e3o conhece EF Core</li> <li>F\u00e1cil trocar de ORM</li> <li>F\u00e1cil trocar de banco de dados</li> </ul>"},{"location":"auth-service/architecture/#comparacao-com-arquitetura-monolitica","title":"Compara\u00e7\u00e3o com Arquitetura Monol\u00edtica","text":"Aspecto Monol\u00edtica Clean Architecture Organiza\u00e7\u00e3o Por tipo t\u00e9cnico Por dom\u00ednio Depend\u00eancias Acopladas Invertidas Testabilidade Dif\u00edcil F\u00e1cil Manuten\u00e7\u00e3o Complexa Simples Escalabilidade Limitada Flex\u00edvel"},{"location":"auth-service/architecture/#proximos-passos","title":"Pr\u00f3ximos Passos","text":"<ul> <li>[ ] Implementar Query side do CQRS</li> <li>[ ] Adicionar Event Sourcing</li> <li>[ ] Implementar Domain Events</li> <li>[ ] Adicionar cache distribu\u00eddo</li> <li>[ ] Implementar API Gateway</li> </ul>"},{"location":"auth-service/frontend-integration/","title":"\ud83d\udd17 Integra\u00e7\u00e3o Frontend - SpendWise Auth","text":""},{"location":"auth-service/frontend-integration/#arquitetura","title":"\ud83c\udfaf Arquitetura","text":"<p>O frontend Next.js se comunica com dois servi\u00e7os independentes:</p> <ol> <li>SpendWise Auth (porta 5001) - Autentica\u00e7\u00e3o</li> <li>Backend Principal (porta 5057) - Dados de neg\u00f3cio</li> </ol> <pre><code>graph LR\n    A[Frontend Next.js] --&gt;|Login/Register| B[SpendWise Auth :5001]\n    A --&gt;|Dados + Token| C[Backend Principal :5057]\n    B --&gt;|JWT Token| A\n    C --&gt;|Valida Token| C\n</code></pre>"},{"location":"auth-service/frontend-integration/#configuracao","title":"\ud83d\udcdd Configura\u00e7\u00e3o","text":""},{"location":"auth-service/frontend-integration/#variaveis-de-ambiente","title":"Vari\u00e1veis de Ambiente","text":"<p>Arquivo: <code>.env.local</code></p> <pre><code># Autentica\u00e7\u00e3o\nNEXT_PUBLIC_AUTH_API_URL=http://localhost:5001/api\n\n# Dados de Neg\u00f3cio\nNEXT_PUBLIC_API_URL=http://localhost:5057/api\n</code></pre>"},{"location":"auth-service/frontend-integration/#fluxo-de-autenticacao","title":"\ud83d\udd04 Fluxo de Autentica\u00e7\u00e3o","text":""},{"location":"auth-service/frontend-integration/#1-login","title":"1. Login","text":"<pre><code>// Frontend chama Auth Service DIRETO\nconst response = await fetch('http://localhost:5001/api/auth/login', {\n  method: 'POST',\n  headers: { 'Content-Type': 'application/json' },\n  body: JSON.stringify({ email, senha })\n});\n\nconst { token, user } = await response.json();\nlocalStorage.setItem('token', token);\n</code></pre>"},{"location":"auth-service/frontend-integration/#2-acessar-dados-protegidos","title":"2. Acessar Dados Protegidos","text":"<pre><code>// Frontend usa token para acessar Backend Principal\nconst response = await fetch('http://localhost:5057/api/categorias', {\n  headers: {\n    'Authorization': `Bearer ${token}`,\n    'Content-Type': 'application/json'\n  }\n});\n\nconst categorias = await response.json();\n</code></pre>"},{"location":"auth-service/frontend-integration/#endpoints","title":"\ud83d\udcda Endpoints","text":""},{"location":"auth-service/frontend-integration/#auth-service-porta-5001","title":"Auth Service (porta 5001)","text":"M\u00e9todo Endpoint Descri\u00e7\u00e3o <code>POST</code> <code>/api/auth/login</code> Login <code>POST</code> <code>/api/auth/register</code> Registro <code>POST</code> <code>/api/auth/forgot-password</code> Solicitar reset <code>POST</code> <code>/api/auth/reset-password</code> Redefinir senha <code>POST</code> <code>/api/auth/validate</code> Validar token"},{"location":"auth-service/frontend-integration/#backend-principal-porta-5057","title":"Backend Principal (porta 5057)","text":"M\u00e9todo Endpoint Descri\u00e7\u00e3o Auth <code>GET</code> <code>/api/categorias</code> Listar categorias \u2705 <code>GET</code> <code>/api/transacoes</code> Listar transa\u00e7\u00f5es \u2705 <code>GET</code> <code>/api/relatorios</code> Relat\u00f3rios \u2705 <code>GET</code> <code>/api/usuarios/me</code> Perfil do usu\u00e1rio \u2705"},{"location":"auth-service/frontend-integration/#implementacao-completa","title":"\u2705 Implementa\u00e7\u00e3o Completa","text":"<p>Consulte o arquivo INTEGRACAO_FRONTEND.md no reposit\u00f3rio do SpendWise Auth para exemplos completos de c\u00f3digo.</p>"},{"location":"auth-service/frontend-integration/#teste","title":"\ud83e\uddea Teste","text":""},{"location":"auth-service/frontend-integration/#1-testar-auth-service","title":"1. Testar Auth Service","text":"<pre><code>curl -X POST http://localhost:5001/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\":\"teste@exemplo.com\",\"senha\":\"senha123\"}'\n</code></pre>"},{"location":"auth-service/frontend-integration/#2-testar-backend-principal","title":"2. Testar Backend Principal","text":"<pre><code>curl -X GET http://localhost:5057/api/categorias \\\n  -H \"Authorization: Bearer SEU_TOKEN_AQUI\"\n</code></pre>"},{"location":"auth-service/frontend-integration/#beneficios","title":"\ud83c\udfaf Benef\u00edcios","text":"<ul> <li>\u2705 Separa\u00e7\u00e3o de Responsabilidades: Auth isolado</li> <li>\u2705 Escalabilidade: Servi\u00e7os independentes</li> <li>\u2705 Seguran\u00e7a: Tokens validados, n\u00e3o gerados no backend principal</li> <li>\u2705 Manutenibilidade: C\u00f3digo mais organizado</li> </ul>"},{"location":"backend/","title":"Backend - Introdu\u00e7\u00e3o","text":""},{"location":"backend/#arquitetura-do-backend","title":"Arquitetura do Backend","text":"<p>O backend do SpendWise foi desenvolvido seguindo os princ\u00edpios de Clean Architecture e Domain-Driven Design (DDD), garantindo uma arquitetura robusta, test\u00e1vel e manuten\u00edvel.</p>"},{"location":"backend/#tecnologias-utilizadas","title":"Tecnologias Utilizadas","text":"<ul> <li>ASP.NET Core 8.0 - Framework web moderno</li> <li>Entity Framework Core - ORM para acesso a dados</li> <li>PostgreSQL - Banco de dados relacional</li> <li>MediatR - Implementa\u00e7\u00e3o do padr\u00e3o Mediator</li> <li>FluentValidation - Valida\u00e7\u00e3o de dados</li> <li>AutoMapper - Mapeamento de objetos</li> <li>Serilog - Logging estruturado</li> <li>xUnit - Framework de testes</li> </ul>"},{"location":"backend/#principios-aplicados","title":"Princ\u00edpios Aplicados","text":""},{"location":"backend/#clean-architecture","title":"Clean Architecture","text":"<ul> <li>Separa\u00e7\u00e3o de responsabilidades em camadas bem definidas</li> <li>Invers\u00e3o de depend\u00eancias atrav\u00e9s de interfaces</li> <li>Testabilidade com alta cobertura de testes</li> </ul>"},{"location":"backend/#domain-driven-design","title":"Domain-Driven Design","text":"<ul> <li>Rich Domain Models com l\u00f3gica de neg\u00f3cio encapsulada</li> <li>Value Objects para conceitos de dom\u00ednio</li> <li>Aggregates para consist\u00eancia transacional</li> <li>Domain Services para l\u00f3gicas complexas</li> </ul>"},{"location":"backend/#cqrs-command-query-responsibility-segregation","title":"CQRS (Command Query Responsibility Segregation)","text":"<ul> <li>Commands para opera\u00e7\u00f5es de escrita</li> <li>Queries para opera\u00e7\u00f5es de leitura</li> <li>Handlers especializados para cada opera\u00e7\u00e3o</li> </ul>"},{"location":"backend/#estrutura-do-projeto","title":"** Estrutura do Projeto**","text":"<pre><code>SpendWise.Backend/\n src/\n    SpendWise.Domain/           # Camada de Dom\u00ednio\n       Entities/              # Entidades de dom\u00ednio\n       ValueObjects/          # Objetos de valor\n       Aggregates/            # Agregados\n       Services/              # Servi\u00e7os de dom\u00ednio\n    SpendWise.Application/      # Camada de Aplica\u00e7\u00e3o\n       Commands/              # Comandos CQRS\n       Queries/               # Consultas CQRS\n       Handlers/              # Manipuladores\n       DTOs/                  # Objetos de transfer\u00eancia\n    SpendWise.Infrastructure/   # Camada de Infraestrutura\n       Data/                  # Contexto EF Core\n       Repositories/          # Implementa\u00e7\u00e3o de reposit\u00f3rios\n       Services/              # Servi\u00e7os externos\n    SpendWise.API/             # Camada de Apresenta\u00e7\u00e3o\n        Controllers/           # Controladores Web API\n        Middlewares/           # Middlewares customizados\n        Configuration/         # Configura\u00e7\u00f5es\n tests/\n     SpendWise.Domain.Tests/    # Testes de dom\u00ednio\n     SpendWise.Application.Tests/ # Testes de aplica\u00e7\u00e3o\n     SpendWise.API.Tests/       # Testes de integra\u00e7\u00e3o\n</code></pre>"},{"location":"backend/#fluxo-de-dados","title":"Fluxo de Dados","text":"<ol> <li>Controller recebe a requisi\u00e7\u00e3o HTTP</li> <li>MediatR roteia para o Handler apropriado</li> <li>Handler executa a l\u00f3gica de neg\u00f3cio</li> <li>Repository persiste/recupera dados</li> <li>Response \u00e9 retornado ao cliente</li> </ol>"},{"location":"backend/#metricas-de-qualidade","title":"M\u00e9tricas de Qualidade","text":"<ul> <li>Cobertura de Testes: &gt;90%</li> <li>Complexidade Ciclom\u00e1tica: &lt;10</li> <li>Duplica\u00e7\u00e3o de C\u00f3digo: &lt;3%</li> <li>Debt Ratio: &lt;5%</li> </ul>"},{"location":"backend/#proximos-passos","title":"Pr\u00f3ximos Passos","text":"<ul> <li>Clean Architecture - Detalhes da arquitetura</li> <li>Domain Layer - Camada de dom\u00ednio</li> <li>Application Layer - Camada de aplica\u00e7\u00e3o</li> <li>Infrastructure Layer - Camada de infraestrutura</li> <li>API Layer - Camada de apresenta\u00e7\u00e3o</li> </ul>"},{"location":"backend/api/","title":"API Layer","text":"<p>A camada de API \u00e9 respons\u00e1vel por expor endpoints REST, gerenciar requisi\u00e7\u00f5es HTTP e orquestrar a comunica\u00e7\u00e3o entre o cliente e a aplica\u00e7\u00e3o.</p>"},{"location":"backend/api/#principios","title":"Princ\u00edpios","text":"<ul> <li>RESTful: Seguir princ\u00edpios REST</li> <li>Controllers Magros: Delegar l\u00f3gica para handlers</li> <li>Valida\u00e7\u00e3o: Validar entrada antes de processar</li> <li>Documenta\u00e7\u00e3o: Swagger/OpenAPI para documenta\u00e7\u00e3o autom\u00e1tica</li> </ul>"},{"location":"backend/api/#estrutura","title":"Estrutura","text":"<pre><code>SpendWise.API/\n Controllers/\n    AuthController.cs\n    UsuariosController.cs\n    CategoriasController.cs\n    TransacoesController.cs\n    OrcamentosMensaisController.cs\n    FechamentoMensalController.cs\n    MetasController.cs\n    RelatoriosController.cs\n    HealthController.cs\n    HealthCheckController.cs\n Middleware/\n    ErrorHandlingMiddleware.cs\n    RequestLoggingMiddleware.cs\n Extensions/\n    ClaimsPrincipalExtensions.cs\n Program.cs\n appsettings.json\n appsettings.Development.json\n</code></pre>"},{"location":"backend/api/#controllers","title":"Controllers","text":""},{"location":"backend/api/#authcontroller","title":"AuthController","text":"<p>Gerencia autentica\u00e7\u00e3o e autoriza\u00e7\u00e3o.</p> <pre><code>[ApiController]\n[Route(\"api/[controller]\")]\npublic class AuthController : ControllerBase\n{\n    private readonly IMediator _mediator;\n\n    public AuthController(IMediator mediator)\n    {\n        _mediator = mediator;\n    }\n\n    [HttpPost(\"register\")]\n    [ProducesResponseType(typeof(AuthResponseDto), StatusCodes.Status200OK)]\n    [ProducesResponseType(StatusCodes.Status400BadRequest)]\n    public async Task&lt;IActionResult&gt; Register([FromBody] RegisterUserCommand command)\n    {\n        var result = await _mediator.Send(command);\n\n        if (!result.IsSuccess)\n            return BadRequest(new { error = result.Error });\n\n        return Ok(result.Data);\n    }\n\n    [HttpPost(\"login\")]\n    [ProducesResponseType(typeof(AuthResponseDto), StatusCodes.Status200OK)]\n    [ProducesResponseType(StatusCodes.Status401Unauthorized)]\n    public async Task&lt;IActionResult&gt; Login([FromBody] LoginCommand command)\n    {\n        var result = await _mediator.Send(command);\n\n        if (!result.IsSuccess)\n            return Unauthorized(new { error = result.Error });\n\n        return Ok(result.Data);\n    }\n\n    [HttpPost(\"forgot-password\")]\n    [ProducesResponseType(StatusCodes.Status200OK)]\n    [ProducesResponseType(StatusCodes.Status404NotFound)]\n    public async Task&lt;IActionResult&gt; ForgotPassword([FromBody] ForgotPasswordCommand command)\n    {\n        var result = await _mediator.Send(command);\n\n        if (!result.IsSuccess)\n            return NotFound(new { error = result.Error });\n\n        return Ok(new { message = \"Email enviado com sucesso\" });\n    }\n\n    [HttpPost(\"reset-password\")]\n    [ProducesResponseType(StatusCodes.Status200OK)]\n    [ProducesResponseType(StatusCodes.Status400BadRequest)]\n    public async Task&lt;IActionResult&gt; ResetPassword([FromBody] ResetPasswordCommand command)\n    {\n        var result = await _mediator.Send(command);\n\n        if (!result.IsSuccess)\n            return BadRequest(new { error = result.Error });\n\n        return Ok(new { message = \"Senha redefinida com sucesso\" });\n    }\n}\n</code></pre>"},{"location":"backend/api/#transacoescontroller","title":"TransacoesController","text":"<p>Gerencia transa\u00e7\u00f5es financeiras.</p> <pre><code>[ApiController]\n[Route(\"api/[controller]\")]\n[Authorize]\npublic class TransacoesController : ControllerBase\n{\n    private readonly IMediator _mediator;\n\n    public TransacoesController(IMediator mediator)\n    {\n        _mediator = mediator;\n    }\n\n    [HttpGet]\n    [ProducesResponseType(typeof(List&lt;TransacaoDto&gt;), StatusCodes.Status200OK)]\n    public async Task&lt;IActionResult&gt; GetAll(\n        [FromQuery] int? mes,\n        [FromQuery] int? ano,\n        [FromQuery] TipoTransacao? tipo,\n        [FromQuery] Guid? categoriaId)\n    {\n        var usuarioId = User.GetUserId();\n\n        var query = new GetTransacoesQuery\n        {\n            Mes = mes,\n            Ano = ano,\n            Tipo = tipo,\n            CategoriaId = categoriaId,\n            UsuarioId = usuarioId\n        };\n\n        var result = await _mediator.Send(query);\n        return Ok(result.Data);\n    }\n\n    [HttpGet(\"{id}\")]\n    [ProducesResponseType(typeof(TransacaoDto), StatusCodes.Status200OK)]\n    [ProducesResponseType(StatusCodes.Status404NotFound)]\n    public async Task&lt;IActionResult&gt; GetById(Guid id)\n    {\n        var usuarioId = User.GetUserId();\n\n        var query = new GetTransacaoByIdQuery { Id = id, UsuarioId = usuarioId };\n        var result = await _mediator.Send(query);\n\n        if (!result.IsSuccess)\n            return NotFound(new { error = result.Error });\n\n        return Ok(result.Data);\n    }\n\n    [HttpPost]\n    [ProducesResponseType(typeof(TransacaoDto), StatusCodes.Status201Created)]\n    [ProducesResponseType(StatusCodes.Status400BadRequest)]\n    public async Task&lt;IActionResult&gt; Create([FromBody] CreateTransacaoCommand command)\n    {\n        command.UsuarioId = User.GetUserId();\n\n        var result = await _mediator.Send(command);\n\n        if (!result.IsSuccess)\n            return BadRequest(new { error = result.Error });\n\n        return CreatedAtAction(nameof(GetById), new { id = result.Data.Id }, result.Data);\n    }\n\n    [HttpPut(\"{id}\")]\n    [ProducesResponseType(typeof(TransacaoDto), StatusCodes.Status200OK)]\n    [ProducesResponseType(StatusCodes.Status400BadRequest)]\n    [ProducesResponseType(StatusCodes.Status404NotFound)]\n    public async Task&lt;IActionResult&gt; Update(Guid id, [FromBody] UpdateTransacaoCommand command)\n    {\n        command.Id = id;\n        command.UsuarioId = User.GetUserId();\n\n        var result = await _mediator.Send(command);\n\n        if (!result.IsSuccess)\n            return NotFound(new { error = result.Error });\n\n        return Ok(result.Data);\n    }\n\n    [HttpDelete(\"{id}\")]\n    [ProducesResponseType(StatusCodes.Status204NoContent)]\n    [ProducesResponseType(StatusCodes.Status404NotFound)]\n    public async Task&lt;IActionResult&gt; Delete(Guid id)\n    {\n        var usuarioId = User.GetUserId();\n\n        var command = new DeleteTransacaoCommand { Id = id, UsuarioId = usuarioId };\n        var result = await _mediator.Send(command);\n\n        if (!result.IsSuccess)\n            return NotFound(new { error = result.Error });\n\n        return NoContent();\n    }\n\n    [HttpGet(\"export-csv\")]\n    [ProducesResponseType(typeof(FileContentResult), StatusCodes.Status200OK)]\n    public async Task&lt;IActionResult&gt; ExportCsv(\n        [FromQuery] int mes,\n        [FromQuery] int ano)\n    {\n        var usuarioId = User.GetUserId();\n\n        var query = new ExportTransacoesToCsvQuery\n        {\n            Mes = mes,\n            Ano = ano,\n            UsuarioId = usuarioId\n        };\n\n        var result = await _mediator.Send(query);\n\n        var fileName = $\"transacoes_{ano}_{mes:D2}.csv\";\n        return File(result.Data, \"text/csv\", fileName);\n    }\n\n    [HttpPost(\"import-csv\")]\n    [ProducesResponseType(typeof(ImportResultDto), StatusCodes.Status200OK)]\n    [ProducesResponseType(StatusCodes.Status400BadRequest)]\n    public async Task&lt;IActionResult&gt; ImportCsv(IFormFile file)\n    {\n        if (file == null || file.Length == 0)\n            return BadRequest(new { error = \"Arquivo inv\u00e1lido\" });\n\n        var usuarioId = User.GetUserId();\n\n        using var stream = file.OpenReadStream();\n        using var reader = new StreamReader(stream);\n        var csvContent = await reader.ReadToEndAsync();\n\n        var command = new ImportTransacoesFromCsvCommand\n        {\n            CsvContent = csvContent,\n            UsuarioId = usuarioId\n        };\n\n        var result = await _mediator.Send(command);\n        return Ok(result.Data);\n    }\n}\n</code></pre>"},{"location":"backend/api/#metascontroller","title":"MetasController","text":"<p>Gerencia metas financeiras.</p> <pre><code>[ApiController]\n[Route(\"api/[controller]\")]\n[Authorize]\npublic class MetasController : ControllerBase\n{\n    private readonly IMediator _mediator;\n\n    public MetasController(IMediator mediator)\n    {\n        _mediator = mediator;\n    }\n\n    [HttpGet]\n    [ProducesResponseType(typeof(List&lt;MetaDto&gt;), StatusCodes.Status200OK)]\n    public async Task&lt;IActionResult&gt; GetAll()\n    {\n        var usuarioId = User.GetUserId();\n        var query = new GetMetasQuery { UsuarioId = usuarioId };\n        var result = await _mediator.Send(query);\n        return Ok(result.Data);\n    }\n\n    [HttpGet(\"{id}\")]\n    [ProducesResponseType(typeof(MetaDto), StatusCodes.Status200OK)]\n    [ProducesResponseType(StatusCodes.Status404NotFound)]\n    public async Task&lt;IActionResult&gt; GetById(Guid id)\n    {\n        var usuarioId = User.GetUserId();\n        var query = new GetMetaByIdQuery { Id = id, UsuarioId = usuarioId };\n        var result = await _mediator.Send(query);\n\n        if (!result.IsSuccess)\n            return NotFound(new { error = result.Error });\n\n        return Ok(result.Data);\n    }\n\n    [HttpGet(\"estatisticas\")]\n    [ProducesResponseType(typeof(MetasEstatisticasDto), StatusCodes.Status200OK)]\n    public async Task&lt;IActionResult&gt; GetEstatisticas()\n    {\n        var usuarioId = User.GetUserId();\n        var query = new GetMetasEstatisticasQuery { UsuarioId = usuarioId };\n        var result = await _mediator.Send(query);\n        return Ok(result.Data);\n    }\n\n    [HttpGet(\"vencidas\")]\n    [ProducesResponseType(typeof(List&lt;MetaDto&gt;), StatusCodes.Status200OK)]\n    public async Task&lt;IActionResult&gt; GetVencidas()\n    {\n        var usuarioId = User.GetUserId();\n        var query = new GetMetasVencidasQuery { UsuarioId = usuarioId };\n        var result = await _mediator.Send(query);\n        return Ok(result.Data);\n    }\n\n    [HttpGet(\"alcancadas\")]\n    [ProducesResponseType(typeof(List&lt;MetaDto&gt;), StatusCodes.Status200OK)]\n    public async Task&lt;IActionResult&gt; GetAlcancadas()\n    {\n        var usuarioId = User.GetUserId();\n        var query = new GetMetasAlcancadasQuery { UsuarioId = usuarioId };\n        var result = await _mediator.Send(query);\n        return Ok(result.Data);\n    }\n\n    [HttpPost]\n    [ProducesResponseType(typeof(MetaDto), StatusCodes.Status201Created)]\n    [ProducesResponseType(StatusCodes.Status400BadRequest)]\n    public async Task&lt;IActionResult&gt; Create([FromBody] CreateMetaCommand command)\n    {\n        command.UsuarioId = User.GetUserId();\n        var result = await _mediator.Send(command);\n\n        if (!result.IsSuccess)\n            return BadRequest(new { error = result.Error });\n\n        return CreatedAtAction(nameof(GetById), new { id = result.Data.Id }, result.Data);\n    }\n\n    [HttpPut(\"{id}\")]\n    [ProducesResponseType(typeof(MetaDto), StatusCodes.Status200OK)]\n    [ProducesResponseType(StatusCodes.Status400BadRequest)]\n    [ProducesResponseType(StatusCodes.Status404NotFound)]\n    public async Task&lt;IActionResult&gt; Update(Guid id, [FromBody] UpdateMetaCommand command)\n    {\n        command.Id = id;\n        command.UsuarioId = User.GetUserId();\n        var result = await _mediator.Send(command);\n\n        if (!result.IsSuccess)\n            return NotFound(new { error = result.Error });\n\n        return Ok(result.Data);\n    }\n\n    [HttpPatch(\"{id}/progresso\")]\n    [ProducesResponseType(typeof(MetaDto), StatusCodes.Status200OK)]\n    [ProducesResponseType(StatusCodes.Status400BadRequest)]\n    public async Task&lt;IActionResult&gt; UpdateProgresso(\n        Guid id, \n        [FromBody] UpdateMetaProgressoCommand command)\n    {\n        command.Id = id;\n        command.UsuarioId = User.GetUserId();\n        var result = await _mediator.Send(command);\n\n        if (!result.IsSuccess)\n            return BadRequest(new { error = result.Error });\n\n        return Ok(result.Data);\n    }\n\n    [HttpDelete(\"{id}\")]\n    [ProducesResponseType(StatusCodes.Status204NoContent)]\n    [ProducesResponseType(StatusCodes.Status404NotFound)]\n    public async Task&lt;IActionResult&gt; Delete(Guid id)\n    {\n        var usuarioId = User.GetUserId();\n        var command = new DeleteMetaCommand { Id = id, UsuarioId = usuarioId };\n        var result = await _mediator.Send(command);\n\n        if (!result.IsSuccess)\n            return NotFound(new { error = result.Error });\n\n        return NoContent();\n    }\n}\n</code></pre>"},{"location":"backend/api/#middleware","title":"Middleware","text":""},{"location":"backend/api/#errorhandlingmiddleware","title":"ErrorHandlingMiddleware","text":"<p>Captura e trata exce\u00e7\u00f5es globalmente.</p> <pre><code>public class ErrorHandlingMiddleware\n{\n    private readonly RequestDelegate _next;\n    private readonly ILogger&lt;ErrorHandlingMiddleware&gt; _logger;\n\n    public ErrorHandlingMiddleware(\n        RequestDelegate next,\n        ILogger&lt;ErrorHandlingMiddleware&gt; logger)\n    {\n        _next = next;\n        _logger = logger;\n    }\n\n    public async Task InvokeAsync(HttpContext context)\n    {\n        try\n        {\n            await _next(context);\n        }\n        catch (ValidationException ex)\n        {\n            _logger.LogWarning(ex, \"Validation error\");\n            await HandleValidationExceptionAsync(context, ex);\n        }\n        catch (DomainException ex)\n        {\n            _logger.LogWarning(ex, \"Domain error\");\n            await HandleDomainExceptionAsync(context, ex);\n        }\n        catch (Exception ex)\n        {\n            _logger.LogError(ex, \"Unhandled exception\");\n            await HandleExceptionAsync(context, ex);\n        }\n    }\n\n    private static Task HandleValidationExceptionAsync(\n        HttpContext context, \n        ValidationException exception)\n    {\n        context.Response.ContentType = \"application/json\";\n        context.Response.StatusCode = StatusCodes.Status400BadRequest;\n\n        var response = new\n        {\n            error = \"Validation failed\",\n            errors = exception.Errors\n        };\n\n        return context.Response.WriteAsJsonAsync(response);\n    }\n\n    private static Task HandleDomainExceptionAsync(\n        HttpContext context, \n        DomainException exception)\n    {\n        context.Response.ContentType = \"application/json\";\n        context.Response.StatusCode = StatusCodes.Status400BadRequest;\n\n        var response = new { error = exception.Message };\n        return context.Response.WriteAsJsonAsync(response);\n    }\n\n    private static Task HandleExceptionAsync(\n        HttpContext context, \n        Exception exception)\n    {\n        context.Response.ContentType = \"application/json\";\n        context.Response.StatusCode = StatusCodes.Status500InternalServerError;\n\n        var response = new { error = \"An error occurred processing your request\" };\n        return context.Response.WriteAsJsonAsync(response);\n    }\n}\n</code></pre>"},{"location":"backend/api/#requestloggingmiddleware","title":"RequestLoggingMiddleware","text":"<p>Loga todas as requisi\u00e7\u00f5es HTTP.</p> <pre><code>public class RequestLoggingMiddleware\n{\n    private readonly RequestDelegate _next;\n    private readonly ILogger&lt;RequestLoggingMiddleware&gt; _logger;\n\n    public RequestLoggingMiddleware(\n        RequestDelegate next,\n        ILogger&lt;RequestLoggingMiddleware&gt; logger)\n    {\n        _next = next;\n        _logger = logger;\n    }\n\n    public async Task InvokeAsync(HttpContext context)\n    {\n        var requestId = Guid.NewGuid().ToString();\n        context.Items[\"RequestId\"] = requestId;\n\n        _logger.LogInformation(\n            \"Request {RequestId}: {Method} {Path}\",\n            requestId,\n            context.Request.Method,\n            context.Request.Path);\n\n        var sw = Stopwatch.StartNew();\n\n        await _next(context);\n\n        sw.Stop();\n\n        _logger.LogInformation(\n            \"Request {RequestId} completed in {ElapsedMs}ms with status {StatusCode}\",\n            requestId,\n            sw.ElapsedMilliseconds,\n            context.Response.StatusCode);\n    }\n}\n</code></pre>"},{"location":"backend/api/#extensions","title":"Extensions","text":""},{"location":"backend/api/#claimsprincipalextensions","title":"ClaimsPrincipalExtensions","text":"<p>Extens\u00f5es para facilitar acesso a claims do usu\u00e1rio.</p> <pre><code>public static class ClaimsPrincipalExtensions\n{\n    public static Guid GetUserId(this ClaimsPrincipal principal)\n    {\n        var userIdClaim = principal.FindFirst(ClaimTypes.NameIdentifier)?.Value;\n\n        if (string.IsNullOrEmpty(userIdClaim))\n            throw new UnauthorizedAccessException(\"User ID not found in token\");\n\n        return Guid.Parse(userIdClaim);\n    }\n\n    public static string GetUserEmail(this ClaimsPrincipal principal)\n    {\n        return principal.FindFirst(ClaimTypes.Email)?.Value \n            ?? throw new UnauthorizedAccessException(\"Email not found in token\");\n    }\n\n    public static string GetUserName(this ClaimsPrincipal principal)\n    {\n        return principal.FindFirst(ClaimTypes.Name)?.Value \n            ?? throw new UnauthorizedAccessException(\"Name not found in token\");\n    }\n}\n</code></pre>"},{"location":"backend/api/#programcs","title":"Program.cs","text":"<p>Configura\u00e7\u00e3o principal da aplica\u00e7\u00e3o.</p> <pre><code>var builder = WebApplication.CreateBuilder(args);\n\n// Add services\nbuilder.Services.AddControllers();\nbuilder.Services.AddEndpointsApiExplorer();\n\n// Swagger\nbuilder.Services.AddSwaggerGen(c =&gt;\n{\n    c.SwaggerDoc(\"v1\", new OpenApiInfo\n    {\n        Title = \"SpendWise API\",\n        Version = \"v1\",\n        Description = \"API para gerenciamento de finan\u00e7as pessoais\"\n    });\n\n    c.AddSecurityDefinition(\"Bearer\", new OpenApiSecurityScheme\n    {\n        Description = \"JWT Authorization header using the Bearer scheme\",\n        Name = \"Authorization\",\n        In = ParameterLocation.Header,\n        Type = SecuritySchemeType.ApiKey,\n        Scheme = \"Bearer\"\n    });\n\n    c.AddSecurityRequirement(new OpenApiSecurityRequirement\n    {\n        {\n            new OpenApiSecurityScheme\n            {\n                Reference = new OpenApiReference\n                {\n                    Type = ReferenceType.SecurityScheme,\n                    Id = \"Bearer\"\n                }\n            },\n            Array.Empty&lt;string&gt;()\n        }\n    });\n});\n\n// CORS\nbuilder.Services.AddCors(options =&gt;\n{\n    options.AddPolicy(\"AllowFrontend\", policy =&gt;\n    {\n        policy.WithOrigins(\"http://localhost:3000\")\n              .AllowAnyMethod()\n              .AllowAnyHeader()\n              .AllowCredentials();\n    });\n});\n\n// JWT Authentication\nbuilder.Services.AddAuthentication(JwtBearerDefaults.AuthenticationScheme)\n    .AddJwtBearer(options =&gt;\n    {\n        options.TokenValidationParameters = new TokenValidationParameters\n        {\n            ValidateIssuerSigningKey = true,\n            IssuerSigningKey = new SymmetricSecurityKey(\n                Encoding.UTF8.GetBytes(builder.Configuration[\"JWT:SecretKey\"])),\n            ValidateIssuer = true,\n            ValidIssuer = builder.Configuration[\"JWT:Issuer\"],\n            ValidateAudience = true,\n            ValidAudience = builder.Configuration[\"JWT:Audience\"],\n            ValidateLifetime = true,\n            ClockSkew = TimeSpan.Zero\n        };\n    });\n\n// Health Checks\nbuilder.Services.AddHealthChecks()\n    .AddNpgSql(builder.Configuration.GetConnectionString(\"DefaultConnection\"));\n\n// Serilog\nbuilder.Host.UseSerilog((context, configuration) =&gt;\n    configuration.ReadFrom.Configuration(context.Configuration));\n\nvar app = builder.Build();\n\n// Configure pipeline\nif (app.Environment.IsDevelopment())\n{\n    app.UseSwagger();\n    app.UseSwaggerUI();\n}\n\napp.UseMiddleware&lt;ErrorHandlingMiddleware&gt;();\napp.UseMiddleware&lt;RequestLoggingMiddleware&gt;();\n\napp.UseCors(\"AllowFrontend\");\napp.UseAuthentication();\napp.UseAuthorization();\n\napp.MapControllers();\napp.MapHealthChecks(\"/health\");\n\napp.Run();\n</code></pre>"},{"location":"backend/api/#configuracao","title":"Configura\u00e7\u00e3o","text":""},{"location":"backend/api/#appsettingsjson","title":"appsettings.json","text":"<pre><code>{\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\",\n      \"Microsoft.AspNetCore\": \"Warning\"\n    }\n  },\n  \"AllowedHosts\": \"*\",\n  \"ConnectionStrings\": {\n    \"DefaultConnection\": \"Host=localhost;Port=5432;Database=spendwise;Username=spendwise;Password=spendwise123\"\n  },\n  \"JWT\": {\n    \"SecretKey\": \"your-secret-key-here\",\n    \"Issuer\": \"SpendWise\",\n    \"Audience\": \"SpendWise-Users\",\n    \"ExpirationMinutes\": \"10080\"\n  },\n  \"EmailSettings\": {\n    \"Provider\": \"Mock\",\n    \"ApiKey\": \"\",\n    \"SenderEmail\": \"noreply@spendwise.com\",\n    \"SenderName\": \"SpendWise\"\n  }\n}\n</code></pre>"},{"location":"backend/api/#documentacao-swagger","title":"Documenta\u00e7\u00e3o Swagger","text":"<p>Acesse <code>/swagger</code> para visualizar a documenta\u00e7\u00e3o interativa da API.</p>"},{"location":"backend/api/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ol> <li>Controllers Magros: Delegar l\u00f3gica para handlers</li> <li>Valida\u00e7\u00e3o: Validar entrada antes de processar</li> <li>Autoriza\u00e7\u00e3o: Proteger endpoints com [Authorize]</li> <li>Logging: Logar requisi\u00e7\u00f5es e erros</li> <li>CORS: Configurar CORS adequadamente</li> <li>Swagger: Documentar todos os endpoints</li> <li>Status Codes: Usar c\u00f3digos HTTP apropriados</li> <li>DTOs: Nunca expor entidades diretamente</li> </ol>"},{"location":"backend/application/","title":"Application Layer","text":"<p>A camada de aplica\u00e7\u00e3o cont\u00e9m a l\u00f3gica de aplica\u00e7\u00e3o, coordenando o fluxo de dados entre a camada de dom\u00ednio e a camada de apresenta\u00e7\u00e3o.</p>"},{"location":"backend/application/#principios","title":"Princ\u00edpios","text":"<ul> <li>CQRS: Separa\u00e7\u00e3o entre Commands (escrita) e Queries (leitura)</li> <li>MediatR: Mediator pattern para desacoplar handlers</li> <li>Valida\u00e7\u00e3o: FluentValidation para validar requests</li> <li>DTOs: Data Transfer Objects para comunica\u00e7\u00e3o entre camadas</li> </ul>"},{"location":"backend/application/#estrutura","title":"Estrutura","text":"<pre><code>SpendWise.Application/\n Commands/\n    Auth/\n    Categorias/\n    Transacoes/\n    OrcamentosMensais/\n    FechamentoMensal/\n    Metas/\n Queries/\n    Auth/\n    Categorias/\n    Transacoes/\n    OrcamentosMensais/\n    FechamentoMensal/\n    Metas/\n    Relatorios/\n Handlers/\n    Auth/\n    Categorias/\n    Transacoes/\n    OrcamentosMensais/\n    FechamentoMensal/\n    Metas/\n    Relatorios/\n Validators/\n    Auth/\n    Categorias/\n    Transacoes/\n    OrcamentosMensais/\n    FechamentoMensal/\n    Metas/\n DTOs/\n    Auth/\n    Categorias/\n    Transacoes/\n    OrcamentosMensais/\n    FechamentoMensal/\n    Metas/\n    Relatorios/\n Behaviors/\n    ValidationBehavior.cs\n    LoggingBehavior.cs\n Services/\n     ExportService.cs\n</code></pre>"},{"location":"backend/application/#cqrs-pattern","title":"CQRS Pattern","text":""},{"location":"backend/application/#commands-escrita","title":"Commands (Escrita)","text":"<p>Commands representam inten\u00e7\u00f5es de modificar o estado do sistema.</p> <p>Caracter\u00edsticas: - Modificam dados - Retornam resultado de sucesso/falha - Validados antes da execu\u00e7\u00e3o - Podem falhar</p> <p>Exemplo:</p> <pre><code>public class CreateTransacaoCommand : IRequest&lt;Result&lt;TransacaoDto&gt;&gt;\n{\n    public string Descricao { get; set; }\n    public decimal Valor { get; set; }\n    public DateTime Data { get; set; }\n    public TipoTransacao Tipo { get; set; }\n    public Guid? CategoriaId { get; set; }\n    public Guid UsuarioId { get; set; }\n}\n</code></pre>"},{"location":"backend/application/#queries-leitura","title":"Queries (Leitura)","text":"<p>Queries representam consultas de dados sem modifica\u00e7\u00e3o.</p> <p>Caracter\u00edsticas: - Apenas leitura - N\u00e3o modificam estado - Podem ser cacheadas - Sempre retornam dados</p> <p>Exemplo:</p> <pre><code>public class GetTransacoesByPeriodoQuery : IRequest&lt;Result&lt;List&lt;TransacaoDto&gt;&gt;&gt;\n{\n    public int Mes { get; set; }\n    public int Ano { get; set; }\n    public Guid UsuarioId { get; set; }\n    public TipoTransacao? Tipo { get; set; }\n    public Guid? CategoriaId { get; set; }\n}\n</code></pre>"},{"location":"backend/application/#handlers","title":"Handlers","text":"<p>Handlers processam Commands e Queries.</p>"},{"location":"backend/application/#command-handler","title":"Command Handler","text":"<pre><code>public class CreateTransacaoCommandHandler \n    : IRequestHandler&lt;CreateTransacaoCommand, Result&lt;TransacaoDto&gt;&gt;\n{\n    private readonly ITransacaoRepository _repository;\n    private readonly ICategoriaRepository _categoriaRepository;\n    private readonly IUnitOfWork _unitOfWork;\n\n    public async Task&lt;Result&lt;TransacaoDto&gt;&gt; Handle(\n        CreateTransacaoCommand request, \n        CancellationToken cancellationToken)\n    {\n        // 1. Validar categoria (se despesa)\n        if (request.Tipo == TipoTransacao.Despesa &amp;&amp; request.CategoriaId.HasValue)\n        {\n            var categoria = await _categoriaRepository.GetByIdAsync(request.CategoriaId.Value);\n\n            // Validar limite de categoria\n            if (categoria.LimiteDefinido)\n            {\n                var gastoAtual = await _repository.GetTotalByCategoriaAsync(\n                    categoria.Id, request.Data.Month, request.Data.Year);\n\n                if (gastoAtual + request.Valor &gt; categoria.LimiteMensal)\n                {\n                    return Result&lt;TransacaoDto&gt;.Failure(\"Limite da categoria excedido\");\n                }\n            }\n        }\n\n        // 2. Criar entidade\n        var transacao = new Transacao\n        {\n            Descricao = request.Descricao,\n            Valor = new Money(request.Valor),\n            Data = request.Data,\n            Tipo = request.Tipo,\n            CategoriaId = request.CategoriaId,\n            UsuarioId = request.UsuarioId\n        };\n\n        // 3. Persistir\n        await _repository.AddAsync(transacao);\n        await _unitOfWork.CommitAsync();\n\n        // 4. Retornar DTO\n        var dto = MapToDto(transacao);\n        return Result&lt;TransacaoDto&gt;.Success(dto);\n    }\n}\n</code></pre>"},{"location":"backend/application/#query-handler","title":"Query Handler","text":"<pre><code>public class GetTransacoesByPeriodoQueryHandler \n    : IRequestHandler&lt;GetTransacoesByPeriodoQuery, Result&lt;List&lt;TransacaoDto&gt;&gt;&gt;\n{\n    private readonly ITransacaoRepository _repository;\n\n    public async Task&lt;Result&lt;List&lt;TransacaoDto&gt;&gt;&gt; Handle(\n        GetTransacoesByPeriodoQuery request, \n        CancellationToken cancellationToken)\n    {\n        var transacoes = await _repository.GetByPeriodoAsync(\n            request.Mes, \n            request.Ano, \n            request.UsuarioId,\n            request.Tipo,\n            request.CategoriaId);\n\n        var dtos = transacoes.Select(MapToDto).ToList();\n        return Result&lt;List&lt;TransacaoDto&gt;&gt;.Success(dtos);\n    }\n}\n</code></pre>"},{"location":"backend/application/#validacao-com-fluentvalidation","title":"Valida\u00e7\u00e3o com FluentValidation","text":"<p>Cada Command tem um Validator correspondente.</p> <pre><code>public class CreateTransacaoCommandValidator \n    : AbstractValidator&lt;CreateTransacaoCommand&gt;\n{\n    public CreateTransacaoCommandValidator()\n    {\n        RuleFor(x =&gt; x.Descricao)\n            .NotEmpty().WithMessage(\"Descri\u00e7\u00e3o \u00e9 obrigat\u00f3ria\")\n            .MaximumLength(200).WithMessage(\"Descri\u00e7\u00e3o muito longa\");\n\n        RuleFor(x =&gt; x.Valor)\n            .GreaterThan(0).WithMessage(\"Valor deve ser positivo\");\n\n        RuleFor(x =&gt; x.Data)\n            .LessThanOrEqualTo(DateTime.Now)\n            .WithMessage(\"Data n\u00e3o pode ser futura\");\n\n        RuleFor(x =&gt; x.CategoriaId)\n            .NotEmpty()\n            .When(x =&gt; x.Tipo == TipoTransacao.Despesa)\n            .WithMessage(\"Categoria \u00e9 obrigat\u00f3ria para despesas\");\n    }\n}\n</code></pre>"},{"location":"backend/application/#pipeline-behaviors","title":"Pipeline Behaviors","text":""},{"location":"backend/application/#validationbehavior","title":"ValidationBehavior","text":"<p>Executa valida\u00e7\u00f5es antes de processar o request.</p> <pre><code>public class ValidationBehavior&lt;TRequest, TResponse&gt; \n    : IPipelineBehavior&lt;TRequest, TResponse&gt;\n    where TRequest : IRequest&lt;TResponse&gt;\n{\n    private readonly IEnumerable&lt;IValidator&lt;TRequest&gt;&gt; _validators;\n\n    public async Task&lt;TResponse&gt; Handle(\n        TRequest request,\n        RequestHandlerDelegate&lt;TResponse&gt; next,\n        CancellationToken cancellationToken)\n    {\n        if (_validators.Any())\n        {\n            var context = new ValidationContext&lt;TRequest&gt;(request);\n\n            var validationResults = await Task.WhenAll(\n                _validators.Select(v =&gt; v.ValidateAsync(context, cancellationToken)));\n\n            var failures = validationResults\n                .SelectMany(r =&gt; r.Errors)\n                .Where(f =&gt; f != null)\n                .ToList();\n\n            if (failures.Count != 0)\n            {\n                throw new ValidationException(failures);\n            }\n        }\n\n        return await next();\n    }\n}\n</code></pre>"},{"location":"backend/application/#loggingbehavior","title":"LoggingBehavior","text":"<p>Loga todas as requisi\u00e7\u00f5es e respostas.</p> <pre><code>public class LoggingBehavior&lt;TRequest, TResponse&gt; \n    : IPipelineBehavior&lt;TRequest, TResponse&gt;\n    where TRequest : IRequest&lt;TResponse&gt;\n{\n    private readonly ILogger&lt;LoggingBehavior&lt;TRequest, TResponse&gt;&gt; _logger;\n\n    public async Task&lt;TResponse&gt; Handle(\n        TRequest request,\n        RequestHandlerDelegate&lt;TResponse&gt; next,\n        CancellationToken cancellationToken)\n    {\n        var requestName = typeof(TRequest).Name;\n\n        _logger.LogInformation(\"Handling {RequestName}\", requestName);\n\n        var response = await next();\n\n        _logger.LogInformation(\"Handled {RequestName}\", requestName);\n\n        return response;\n    }\n}\n</code></pre>"},{"location":"backend/application/#dtos-data-transfer-objects","title":"DTOs (Data Transfer Objects)","text":"<p>DTOs s\u00e3o usados para transferir dados entre camadas.</p> <pre><code>public class TransacaoDto\n{\n    public Guid Id { get; set; }\n    public string Descricao { get; set; }\n    public decimal Valor { get; set; }\n    public DateTime Data { get; set; }\n    public TipoTransacao Tipo { get; set; }\n    public Guid? CategoriaId { get; set; }\n    public string? CategoriaNome { get; set; }\n    public string? CategoriaCor { get; set; }\n    public DateTime CreatedAt { get; set; }\n}\n</code></pre>"},{"location":"backend/application/#principais-commands","title":"Principais Commands","text":""},{"location":"backend/application/#autenticacao","title":"Autentica\u00e7\u00e3o","text":"<ul> <li><code>RegisterUserCommand</code>: Cadastrar novo usu\u00e1rio</li> <li><code>LoginCommand</code>: Fazer login</li> <li><code>ForgotPasswordCommand</code>: Solicitar reset de senha</li> <li><code>ResetPasswordCommand</code>: Redefinir senha</li> </ul>"},{"location":"backend/application/#categorias","title":"Categorias","text":"<ul> <li><code>CreateCategoriaCommand</code>: Criar categoria</li> <li><code>UpdateCategoriaCommand</code>: Atualizar categoria</li> <li><code>DeleteCategoriaCommand</code>: Excluir categoria</li> <li><code>ReatribuirTransacoesCommand</code>: Reatribuir transa\u00e7\u00f5es para outra categoria</li> </ul>"},{"location":"backend/application/#transacoes","title":"Transa\u00e7\u00f5es","text":"<ul> <li><code>CreateTransacaoCommand</code>: Criar transa\u00e7\u00e3o</li> <li><code>UpdateTransacaoCommand</code>: Atualizar transa\u00e7\u00e3o</li> <li><code>DeleteTransacaoCommand</code>: Excluir transa\u00e7\u00e3o</li> <li><code>ImportTransacoesFromCsvCommand</code>: Importar de CSV</li> </ul>"},{"location":"backend/application/#orcamentos-mensais","title":"Or\u00e7amentos Mensais","text":"<ul> <li><code>CreateOrcamentoMensalCommand</code>: Criar or\u00e7amento</li> <li><code>UpdateOrcamentoMensalCommand</code>: Atualizar or\u00e7amento</li> <li><code>DeleteOrcamentoMensalCommand</code>: Excluir or\u00e7amento</li> </ul>"},{"location":"backend/application/#fechamento-mensal","title":"Fechamento Mensal","text":"<ul> <li><code>FecharMesCommand</code>: Fechar m\u00eas</li> <li><code>ReabrirMesCommand</code>: Reabrir m\u00eas</li> </ul>"},{"location":"backend/application/#metas","title":"Metas","text":"<ul> <li><code>CreateMetaCommand</code>: Criar meta</li> <li><code>UpdateMetaCommand</code>: Atualizar meta</li> <li><code>DeleteMetaCommand</code>: Excluir meta</li> <li><code>UpdateMetaProgressoCommand</code>: Atualizar progresso</li> </ul>"},{"location":"backend/application/#principais-queries","title":"Principais Queries","text":""},{"location":"backend/application/#categorias_1","title":"Categorias","text":"<ul> <li><code>GetCategoriasQuery</code>: Listar categorias</li> <li><code>GetCategoriaByIdQuery</code>: Buscar por ID</li> <li><code>GetCategoriasComProgressoQuery</code>: Listar com progresso de gastos</li> </ul>"},{"location":"backend/application/#transacoes_1","title":"Transa\u00e7\u00f5es","text":"<ul> <li><code>GetTransacoesQuery</code>: Listar transa\u00e7\u00f5es</li> <li><code>GetTransacaoByIdQuery</code>: Buscar por ID</li> <li><code>GetTransacoesByPeriodoQuery</code>: Listar por per\u00edodo</li> <li><code>ExportTransacoesToCsvQuery</code>: Exportar para CSV</li> </ul>"},{"location":"backend/application/#orcamentos-mensais_1","title":"Or\u00e7amentos Mensais","text":"<ul> <li><code>GetOrcamentosMensaisQuery</code>: Listar or\u00e7amentos</li> <li><code>GetOrcamentoMensalByPeriodoQuery</code>: Buscar por per\u00edodo</li> <li><code>GetEstatisticasCategoriasQuery</code>: Estat\u00edsticas por categoria</li> </ul>"},{"location":"backend/application/#fechamento-mensal_1","title":"Fechamento Mensal","text":"<ul> <li><code>GetFechamentosMensaisQuery</code>: Listar fechamentos</li> <li><code>GetFechamentoMensalByIdQuery</code>: Buscar por ID</li> </ul>"},{"location":"backend/application/#metas_1","title":"Metas","text":"<ul> <li><code>GetMetasQuery</code>: Listar metas</li> <li><code>GetMetaByIdQuery</code>: Buscar por ID</li> <li><code>GetMetasEstatisticasQuery</code>: Estat\u00edsticas gerais</li> <li><code>GetMetasVencidasQuery</code>: Listar vencidas</li> <li><code>GetMetasAlcancadasQuery</code>: Listar alcan\u00e7adas</li> </ul>"},{"location":"backend/application/#relatorios","title":"Relat\u00f3rios","text":"<ul> <li><code>GetRelatorioPorCategoriaQuery</code>: Relat\u00f3rio por categoria</li> <li><code>GetEvolucaoMensalQuery</code>: Evolu\u00e7\u00e3o mensal</li> <li><code>GetComparativoMesesQuery</code>: Comparativo entre meses</li> </ul>"},{"location":"backend/application/#services","title":"Services","text":""},{"location":"backend/application/#exportservice","title":"ExportService","text":"<p>Servi\u00e7o para exporta\u00e7\u00e3o e importa\u00e7\u00e3o de dados.</p> <p>M\u00e9todos: - <code>ExportToCsvAsync</code>: Exporta transa\u00e7\u00f5es para CSV - <code>ImportFromCsvAsync</code>: Importa transa\u00e7\u00f5es de CSV - <code>ValidateCsvFormat</code>: Valida formato do CSV</p>"},{"location":"backend/application/#result-pattern","title":"Result Pattern","text":"<p>Todas as opera\u00e7\u00f5es retornam um <code>Result&lt;T&gt;</code> para tratamento de erros.</p> <pre><code>public class Result&lt;T&gt;\n{\n    public bool IsSuccess { get; }\n    public T Data { get; }\n    public string Error { get; }\n\n    public static Result&lt;T&gt; Success(T data) \n        =&gt; new Result&lt;T&gt;(true, data, null);\n\n    public static Result&lt;T&gt; Failure(string error) \n        =&gt; new Result&lt;T&gt;(false, default, error);\n}\n</code></pre>"},{"location":"backend/application/#testes","title":"Testes","text":"<p>A camada de aplica\u00e7\u00e3o \u00e9 testada com:</p> <ul> <li>Testes Unit\u00e1rios: Handlers isolados com mocks</li> <li>Testes de Valida\u00e7\u00e3o: Validators com casos v\u00e1lidos e inv\u00e1lidos</li> <li>Testes de Integra\u00e7\u00e3o: Fluxos completos com banco de dados</li> </ul> <p>Localiza\u00e7\u00e3o: <code>tests/SpendWise.Application.Tests/</code></p>"},{"location":"backend/application/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ol> <li>Handlers Pequenos: Cada handler faz uma coisa</li> <li>Valida\u00e7\u00e3o Expl\u00edcita: Valida\u00e7\u00f5es claras e descritivas</li> <li>DTOs Simples: DTOs cont\u00eam apenas dados</li> <li>Separa\u00e7\u00e3o CQRS: Commands e Queries separados</li> <li>Result Pattern: Tratamento de erros consistente</li> <li>Logging: Todas as opera\u00e7\u00f5es s\u00e3o logadas</li> <li>Async/Await: Opera\u00e7\u00f5es ass\u00edncronas por padr\u00e3o</li> </ol>"},{"location":"backend/backlog/","title":"Product Backlog - Backend","text":"<p>Este documento cont\u00e9m o backlog completo do backend do SpendWise, organizado por Epics e User Stories.</p>"},{"location":"backend/backlog/#resumo-geral","title":"Resumo Geral","text":"Epic Hist\u00f3rias Pontos Status Epic 1: Autentica\u00e7\u00e3o 5 28 DONE Epic 2: Categorias 2 21 DONE Epic 3: Transa\u00e7\u00f5es 3 29 DONE Epic 4: Or\u00e7amento 2 13 DONE Epic 5: Fechamento 2 18 DONE Epic 6: Relat\u00f3rios 5 34 DONE Epic 7: Metas 4 26 DONE Epic 8: Infraestrutura 13 144 DONE TOTAL 36 313 DONE"},{"location":"backend/backlog/#epic-1-autenticacao-e-gerenciamento-de-usuarios","title":"Epic 1: Autentica\u00e7\u00e3o e Gerenciamento de Usu\u00e1rios","text":""},{"location":"backend/backlog/#sw-001-cadastro-de-usuario","title":"SW-001: Cadastro de Usu\u00e1rio","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como um novo usu\u00e1rio, quero me cadastrar no sistema para poder gerenciar minhas finan\u00e7as pessoais.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode se cadastrar com nome, email e senha - Email deve ser \u00fanico no sistema - Senha deve ter m\u00ednimo 6 caracteres - Sistema valida formato de email - Senha \u00e9 armazenada com hash seguro - Retorna erro se email j\u00e1 existir - Retorna token JWT ap\u00f3s cadastro bem-sucedido</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>POST /api/auth/register</code> - Command: <code>RegisterUserCommand</code> - Handler: <code>RegisterUserCommandHandler</code> - Validator: <code>RegisterUserCommandValidator</code> - Entity: <code>Usuario</code></p>"},{"location":"backend/backlog/#sw-002-login-de-usuario","title":"SW-002: Login de Usu\u00e1rio","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 5</p> <p>Hist\u00f3ria: Como um usu\u00e1rio cadastrado, quero fazer login no sistema para acessar minhas informa\u00e7\u00f5es financeiras.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode fazer login com email e senha - Sistema valida credenciais - Retorna token JWT v\u00e1lido por 7 dias - Token cont\u00e9m ID e email do usu\u00e1rio - Retorna erro 401 se credenciais inv\u00e1lidas</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>POST /api/auth/login</code> - Command: <code>LoginCommand</code> - Handler: <code>LoginCommandHandler</code> - Service: <code>JwtService</code></p>"},{"location":"backend/backlog/#sw-003-logout-de-usuario","title":"SW-003: Logout de Usu\u00e1rio","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 2</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero fazer logout do sistema para encerrar minha sess\u00e3o com seguran\u00e7a.</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>POST /api/auth/logout</code> - Tipo: Opera\u00e7\u00e3o client-side</p>"},{"location":"backend/backlog/#sw-004-recuperacao-de-senha","title":"SW-004: Recupera\u00e7\u00e3o de Senha","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como um usu\u00e1rio que esqueceu a senha, quero solicitar recupera\u00e7\u00e3o de senha para poder acessar minha conta novamente.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode solicitar recupera\u00e7\u00e3o informando email - Sistema gera token seguro de 32 bytes - Token \u00e9 v\u00e1lido por 30 minutos - Email \u00e9 enviado com link de redefini\u00e7\u00e3o - Usu\u00e1rio pode redefinir senha com token v\u00e1lido - Token \u00e9 invalidado ap\u00f3s uso</p> <p>Implementa\u00e7\u00e3o: - Endpoints: <code>POST /api/auth/forgot-password</code>, <code>POST /api/auth/reset-password</code> - Commands: <code>ForgotPasswordCommand</code>, <code>ResetPasswordCommand</code> - Service: <code>IEmailService</code> (MockEmailService em dev, Brevo em prod)</p>"},{"location":"backend/backlog/#sw-005-perfil-de-usuario","title":"SW-005: Perfil de Usu\u00e1rio","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 5</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero visualizar e editar meu perfil para manter minhas informa\u00e7\u00f5es atualizadas.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode visualizar seu perfil - Usu\u00e1rio pode editar nome - Usu\u00e1rio pode ativar/desativar notifica\u00e7\u00f5es - Sistema valida dados antes de salvar</p> <p>Implementa\u00e7\u00e3o: - Endpoints: <code>GET /api/usuarios/perfil</code>, <code>PUT /api/usuarios/perfil</code> - Query: <code>GetUserProfileQuery</code> - Command: <code>UpdateUserProfileCommand</code></p>"},{"location":"backend/backlog/#epic-2-gestao-de-categorias","title":"Epic 2: Gest\u00e3o de Categorias","text":""},{"location":"backend/backlog/#sw-010-crud-de-categorias","title":"SW-010: CRUD de Categorias","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 13</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero gerenciar categorias de gastos para organizar minhas transa\u00e7\u00f5es financeiras.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode criar categoria com nome, tipo e cor - Tipo pode ser ESSENCIAL ou SUPERFLUO - Usu\u00e1rio pode listar todas suas categorias - Usu\u00e1rio pode editar categoria existente - Usu\u00e1rio pode excluir categoria sem transa\u00e7\u00f5es - Sistema impede exclus\u00e3o de categoria com transa\u00e7\u00f5es</p> <p>Implementa\u00e7\u00e3o: - Endpoints: GET, POST, PUT, DELETE <code>/api/categorias</code> - Commands: <code>CreateCategoriaCommand</code>, <code>UpdateCategoriaCommand</code>, <code>DeleteCategoriaCommand</code> - Queries: <code>GetCategoriasQuery</code>, <code>GetCategoriaByIdQuery</code> - Entity: <code>Categoria</code></p>"},{"location":"backend/backlog/#sw-011-limite-financeiro-por-categoria","title":"SW-011: Limite Financeiro por Categoria","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero definir limite mensal para cada categoria para controlar meus gastos por \u00e1rea.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode definir limite mensal opcional para categoria - Sistema calcula gasto atual da categoria - Sistema valida se nova despesa excede limite - Sistema bloqueia transa\u00e7\u00e3o se exceder limite - Sistema permite transa\u00e7\u00e3o se atingir limite exato</p> <p>Implementa\u00e7\u00e3o: - Campos em Categoria: <code>LimiteDefinido</code>, <code>LimiteMensal</code> - Valida\u00e7\u00e3o em: <code>CreateTransacaoCommandHandler</code></p>"},{"location":"backend/backlog/#epic-3-gestao-de-transacoes","title":"Epic 3: Gest\u00e3o de Transa\u00e7\u00f5es","text":""},{"location":"backend/backlog/#sw-020-registro-de-receitas-e-despesas","title":"SW-020: Registro de Receitas e Despesas","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 13</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero registrar minhas receitas e despesas para acompanhar meu fluxo financeiro.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode criar transa\u00e7\u00e3o do tipo RECEITA ou DESPESA - Transa\u00e7\u00e3o deve ter descri\u00e7\u00e3o, valor e data - Valor deve ser positivo - Data n\u00e3o pode ser futura - Despesa deve ter categoria obrigat\u00f3ria - Receita pode ter categoria opcional - Sistema valida limite de categoria para despesas</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>POST /api/transacoes</code> - Command: <code>CreateTransacaoCommand</code> - Entity: <code>Transacao</code> - Enum: <code>TipoTransacao</code></p>"},{"location":"backend/backlog/#sw-021-listagem-de-transacoes-com-filtros","title":"SW-021: Listagem de Transa\u00e7\u00f5es com Filtros","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero listar minhas transa\u00e7\u00f5es com filtros para encontrar transa\u00e7\u00f5es espec\u00edficas facilmente.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode listar todas suas transa\u00e7\u00f5es - Usu\u00e1rio pode filtrar por m\u00eas, ano, tipo e categoria - Resultados s\u00e3o ordenados por data (mais recente primeiro)</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>GET /api/transacoes?mes=1&amp;ano=2024&amp;tipo=Despesa&amp;categoriaId=123</code> - Query: <code>GetTransacoesQuery</code></p>"},{"location":"backend/backlog/#sw-022-edicao-e-exclusao-de-transacoes","title":"SW-022: Edi\u00e7\u00e3o e Exclus\u00e3o de Transa\u00e7\u00f5es","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero editar e excluir transa\u00e7\u00f5es para corrigir erros ou remover registros indevidos.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode editar transa\u00e7\u00e3o existente - Usu\u00e1rio pode alterar todos os campos - Sistema valida novos dados antes de salvar - Usu\u00e1rio pode excluir transa\u00e7\u00e3o - Sistema impede edi\u00e7\u00e3o/exclus\u00e3o de transa\u00e7\u00e3o de outro usu\u00e1rio</p> <p>Implementa\u00e7\u00e3o: - Endpoints: <code>PUT /api/transacoes/{id}</code>, <code>DELETE /api/transacoes/{id}</code> - Commands: <code>UpdateTransacaoCommand</code>, <code>DeleteTransacaoCommand</code></p>"},{"location":"backend/backlog/#epic-4-orcamento-mensal","title":"Epic 4: Or\u00e7amento Mensal","text":""},{"location":"backend/backlog/#sw-030-definicao-de-orcamento-mensal","title":"SW-030: Defini\u00e7\u00e3o de Or\u00e7amento Mensal","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero definir um or\u00e7amento mensal para controlar meus gastos totais do m\u00eas.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode criar or\u00e7amento para m\u00eas/ano espec\u00edfico - Or\u00e7amento tem valor limite total - Usu\u00e1rio pode ter apenas um or\u00e7amento por m\u00eas/ano - Sistema valida se j\u00e1 existe or\u00e7amento para o per\u00edodo</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>POST /api/orcamentos-mensais</code> - Command: <code>CreateOrcamentoMensalCommand</code> - Entity: <code>OrcamentoMensal</code></p>"},{"location":"backend/backlog/#sw-031-acompanhamento-de-gastos-vs-orcamento","title":"SW-031: Acompanhamento de Gastos vs Or\u00e7amento","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 5</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero acompanhar meus gastos em rela\u00e7\u00e3o ao or\u00e7amento para saber se estou dentro do planejado.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode visualizar or\u00e7amento de m\u00eas/ano espec\u00edfico - Sistema calcula total de despesas do per\u00edodo - Sistema calcula saldo restante - Sistema calcula percentual utilizado</p> <p>Implementa\u00e7\u00e3o: - Endpoints: <code>GET /api/orcamentos-mensais</code>, <code>GET /api/orcamentos-mensais/{ano}/{mes}</code> - Queries: <code>GetOrcamentosMensaisQuery</code>, <code>GetOrcamentoMensalByPeriodoQuery</code></p>"},{"location":"backend/backlog/#epic-5-fechamento-mensal","title":"Epic 5: Fechamento Mensal","text":""},{"location":"backend/backlog/#sw-040-fechamento-automatico-do-mes","title":"SW-040: Fechamento Autom\u00e1tico do M\u00eas","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 13</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero fechar o m\u00eas atual para consolidar minhas finan\u00e7as do per\u00edodo.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode fechar m\u00eas/ano espec\u00edfico - Sistema consolida todas transa\u00e7\u00f5es do per\u00edodo - Sistema calcula total de receitas - Sistema calcula total de despesas - Sistema calcula saldo final (receitas - despesas) - Sistema impede fechar m\u00eas j\u00e1 fechado - Data de fechamento \u00e9 registrada automaticamente</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>POST /api/fechamento-mensal</code> - Command: <code>CreateFechamentoMensalCommand</code> - Handler: <code>CreateFechamentoMensalCommandHandler</code> - Entity: <code>FechamentoMensal</code></p>"},{"location":"backend/backlog/#sw-041-historico-de-fechamentos","title":"SW-041: Hist\u00f3rico de Fechamentos","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 5</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero visualizar hist\u00f3rico de fechamentos para acompanhar a evolu\u00e7\u00e3o das minhas finan\u00e7as.</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o: - Usu\u00e1rio pode listar todos fechamentos realizados - Lista \u00e9 ordenada por data (mais recente primeiro) - Cada fechamento mostra m\u00eas, ano, receitas, despesas e saldo - Usu\u00e1rio pode visualizar detalhes de fechamento espec\u00edfico - Sistema retorna apenas fechamentos do usu\u00e1rio autenticado</p> <p>Implementa\u00e7\u00e3o: - Endpoints: <code>GET /api/fechamento-mensal</code>, <code>GET /api/fechamento-mensal/{id}</code> - Queries: <code>GetFechamentosMensaisQuery</code>, <code>GetFechamentoMensalByIdQuery</code></p>"},{"location":"backend/backlog/#epic-6-relatorios-e-analises","title":"Epic 6: Relat\u00f3rios e An\u00e1lises","text":""},{"location":"backend/backlog/#sw-050-relatorio-por-categoria","title":"SW-050: Relat\u00f3rio por Categoria","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero ver relat\u00f3rio de gastos por categoria para identificar onde gasto mais.</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>GET /api/transacoes/relatorio-categoria?mes=1&amp;ano=2024</code> - Query: <code>GetRelatorioPorCategoriaQuery</code></p>"},{"location":"backend/backlog/#sw-051-evolucao-mensal","title":"SW-051: Evolu\u00e7\u00e3o Mensal","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero ver evolu\u00e7\u00e3o mensal das minhas finan\u00e7as para identificar tend\u00eancias ao longo do tempo.</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>GET /api/transacoes/evolucao-mensal?ano=2024</code> - Query: <code>GetEvolucaoMensalQuery</code></p>"},{"location":"backend/backlog/#sw-060-exportacao-para-csv","title":"SW-060: Exporta\u00e7\u00e3o para CSV","text":"<p>Status: DONE | Prioridade: COULD HAVE | Pontos: 5</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero exportar minhas transa\u00e7\u00f5es para CSV para analisar em outras ferramentas.</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>GET /api/transacoes/export-csv?mes=1&amp;ano=2024</code> - Query: <code>ExportTransacoesToCsvQuery</code></p>"},{"location":"backend/backlog/#sw-061-importacao-de-csv","title":"SW-061: Importa\u00e7\u00e3o de CSV","text":"<p>Status: DONE | Prioridade: COULD HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero importar transa\u00e7\u00f5es de arquivo CSV para migrar dados de outras ferramentas.</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>POST /api/transacoes/import-csv</code> - Command: <code>ImportTransacoesFromCsvCommand</code></p>"},{"location":"backend/backlog/#sw-062-comparativo-entre-meses","title":"SW-062: Comparativo entre Meses","text":"<p>Status: DONE | Prioridade: COULD HAVE | Pontos: 5</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero comparar dois meses diferentes para identificar varia\u00e7\u00f5es nos meus gastos.</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>GET /api/transacoes/comparativo-meses?mes1=1&amp;ano1=2024&amp;mes2=12&amp;ano2=2023</code> - Query: <code>GetComparativoMesesQuery</code></p>"},{"location":"backend/backlog/#epic-7-metas-financeiras","title":"Epic 7: Metas Financeiras","text":""},{"location":"backend/backlog/#sw-070-criacao-de-metas","title":"SW-070: Cria\u00e7\u00e3o de Metas","text":"<p>Status: DONE | Prioridade: COULD HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero criar metas financeiras para planejar objetivos de longo prazo.</p> <p>Implementa\u00e7\u00e3o: - Endpoint: <code>POST /api/metas</code> - Command: <code>CreateMetaCommand</code> - Entity: <code>Meta</code></p>"},{"location":"backend/backlog/#sw-071-acompanhamento-de-progresso","title":"SW-071: Acompanhamento de Progresso","text":"<p>Status: DONE | Prioridade: COULD HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero acompanhar progresso das minhas metas para saber quanto falta para alcan\u00e7ar.</p> <p>Implementa\u00e7\u00e3o: - Endpoints: <code>GET /api/metas</code>, <code>GET /api/metas/{id}</code>, <code>PATCH /api/metas/{id}/progresso</code> - Queries: <code>GetMetasQuery</code>, <code>GetMetaByIdQuery</code> - Command: <code>UpdateMetaProgressoCommand</code></p>"},{"location":"backend/backlog/#sw-072-edicao-e-exclusao-de-metas","title":"SW-072: Edi\u00e7\u00e3o e Exclus\u00e3o de Metas","text":"<p>Status: DONE | Prioridade: COULD HAVE | Pontos: 5</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero editar e excluir metas para ajustar meus objetivos conforme necess\u00e1rio.</p> <p>Implementa\u00e7\u00e3o: - Endpoints: <code>PUT /api/metas/{id}</code>, <code>DELETE /api/metas/{id}</code> - Commands: <code>UpdateMetaCommand</code>, <code>DeleteMetaCommand</code></p>"},{"location":"backend/backlog/#sw-073-estatisticas-de-metas","title":"SW-073: Estat\u00edsticas de Metas","text":"<p>Status: DONE | Prioridade: COULD HAVE | Pontos: 5</p> <p>Hist\u00f3ria: Como um usu\u00e1rio autenticado, quero ver estat\u00edsticas gerais das minhas metas para ter vis\u00e3o consolidada dos meus objetivos.</p> <p>Implementa\u00e7\u00e3o: - Endpoints: <code>GET /api/metas/estatisticas</code>, <code>GET /api/metas/vencidas</code>, <code>GET /api/metas/alcancadas</code> - Queries: <code>GetMetasEstatisticasQuery</code>, <code>GetMetasVencidasQuery</code>, <code>GetMetasAlcancadasQuery</code></p>"},{"location":"backend/backlog/#epic-8-infraestrutura-e-qualidade","title":"Epic 8: Infraestrutura e Qualidade","text":""},{"location":"backend/backlog/#sw-080-clean-architecture","title":"SW-080: Clean Architecture","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 21</p> <p>Hist\u00f3ria: Como desenvolvedor, quero implementar Clean Architecture para ter c\u00f3digo organizado e manuten\u00edvel.</p>"},{"location":"backend/backlog/#sw-081-cqrs-com-mediatr","title":"SW-081: CQRS com MediatR","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 13</p> <p>Hist\u00f3ria: Como desenvolvedor, quero implementar CQRS com MediatR para separar comandos de consultas.</p>"},{"location":"backend/backlog/#sw-082-entity-framework-core","title":"SW-082: Entity Framework Core","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 13</p> <p>Hist\u00f3ria: Como desenvolvedor, quero usar Entity Framework Core para persist\u00eancia de dados.</p>"},{"location":"backend/backlog/#sw-083-repository-pattern","title":"SW-083: Repository Pattern","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como desenvolvedor, quero implementar Repository Pattern para abstrair acesso a dados.</p>"},{"location":"backend/backlog/#sw-084-autenticacao-jwt","title":"SW-084: Autentica\u00e7\u00e3o JWT","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como desenvolvedor, quero implementar autentica\u00e7\u00e3o JWT para proteger endpoints.</p>"},{"location":"backend/backlog/#sw-085-validacoes-com-fluentvalidation","title":"SW-085: Valida\u00e7\u00f5es com FluentValidation","text":"<p>Status: DONE | Prioridade: MUST HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como desenvolvedor, quero usar FluentValidation para validar dados de entrada.</p>"},{"location":"backend/backlog/#sw-086-logging-com-serilog","title":"SW-086: Logging com Serilog","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 5</p> <p>Hist\u00f3ria: Como desenvolvedor, quero implementar logging estruturado para rastrear opera\u00e7\u00f5es.</p>"},{"location":"backend/backlog/#sw-087-health-checks","title":"SW-087: Health Checks","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 5</p> <p>Hist\u00f3ria: Como DevOps, quero health checks para monitorar sa\u00fade da aplica\u00e7\u00e3o.</p>"},{"location":"backend/backlog/#sw-088-docker-e-docker-compose","title":"SW-088: Docker e Docker Compose","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como DevOps, quero containerizar a aplica\u00e7\u00e3o para facilitar deploy.</p>"},{"location":"backend/backlog/#sw-089-servico-de-email","title":"SW-089: Servi\u00e7o de Email","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 8</p> <p>Hist\u00f3ria: Como desenvolvedor, quero servi\u00e7o de email para enviar notifica\u00e7\u00f5es.</p>"},{"location":"backend/backlog/#sw-090-testes-unitarios","title":"SW-090: Testes Unit\u00e1rios","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 21</p> <p>Hist\u00f3ria: Como desenvolvedor, quero testes unit\u00e1rios para garantir qualidade do c\u00f3digo.</p>"},{"location":"backend/backlog/#sw-091-documentacao-da-api","title":"SW-091: Documenta\u00e7\u00e3o da API","text":"<p>Status: DONE | Prioridade: SHOULD HAVE | Pontos: 5</p> <p>Hist\u00f3ria: Como desenvolvedor frontend, quero documenta\u00e7\u00e3o da API para integrar corretamente.</p>"},{"location":"backend/backlog/#sw-092-cicd-com-github-actions","title":"SW-092: CI/CD com GitHub Actions","text":"<p>Status: DONE | Prioridade: COULD HAVE | Pontos: 13</p> <p>Hist\u00f3ria: Como DevOps, quero pipeline CI/CD para automatizar build e testes.</p>"},{"location":"backend/backlog/#tecnologias-utilizadas","title":"Tecnologias Utilizadas","text":"<p>Backend: - ASP.NET Core 9.0 - Entity Framework Core - PostgreSQL - MediatR - FluentValidation - AutoMapper - Serilog - JWT Authentication</p> <p>DevOps: - Docker - Docker Compose - GitHub Actions</p> <p>Testes: - xUnit - Moq - FluentAssertions</p>"},{"location":"backend/backlog/#padroes-implementados","title":"Padr\u00f5es Implementados","text":"<ul> <li>Clean Architecture</li> <li>CQRS (Command Query Responsibility Segregation)</li> <li>Repository Pattern</li> <li>Unit of Work</li> <li>Domain-Driven Design (DDD)</li> <li>Value Objects</li> <li>Rich Domain Model</li> <li>Dependency Injection</li> <li>Pipeline Behaviors</li> </ul>"},{"location":"backend/clean-architecture/","title":"Clean Architecture - Implementa\u00e7\u00e3o","text":""},{"location":"backend/clean-architecture/#arquitetura-limpa-no-spendwise","title":"Arquitetura Limpa no SpendWise","text":"<p>O SpendWise implementa Clean Architecture seguindo os princ\u00edpios de Robert C. Martin (Uncle Bob), garantindo separa\u00e7\u00e3o clara de responsabilidades, testabilidade e manutenibilidade.</p>"},{"location":"backend/clean-architecture/#principios-fundamentais","title":"Princ\u00edpios Fundamentais","text":""},{"location":"backend/clean-architecture/#1-regra-da-dependencia","title":"1. Regra da Depend\u00eancia","text":"<pre><code>graph TD\n    A[Presentation Layer] --&gt; B[Application Layer]\n    B --&gt; C[Domain Layer]\n    D[Infrastructure Layer] --&gt; B\n    D --&gt; C\n\n    style C fill:#e1f5fe\n    style B fill:#f3e5f5\n    style A fill:#e8f5e8\n    style D fill:#fff3e0\n</code></pre> <ul> <li>Depend\u00eancias apontam sempre para dentro</li> <li>Camadas internas n\u00e3o conhecem camadas externas</li> <li>Domain Layer \u00e9 independente de frameworks</li> </ul>"},{"location":"backend/clean-architecture/#2-inversao-de-dependencias","title":"2. Invers\u00e3o de Depend\u00eancias","text":"<pre><code>// Depend\u00eancia direta (acoplamento)\npublic class TransactionService\n{\n    private readonly SqlServerRepository _repository;\n\n    public TransactionService()\n    {\n        _repository = new SqlServerRepository(); // Acoplado ao SQL Server\n    }\n}\n\n// Invers\u00e3o de depend\u00eancia (desacoplado)\npublic class TransactionService\n{\n    private readonly ITransactionRepository _repository;\n\n    public TransactionService(ITransactionRepository repository)\n    {\n        _repository = repository; // Desacoplado da implementa\u00e7\u00e3o\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#estrutura-das-camadas","title":"Estrutura das Camadas","text":""},{"location":"backend/clean-architecture/#domain-layer-nucleo","title":"Domain Layer (N\u00facleo)","text":""},{"location":"backend/clean-architecture/#entities-entidades","title":"Entities (Entidades)","text":"<pre><code>// SpendWise.Domain/Entities/Transaction.cs\npublic class Transaction : BaseEntity\n{\n    public string Description { get; private set; }\n    public Money Amount { get; private set; }\n    public TransactionType Type { get; private set; }\n    public DateTime Date { get; private set; }\n    public CategoryId CategoryId { get; private set; }\n    public UserId UserId { get; private set; }\n\n    // Rich Domain Model - Comportamento encapsulado\n    public void UpdateDescription(string description)\n    {\n        if (string.IsNullOrWhiteSpace(description))\n            throw new DomainException(\"Description cannot be empty\");\n\n        Description = description;\n        UpdatedAt = DateTime.UtcNow;\n    }\n\n    public bool IsExpense() =&gt; Type == TransactionType.Expense;\n    public bool IsIncome() =&gt; Type == TransactionType.Income;\n}\n</code></pre>"},{"location":"backend/clean-architecture/#value-objects","title":"Value Objects","text":"<pre><code>// SpendWise.Domain/ValueObjects/Money.cs\npublic record Money\n{\n    public decimal Amount { get; }\n    public Currency Currency { get; }\n\n    public Money(decimal amount, Currency currency)\n    {\n        if (amount &lt; 0)\n            throw new ArgumentException(\"Amount cannot be negative\");\n\n        Amount = amount;\n        Currency = currency;\n    }\n\n    public Money Add(Money other)\n    {\n        if (Currency != other.Currency)\n            throw new InvalidOperationException(\"Cannot add different currencies\");\n\n        return new Money(Amount + other.Amount, Currency);\n    }\n\n    public static implicit operator decimal(Money money) =&gt; money.Amount;\n}\n</code></pre>"},{"location":"backend/clean-architecture/#domain-services","title":"Domain Services","text":"<pre><code>// SpendWise.Domain/Services/BudgetCalculationService.cs\npublic class BudgetCalculationService : IDomainService\n{\n    public BudgetStatus CalculateBudgetStatus(\n        IEnumerable&lt;Transaction&gt; transactions, \n        Budget budget)\n    {\n        var totalSpent = transactions\n            .Where(t =&gt; t.IsExpense() &amp;&amp; t.CategoryId == budget.CategoryId)\n            .Sum(t =&gt; t.Amount);\n\n        var percentageUsed = (totalSpent / budget.Limit) * 100;\n\n        return percentageUsed switch\n        {\n            &gt;= 100 =&gt; BudgetStatus.Exceeded,\n            &gt;= 85 =&gt; BudgetStatus.Warning,\n            _ =&gt; BudgetStatus.OnTrack\n        };\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#domain-events","title":"Domain Events","text":"<pre><code>// SpendWise.Domain/Events/TransactionCreatedEvent.cs\npublic record TransactionCreatedEvent(\n    TransactionId TransactionId,\n    UserId UserId,\n    Money Amount,\n    CategoryId CategoryId,\n    DateTime OccurredAt\n) : IDomainEvent;\n\n// Na entidade\npublic class Transaction : BaseEntity\n{\n    public static Transaction Create(string description, Money amount, ...)\n    {\n        var transaction = new Transaction(description, amount, ...);\n\n        // Disparar evento de dom\u00ednio\n        transaction.AddDomainEvent(new TransactionCreatedEvent(\n            transaction.Id,\n            transaction.UserId,\n            transaction.Amount,\n            transaction.CategoryId,\n            DateTime.UtcNow\n        ));\n\n        return transaction;\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#application-layer-casos-de-uso","title":"Application Layer (Casos de Uso)","text":""},{"location":"backend/clean-architecture/#commands-cqrs","title":"Commands (CQRS)","text":"<pre><code>// SpendWise.Application/Commands/CreateTransactionCommand.cs\npublic record CreateTransactionCommand(\n    string Description,\n    decimal Amount,\n    string Type,\n    Guid CategoryId,\n    DateTime Date,\n    string? Notes\n) : ICommand&lt;TransactionDto&gt;;\n\n// Handler\npublic class CreateTransactionCommandHandler \n    : ICommandHandler&lt;CreateTransactionCommand, TransactionDto&gt;\n{\n    private readonly ITransactionRepository _repository;\n    private readonly ICategoryRepository _categoryRepository;\n    private readonly IUnitOfWork _unitOfWork;\n    private readonly IMapper _mapper;\n\n    public async Task&lt;TransactionDto&gt; Handle(\n        CreateTransactionCommand command, \n        CancellationToken cancellationToken)\n    {\n        // 1. Validar categoria existe\n        var category = await _categoryRepository.GetByIdAsync(\n            new CategoryId(command.CategoryId), \n            cancellationToken);\n\n        if (category is null)\n            throw new NotFoundException(\"Category not found\");\n\n        // 2. Criar entidade de dom\u00ednio\n        var transaction = Transaction.Create(\n            command.Description,\n            new Money(command.Amount, Currency.BRL),\n            Enum.Parse&lt;TransactionType&gt;(command.Type),\n            new CategoryId(command.CategoryId),\n            command.Date,\n            command.Notes\n        );\n\n        // 3. Persistir\n        await _repository.AddAsync(transaction, cancellationToken);\n        await _unitOfWork.SaveChangesAsync(cancellationToken);\n\n        // 4. Retornar DTO\n        return _mapper.Map&lt;TransactionDto&gt;(transaction);\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#queries-cqrs","title":"Queries (CQRS)","text":"<pre><code>// SpendWise.Application/Queries/GetTransactionsByUserQuery.cs\npublic record GetTransactionsByUserQuery(\n    Guid UserId,\n    DateTime? StartDate = null,\n    DateTime? EndDate = null,\n    Guid? CategoryId = null,\n    int Page = 1,\n    int PageSize = 50\n) : IQuery&lt;PagedResult&lt;TransactionDto&gt;&gt;;\n\n// Handler\npublic class GetTransactionsByUserQueryHandler \n    : IQueryHandler&lt;GetTransactionsByUserQuery, PagedResult&lt;TransactionDto&gt;&gt;\n{\n    private readonly ITransactionReadRepository _repository;\n    private readonly IMapper _mapper;\n\n    public async Task&lt;PagedResult&lt;TransactionDto&gt;&gt; Handle(\n        GetTransactionsByUserQuery query, \n        CancellationToken cancellationToken)\n    {\n        var specification = new TransactionsByUserSpecification(\n            new UserId(query.UserId),\n            query.StartDate,\n            query.EndDate,\n            query.CategoryId.HasValue ? new CategoryId(query.CategoryId.Value) : null\n        );\n\n        var transactions = await _repository.GetPagedAsync(\n            specification,\n            query.Page,\n            query.PageSize,\n            cancellationToken\n        );\n\n        return new PagedResult&lt;TransactionDto&gt;\n        {\n            Items = _mapper.Map&lt;List&lt;TransactionDto&gt;&gt;(transactions.Items),\n            TotalCount = transactions.TotalCount,\n            Page = query.Page,\n            PageSize = query.PageSize\n        };\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#validators-fluentvalidation","title":"Validators (FluentValidation)","text":"<pre><code>// SpendWise.Application/Validators/CreateTransactionCommandValidator.cs\npublic class CreateTransactionCommandValidator \n    : AbstractValidator&lt;CreateTransactionCommand&gt;\n{\n    public CreateTransactionCommandValidator()\n    {\n        RuleFor(x =&gt; x.Description)\n            .NotEmpty()\n            .MaximumLength(200)\n            .WithMessage(\"Description is required and must be less than 200 characters\");\n\n        RuleFor(x =&gt; x.Amount)\n            .GreaterThan(0)\n            .WithMessage(\"Amount must be greater than zero\");\n\n        RuleFor(x =&gt; x.Type)\n            .Must(BeValidTransactionType)\n            .WithMessage(\"Type must be 'Income' or 'Expense'\");\n\n        RuleFor(x =&gt; x.CategoryId)\n            .NotEmpty()\n            .WithMessage(\"Category is required\");\n\n        RuleFor(x =&gt; x.Date)\n            .LessThanOrEqualTo(DateTime.Today.AddDays(1))\n            .WithMessage(\"Date cannot be in the future\");\n    }\n\n    private bool BeValidTransactionType(string type)\n    {\n        return Enum.TryParse&lt;TransactionType&gt;(type, out _);\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#infrastructure-layer-detalhes","title":"Infrastructure Layer (Detalhes)","text":""},{"location":"backend/clean-architecture/#repository-implementation","title":"Repository Implementation","text":"<pre><code>// SpendWise.Infrastructure/Repositories/TransactionRepository.cs\npublic class TransactionRepository : ITransactionRepository\n{\n    private readonly SpendWiseDbContext _context;\n\n    public TransactionRepository(SpendWiseDbContext context)\n    {\n        _context = context;\n    }\n\n    public async Task&lt;Transaction?&gt; GetByIdAsync(\n        TransactionId id, \n        CancellationToken cancellationToken = default)\n    {\n        return await _context.Transactions\n            .Include(t =&gt; t.Category)\n            .FirstOrDefaultAsync(t =&gt; t.Id == id, cancellationToken);\n    }\n\n    public async Task AddAsync(\n        Transaction transaction, \n        CancellationToken cancellationToken = default)\n    {\n        await _context.Transactions.AddAsync(transaction, cancellationToken);\n    }\n\n    public void Update(Transaction transaction)\n    {\n        _context.Transactions.Update(transaction);\n    }\n\n    public void Remove(Transaction transaction)\n    {\n        _context.Transactions.Remove(transaction);\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#entity-configuration-ef-core","title":"Entity Configuration (EF Core)","text":"<pre><code>// SpendWise.Infrastructure/Configurations/TransactionConfiguration.cs\npublic class TransactionConfiguration : IEntityTypeConfiguration&lt;Transaction&gt;\n{\n    public void Configure(EntityTypeBuilder&lt;Transaction&gt; builder)\n    {\n        builder.ToTable(\"transactions\");\n\n        builder.HasKey(t =&gt; t.Id);\n\n        builder.Property(t =&gt; t.Id)\n            .HasConversion(\n                id =&gt; id.Value,\n                value =&gt; new TransactionId(value)\n            );\n\n        builder.Property(t =&gt; t.Description)\n            .HasMaxLength(200)\n            .IsRequired();\n\n        // Value Object mapping\n        builder.OwnsOne(t =&gt; t.Amount, money =&gt;\n        {\n            money.Property(m =&gt; m.Amount)\n                .HasColumnName(\"amount\")\n                .HasPrecision(18, 2);\n\n            money.Property(m =&gt; m.Currency)\n                .HasColumnName(\"currency\")\n                .HasConversion&lt;string&gt;();\n        });\n\n        builder.Property(t =&gt; t.Type)\n            .HasConversion&lt;string&gt;();\n\n        builder.HasOne&lt;Category&gt;()\n            .WithMany()\n            .HasForeignKey(t =&gt; t.CategoryId)\n            .OnDelete(DeleteBehavior.Restrict);\n\n        builder.HasOne&lt;User&gt;()\n            .WithMany()\n            .HasForeignKey(t =&gt; t.UserId)\n            .OnDelete(DeleteBehavior.Cascade);\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#presentation-layer-api","title":"Presentation Layer (API)","text":""},{"location":"backend/clean-architecture/#controller","title":"Controller","text":"<pre><code>// SpendWise.API/Controllers/TransactionsController.cs\n[ApiController]\n[Route(\"api/[controller]\")]\n[Authorize]\npublic class TransactionsController : ControllerBase\n{\n    private readonly IMediator _mediator;\n\n    public TransactionsController(IMediator mediator)\n    {\n        _mediator = mediator;\n    }\n\n    [HttpPost]\n    public async Task&lt;ActionResult&lt;TransactionDto&gt;&gt; CreateTransaction(\n        CreateTransactionCommand command,\n        CancellationToken cancellationToken)\n    {\n        var result = await _mediator.Send(command, cancellationToken);\n        return CreatedAtAction(nameof(GetTransaction), new { id = result.Id }, result);\n    }\n\n    [HttpGet]\n    public async Task&lt;ActionResult&lt;PagedResult&lt;TransactionDto&gt;&gt;&gt; GetTransactions(\n        [FromQuery] GetTransactionsByUserQuery query,\n        CancellationToken cancellationToken)\n    {\n        // Inject current user ID from JWT\n        var userId = User.GetUserId();\n        var queryWithUser = query with { UserId = userId };\n\n        var result = await _mediator.Send(queryWithUser, cancellationToken);\n        return Ok(result);\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#dependency-injection-setup","title":"Dependency Injection Setup","text":""},{"location":"backend/clean-architecture/#programcs-minimal-api","title":"Program.cs (Minimal API)","text":"<pre><code>// SpendWise.API/Program.cs\nvar builder = WebApplication.CreateBuilder(args);\n\n// Add layers\nbuilder.Services.AddDomainServices();\nbuilder.Services.AddApplicationServices();\nbuilder.Services.AddInfrastructureServices(builder.Configuration);\nbuilder.Services.AddPresentationServices();\n\nvar app = builder.Build();\n\n// Configure pipeline\napp.UseAuthentication();\napp.UseAuthorization();\napp.MapControllers();\n\napp.Run();\n</code></pre>"},{"location":"backend/clean-architecture/#service-registration","title":"Service Registration","text":"<pre><code>// SpendWise.Application/DependencyInjection.cs\npublic static class DependencyInjection\n{\n    public static IServiceCollection AddApplicationServices(\n        this IServiceCollection services)\n    {\n        services.AddMediatR(cfg =&gt; \n            cfg.RegisterServicesFromAssembly(Assembly.GetExecutingAssembly()));\n\n        services.AddValidatorsFromAssembly(Assembly.GetExecutingAssembly());\n\n        services.AddAutoMapper(Assembly.GetExecutingAssembly());\n\n        services.AddTransient(typeof(IPipelineBehavior&lt;,&gt;), \n            typeof(ValidationBehavior&lt;,&gt;));\n\n        return services;\n    }\n}\n\n// SpendWise.Infrastructure/DependencyInjection.cs\npublic static class DependencyInjection\n{\n    public static IServiceCollection AddInfrastructureServices(\n        this IServiceCollection services,\n        IConfiguration configuration)\n    {\n        services.AddDbContext&lt;SpendWiseDbContext&gt;(options =&gt;\n            options.UseNpgsql(configuration.GetConnectionString(\"DefaultConnection\")));\n\n        services.AddScoped&lt;ITransactionRepository, TransactionRepository&gt;();\n        services.AddScoped&lt;ICategoryRepository, CategoryRepository&gt;();\n        services.AddScoped&lt;IUnitOfWork, UnitOfWork&gt;();\n\n        return services;\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#testabilidade","title":"Testabilidade","text":""},{"location":"backend/clean-architecture/#unit-tests-domain","title":"Unit Tests (Domain)","text":"<pre><code>// SpendWise.Domain.Tests/Entities/TransactionTests.cs\npublic class TransactionTests\n{\n    [Fact]\n    public void Create_WithValidData_ShouldCreateTransaction()\n    {\n        // Arrange\n        var description = \"Test transaction\";\n        var amount = new Money(100m, Currency.BRL);\n        var type = TransactionType.Expense;\n\n        // Act\n        var transaction = Transaction.Create(description, amount, type, ...);\n\n        // Assert\n        transaction.Description.Should().Be(description);\n        transaction.Amount.Should().Be(amount);\n        transaction.Type.Should().Be(type);\n        transaction.DomainEvents.Should().HaveCount(1);\n        transaction.DomainEvents.First().Should().BeOfType&lt;TransactionCreatedEvent&gt;();\n    }\n\n    [Fact]\n    public void UpdateDescription_WithEmptyDescription_ShouldThrowException()\n    {\n        // Arrange\n        var transaction = CreateValidTransaction();\n\n        // Act &amp; Assert\n        var action = () =&gt; transaction.UpdateDescription(\"\");\n        action.Should().Throw&lt;DomainException&gt;()\n            .WithMessage(\"Description cannot be empty\");\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#integration-tests-application","title":"Integration Tests (Application)","text":"<pre><code>// SpendWise.Application.Tests/Commands/CreateTransactionCommandHandlerTests.cs\npublic class CreateTransactionCommandHandlerTests : IClassFixture&lt;TestFixture&gt;\n{\n    private readonly TestFixture _fixture;\n\n    public CreateTransactionCommandHandlerTests(TestFixture fixture)\n    {\n        _fixture = fixture;\n    }\n\n    [Fact]\n    public async Task Handle_WithValidCommand_ShouldCreateTransaction()\n    {\n        // Arrange\n        var category = await _fixture.CreateCategoryAsync();\n        var command = new CreateTransactionCommand(\n            \"Test transaction\",\n            100m,\n            \"Expense\",\n            category.Id.Value,\n            DateTime.Today,\n            null\n        );\n\n        var handler = new CreateTransactionCommandHandler(\n            _fixture.TransactionRepository,\n            _fixture.CategoryRepository,\n            _fixture.UnitOfWork,\n            _fixture.Mapper\n        );\n\n        // Act\n        var result = await handler.Handle(command, CancellationToken.None);\n\n        // Assert\n        result.Should().NotBeNull();\n        result.Description.Should().Be(command.Description);\n        result.Amount.Should().Be(command.Amount);\n\n        var savedTransaction = await _fixture.TransactionRepository\n            .GetByIdAsync(new TransactionId(result.Id));\n        savedTransaction.Should().NotBeNull();\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#beneficios-alcancados","title":"Benef\u00edcios Alcan\u00e7ados","text":""},{"location":"backend/clean-architecture/#separacao-de-responsabilidades","title":"Separa\u00e7\u00e3o de Responsabilidades","text":"<ul> <li>Domain: Regras de neg\u00f3cio puras</li> <li>Application: Casos de uso e orquestra\u00e7\u00e3o</li> <li>Infrastructure: Detalhes t\u00e9cnicos</li> <li>Presentation: Interface com usu\u00e1rio</li> </ul>"},{"location":"backend/clean-architecture/#testabilidade_1","title":"Testabilidade","text":"<ul> <li>95%+ cobertura de testes</li> <li>Testes unit\u00e1rios r\u00e1pidos (&lt; 100ms cada)</li> <li>Testes de integra\u00e7\u00e3o isolados</li> <li>Mocks apenas para depend\u00eancias externas</li> </ul>"},{"location":"backend/clean-architecture/#flexibilidade","title":"Flexibilidade","text":"<ul> <li>Troca de banco de dados sem impacto no dom\u00ednio</li> <li>M\u00faltiplas interfaces (API, CLI, Web)</li> <li>Diferentes providers (email, storage, etc.)</li> </ul>"},{"location":"backend/clean-architecture/#manutenibilidade","title":"Manutenibilidade","text":"<ul> <li>C\u00f3digo expressivo e autodocumentado</li> <li>Baixo acoplamento entre camadas</li> <li>Alta coes\u00e3o dentro das camadas</li> <li>Princ\u00edpios SOLID aplicados</li> </ul>"},{"location":"backend/clean-architecture/#proximos-passos","title":"Pr\u00f3ximos Passos","text":"<ul> <li>Domain Layer - Detalhes da camada de dom\u00ednio</li> <li>Application Layer - Casos de uso e CQRS</li> <li>Infrastructure Layer - Persist\u00eancia e servi\u00e7os externos</li> <li>API Layer - Controllers e middlewares</li> </ul>"},{"location":"backend/domain/","title":"Domain Layer","text":"<p>A camada de dom\u00ednio cont\u00e9m a l\u00f3gica de neg\u00f3cio central do sistema, incluindo entidades, value objects, enums e interfaces de reposit\u00f3rios.</p>"},{"location":"backend/domain/#principios","title":"Princ\u00edpios","text":"<ul> <li>Independ\u00eancia: N\u00e3o depende de nenhuma outra camada</li> <li>Regras de Neg\u00f3cio: Cont\u00e9m toda a l\u00f3gica de neg\u00f3cio</li> <li>Imutabilidade: Entidades e value objects s\u00e3o imut\u00e1veis quando poss\u00edvel</li> <li>Valida\u00e7\u00e3o: Valida\u00e7\u00f5es de dom\u00ednio s\u00e3o feitas nas pr\u00f3prias entidades</li> </ul>"},{"location":"backend/domain/#estrutura","title":"Estrutura","text":"<pre><code>SpendWise.Domain/\n Entities/\n    Usuario.cs\n    Categoria.cs\n    Transacao.cs\n    OrcamentoMensal.cs\n    FechamentoMensal.cs\n    Meta.cs\n ValueObjects/\n    Email.cs\n    Money.cs\n    Periodo.cs\n Enums/\n    TipoTransacao.cs\n    TipoCategoria.cs\n    StatusMeta.cs\n Interfaces/\n    IRepository.cs\n    IUsuarioRepository.cs\n    ICategoriaRepository.cs\n    ITransacaoRepository.cs\n    IOrcamentoMensalRepository.cs\n    IFechamentoMensalRepository.cs\n    IMetaRepository.cs\n    IUnitOfWork.cs\n    IEmailService.cs\n Exceptions/\n     DomainException.cs\n     ValidationException.cs\n</code></pre>"},{"location":"backend/domain/#entidades","title":"Entidades","text":""},{"location":"backend/domain/#usuario","title":"Usuario","text":"<p>Representa um usu\u00e1rio do sistema.</p> <p>Propriedades: - <code>Id</code> (Guid): Identificador \u00fanico - <code>Nome</code> (string): Nome completo - <code>Email</code> (Email): Email do usu\u00e1rio (Value Object) - <code>SenhaHash</code> (string): Hash da senha - <code>NotificacoesAtivas</code> (bool): Se notifica\u00e7\u00f5es est\u00e3o ativas - <code>PasswordResetToken</code> (string): Token para reset de senha - <code>PasswordResetTokenExpiry</code> (DateTime?): Expira\u00e7\u00e3o do token - <code>CreatedAt</code> (DateTime): Data de cria\u00e7\u00e3o - <code>UpdatedAt</code> (DateTime?): Data de atualiza\u00e7\u00e3o</p> <p>M\u00e9todos: - <code>SetPasswordResetToken(string token, DateTime expiry)</code>: Define token de reset - <code>ClearPasswordResetToken()</code>: Limpa token de reset - <code>IsPasswordResetTokenValid()</code>: Verifica se token \u00e9 v\u00e1lido</p>"},{"location":"backend/domain/#categoria","title":"Categoria","text":"<p>Representa uma categoria de transa\u00e7\u00f5es.</p> <p>Propriedades: - <code>Id</code> (Guid): Identificador \u00fanico - <code>Nome</code> (string): Nome da categoria - <code>Tipo</code> (TipoCategoria): Essencial ou Sup\u00e9rfluo - <code>Cor</code> (string): Cor em hexadecimal - <code>LimiteDefinido</code> (bool): Se tem limite mensal - <code>LimiteMensal</code> (decimal?): Valor do limite mensal - <code>UsuarioId</code> (Guid): ID do usu\u00e1rio dono - <code>CreatedAt</code> (DateTime): Data de cria\u00e7\u00e3o - <code>UpdatedAt</code> (DateTime?): Data de atualiza\u00e7\u00e3o</p> <p>Regras: - Nome \u00e9 obrigat\u00f3rio - Cor deve ser hexadecimal v\u00e1lida - Limite mensal deve ser positivo se definido</p>"},{"location":"backend/domain/#transacao","title":"Transacao","text":"<p>Representa uma transa\u00e7\u00e3o financeira (receita ou despesa).</p> <p>Propriedades: - <code>Id</code> (Guid): Identificador \u00fanico - <code>Descricao</code> (string): Descri\u00e7\u00e3o da transa\u00e7\u00e3o - <code>Valor</code> (Money): Valor da transa\u00e7\u00e3o (Value Object) - <code>Data</code> (DateTime): Data da transa\u00e7\u00e3o - <code>Tipo</code> (TipoTransacao): Receita ou Despesa - <code>CategoriaId</code> (Guid?): ID da categoria (obrigat\u00f3rio para despesas) - <code>UsuarioId</code> (Guid): ID do usu\u00e1rio dono - <code>CreatedAt</code> (DateTime): Data de cria\u00e7\u00e3o - <code>UpdatedAt</code> (DateTime?): Data de atualiza\u00e7\u00e3o</p> <p>Regras: - Valor deve ser positivo - Data n\u00e3o pode ser futura - Despesas devem ter categoria - Receitas podem ter categoria opcional</p>"},{"location":"backend/domain/#orcamentomensal","title":"OrcamentoMensal","text":"<p>Representa o or\u00e7amento planejado para um m\u00eas.</p> <p>Propriedades: - <code>Id</code> (Guid): Identificador \u00fanico - <code>Mes</code> (int): M\u00eas (1-12) - <code>Ano</code> (int): Ano - <code>ValorLimite</code> (Money): Valor limite do or\u00e7amento - <code>UsuarioId</code> (Guid): ID do usu\u00e1rio dono - <code>CreatedAt</code> (DateTime): Data de cria\u00e7\u00e3o - <code>UpdatedAt</code> (DateTime?): Data de atualiza\u00e7\u00e3o</p> <p>Regras: - M\u00eas deve estar entre 1 e 12 - Ano deve ser v\u00e1lido - Valor limite deve ser positivo - Apenas um or\u00e7amento por m\u00eas/ano por usu\u00e1rio</p>"},{"location":"backend/domain/#fechamentomensal","title":"FechamentoMensal","text":"<p>Representa o fechamento consolidado de um m\u00eas.</p> <p>Propriedades: - <code>Id</code> (Guid): Identificador \u00fanico - <code>Mes</code> (int): M\u00eas (1-12) - <code>Ano</code> (int): Ano - <code>TotalReceitas</code> (Money): Total de receitas - <code>TotalDespesas</code> (Money): Total de despesas - <code>Saldo</code> (Money): Saldo final (receitas - despesas) - <code>DataFechamento</code> (DateTime): Data do fechamento - <code>UsuarioId</code> (Guid): ID do usu\u00e1rio dono - <code>CreatedAt</code> (DateTime): Data de cria\u00e7\u00e3o</p> <p>Regras: - M\u00eas deve estar entre 1 e 12 - Ano deve ser v\u00e1lido - Saldo \u00e9 calculado automaticamente - N\u00e3o pode fechar m\u00eas j\u00e1 fechado</p>"},{"location":"backend/domain/#meta","title":"Meta","text":"<p>Representa uma meta financeira do usu\u00e1rio.</p> <p>Propriedades: - <code>Id</code> (Guid): Identificador \u00fanico - <code>Nome</code> (string): Nome da meta - <code>Descricao</code> (string): Descri\u00e7\u00e3o detalhada - <code>ValorObjetivo</code> (Money): Valor a ser alcan\u00e7ado - <code>ValorAtual</code> (Money): Valor atual acumulado - <code>Prazo</code> (DateTime): Data limite - <code>Status</code> (StatusMeta): Ativa, Alcan\u00e7ada ou Vencida - <code>UsuarioId</code> (Guid): ID do usu\u00e1rio dono - <code>CreatedAt</code> (DateTime): Data de cria\u00e7\u00e3o - <code>UpdatedAt</code> (DateTime?): Data de atualiza\u00e7\u00e3o</p> <p>Propriedades Calculadas: - <code>PercentualProgresso</code>: (ValorAtual / ValorObjetivo) * 100 - <code>ValorRestante</code>: ValorObjetivo - ValorAtual - <code>DiasRestantes</code>: Prazo - DateTime.Now</p> <p>Regras: - Valor objetivo deve ser positivo - Prazo deve ser data futura - Status \u00e9 atualizado automaticamente</p>"},{"location":"backend/domain/#value-objects","title":"Value Objects","text":""},{"location":"backend/domain/#email","title":"Email","text":"<p>Representa um endere\u00e7o de email v\u00e1lido.</p> <p>Valida\u00e7\u00f5es: - Formato v\u00e1lido de email - N\u00e3o pode ser nulo ou vazio - Normalizado para lowercase</p>"},{"location":"backend/domain/#money","title":"Money","text":"<p>Representa um valor monet\u00e1rio.</p> <p>Propriedades: - <code>Amount</code> (decimal): Valor - <code>Currency</code> (string): Moeda (padr\u00e3o: BRL)</p> <p>Valida\u00e7\u00f5es: - Valor deve ser &gt;= 0 - Precis\u00e3o de 2 casas decimais</p>"},{"location":"backend/domain/#periodo","title":"Periodo","text":"<p>Representa um per\u00edodo de tempo (m\u00eas/ano).</p> <p>Propriedades: - <code>Mes</code> (int): M\u00eas (1-12) - <code>Ano</code> (int): Ano</p> <p>Valida\u00e7\u00f5es: - M\u00eas entre 1 e 12 - Ano v\u00e1lido</p>"},{"location":"backend/domain/#enums","title":"Enums","text":""},{"location":"backend/domain/#tipotransacao","title":"TipoTransacao","text":"<pre><code>public enum TipoTransacao\n{\n    Receita = 1,\n    Despesa = 2\n}\n</code></pre>"},{"location":"backend/domain/#tipocategoria","title":"TipoCategoria","text":"<pre><code>public enum TipoCategoria\n{\n    Essencial = 1,\n    Superfluo = 2\n}\n</code></pre>"},{"location":"backend/domain/#statusmeta","title":"StatusMeta","text":"<pre><code>public enum StatusMeta\n{\n    Ativa = 1,\n    Alcancada = 2,\n    Vencida = 3\n}\n</code></pre>"},{"location":"backend/domain/#interfaces-de-repositorio","title":"Interfaces de Reposit\u00f3rio","text":""},{"location":"backend/domain/#irepository","title":"IRepository <p>Interface gen\u00e9rica base para todos os reposit\u00f3rios.</p> <pre><code>public interface IRepository&lt;T&gt; where T : class\n{\n    Task&lt;T?&gt; GetByIdAsync(Guid id);\n    Task&lt;IEnumerable&lt;T&gt;&gt; GetAllAsync();\n    Task&lt;T&gt; AddAsync(T entity);\n    Task UpdateAsync(T entity);\n    Task DeleteAsync(T entity);\n}\n</code></pre>","text":""},{"location":"backend/domain/#repositorios-especificos","title":"Reposit\u00f3rios Espec\u00edficos <p>Cada entidade tem seu reposit\u00f3rio espec\u00edfico que estende <code>IRepository&lt;T&gt;</code> e adiciona m\u00e9todos especializados:</p> <ul> <li>IUsuarioRepository: <code>GetByEmailAsync</code>, <code>ExistsByEmailAsync</code></li> <li>ICategoriaRepository: <code>GetByUsuarioIdAsync</code>, <code>GetWithTransacoesAsync</code></li> <li>ITransacaoRepository: <code>GetByPeriodoAsync</code>, <code>GetByCategoriaAsync</code></li> <li>IOrcamentoMensalRepository: <code>GetByPeriodoAsync</code>, <code>ExistsByPeriodoAsync</code></li> <li>IFechamentoMensalRepository: <code>GetByPeriodoAsync</code>, <code>GetByUsuarioIdAsync</code></li> <li>IMetaRepository: <code>GetByUsuarioIdAsync</code>, <code>GetVencidasAsync</code>, <code>GetAlcancadasAsync</code></li> </ul>","text":""},{"location":"backend/domain/#excecoes-de-dominio","title":"Exce\u00e7\u00f5es de Dom\u00ednio","text":""},{"location":"backend/domain/#domainexception","title":"DomainException <p>Exce\u00e7\u00e3o base para erros de dom\u00ednio.</p> <pre><code>public class DomainException : Exception\n{\n    public DomainException(string message) : base(message) { }\n}\n</code></pre>","text":""},{"location":"backend/domain/#validationexception","title":"ValidationException <p>Exce\u00e7\u00e3o para erros de valida\u00e7\u00e3o.</p> <pre><code>public class ValidationException : DomainException\n{\n    public Dictionary&lt;string, string[]&gt; Errors { get; }\n\n    public ValidationException(Dictionary&lt;string, string[]&gt; errors) \n        : base(\"Validation failed\")\n    {\n        Errors = errors;\n    }\n}\n</code></pre>","text":""},{"location":"backend/domain/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ol> <li>Entidades Ricas: Entidades cont\u00eam comportamento, n\u00e3o apenas dados</li> <li>Valida\u00e7\u00e3o no Construtor: Valida\u00e7\u00f5es s\u00e3o feitas ao criar a entidade</li> <li>Imutabilidade: Propriedades s\u00e3o readonly quando poss\u00edvel</li> <li>Value Objects: Valores que n\u00e3o t\u00eam identidade s\u00e3o value objects</li> <li>Interfaces de Reposit\u00f3rio: Definem contratos sem implementa\u00e7\u00e3o</li> <li>Exce\u00e7\u00f5es Espec\u00edficas: Exce\u00e7\u00f5es de dom\u00ednio s\u00e3o espec\u00edficas e descritivas</li> </ol>"},{"location":"backend/domain/#testes","title":"Testes","text":"<p>A camada de dom\u00ednio \u00e9 testada com testes unit\u00e1rios que verificam:</p> <ul> <li>Valida\u00e7\u00f5es de entidades</li> <li>Comportamentos de m\u00e9todos</li> <li>Regras de neg\u00f3cio</li> <li>Value objects</li> <li>Exce\u00e7\u00f5es</li> </ul> <p>Localiza\u00e7\u00e3o: <code>tests/SpendWise.Domain.Tests/</code></p>"},{"location":"backend/infrastructure/","title":"Infrastructure Layer","text":"<p>A camada de infraestrutura cont\u00e9m implementa\u00e7\u00f5es concretas de interfaces definidas no dom\u00ednio, incluindo acesso a dados, servi\u00e7os externos e configura\u00e7\u00f5es.</p>"},{"location":"backend/infrastructure/#principios","title":"Princ\u00edpios","text":"<ul> <li>Implementa\u00e7\u00e3o de Interfaces: Implementa interfaces do dom\u00ednio</li> <li>Entity Framework Core: ORM para acesso a dados</li> <li>PostgreSQL: Banco de dados relacional</li> <li>Dependency Injection: Inje\u00e7\u00e3o de depend\u00eancias</li> </ul>"},{"location":"backend/infrastructure/#estrutura","title":"Estrutura","text":"<pre><code>SpendWise.Infrastructure/\n Data/\n    ApplicationDbContext.cs\n    Configurations/\n       UsuarioConfiguration.cs\n       CategoriaConfiguration.cs\n       TransacaoConfiguration.cs\n       OrcamentoMensalConfiguration.cs\n       FechamentoMensalConfiguration.cs\n       MetaConfiguration.cs\n    Migrations/\n Repositories/\n    Repository.cs\n    UsuarioRepository.cs\n    CategoriaRepository.cs\n    TransacaoRepository.cs\n    OrcamentoMensalRepository.cs\n    FechamentoMensalRepository.cs\n    MetaRepository.cs\n    UnitOfWork.cs\n Services/\n     JwtService.cs\n     PasswordHasher.cs\n     TokenService.cs\n     MockEmailService.cs\n     BrevoEmailService.cs\n     InMemoryCacheService.cs\n</code></pre>"},{"location":"backend/infrastructure/#entity-framework-core","title":"Entity Framework Core","text":""},{"location":"backend/infrastructure/#applicationdbcontext","title":"ApplicationDbContext","text":"<p>Contexto principal do banco de dados.</p> <pre><code>public class ApplicationDbContext : DbContext\n{\n    public ApplicationDbContext(DbContextOptions&lt;ApplicationDbContext&gt; options)\n        : base(options)\n    {\n    }\n\n    public DbSet&lt;Usuario&gt; Usuarios { get; set; }\n    public DbSet&lt;Categoria&gt; Categorias { get; set; }\n    public DbSet&lt;Transacao&gt; Transacoes { get; set; }\n    public DbSet&lt;OrcamentoMensal&gt; OrcamentosMensais { get; set; }\n    public DbSet&lt;FechamentoMensal&gt; FechamentosMensais { get; set; }\n    public DbSet&lt;Meta&gt; Metas { get; set; }\n\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        base.OnModelCreating(modelBuilder);\n\n        // Aplicar configura\u00e7\u00f5es\n        modelBuilder.ApplyConfigurationsFromAssembly(typeof(ApplicationDbContext).Assembly);\n    }\n\n    public override Task&lt;int&gt; SaveChangesAsync(CancellationToken cancellationToken = default)\n    {\n        // Auditoria autom\u00e1tica\n        foreach (var entry in ChangeTracker.Entries&lt;BaseEntity&gt;())\n        {\n            switch (entry.State)\n            {\n                case EntityState.Added:\n                    entry.Entity.CreatedAt = DateTime.UtcNow;\n                    break;\n                case EntityState.Modified:\n                    entry.Entity.UpdatedAt = DateTime.UtcNow;\n                    break;\n            }\n        }\n\n        return base.SaveChangesAsync(cancellationToken);\n    }\n}\n</code></pre>"},{"location":"backend/infrastructure/#configuracoes-de-entidades","title":"Configura\u00e7\u00f5es de Entidades","text":"<p>Cada entidade tem sua configura\u00e7\u00e3o Fluent API.</p> <p>UsuarioConfiguration.cs:</p> <pre><code>public class UsuarioConfiguration : IEntityTypeConfiguration&lt;Usuario&gt;\n{\n    public void Configure(EntityTypeBuilder&lt;Usuario&gt; builder)\n    {\n        builder.ToTable(\"Usuarios\");\n\n        builder.HasKey(u =&gt; u.Id);\n\n        builder.Property(u =&gt; u.Nome)\n            .IsRequired()\n            .HasMaxLength(200);\n\n        builder.Property(u =&gt; u.Email)\n            .IsRequired()\n            .HasMaxLength(200);\n\n        builder.HasIndex(u =&gt; u.Email)\n            .IsUnique();\n\n        builder.Property(u =&gt; u.SenhaHash)\n            .IsRequired();\n\n        builder.Property(u =&gt; u.NotificacoesAtivas)\n            .HasDefaultValue(true);\n\n        // Relacionamentos\n        builder.HasMany(u =&gt; u.Categorias)\n            .WithOne()\n            .HasForeignKey(c =&gt; c.UsuarioId)\n            .OnDelete(DeleteBehavior.Cascade);\n\n        builder.HasMany(u =&gt; u.Transacoes)\n            .WithOne()\n            .HasForeignKey(t =&gt; t.UsuarioId)\n            .OnDelete(DeleteBehavior.Cascade);\n    }\n}\n</code></pre> <p>TransacaoConfiguration.cs:</p> <pre><code>public class TransacaoConfiguration : IEntityTypeConfiguration&lt;Transacao&gt;\n{\n    public void Configure(EntityTypeBuilder&lt;Transacao&gt; builder)\n    {\n        builder.ToTable(\"Transacoes\");\n\n        builder.HasKey(t =&gt; t.Id);\n\n        builder.Property(t =&gt; t.Descricao)\n            .IsRequired()\n            .HasMaxLength(200);\n\n        builder.Property(t =&gt; t.Valor)\n            .HasColumnType(\"decimal(18,2)\")\n            .IsRequired();\n\n        builder.Property(t =&gt; t.Data)\n            .IsRequired();\n\n        builder.Property(t =&gt; t.Tipo)\n            .IsRequired()\n            .HasConversion&lt;int&gt;();\n\n        // \u00cdndices para performance\n        builder.HasIndex(t =&gt; t.UsuarioId);\n        builder.HasIndex(t =&gt; t.CategoriaId);\n        builder.HasIndex(t =&gt; t.Data);\n        builder.HasIndex(t =&gt; new { t.UsuarioId, t.Data });\n\n        // Relacionamentos\n        builder.HasOne&lt;Categoria&gt;()\n            .WithMany()\n            .HasForeignKey(t =&gt; t.CategoriaId)\n            .OnDelete(DeleteBehavior.Restrict);\n    }\n}\n</code></pre>"},{"location":"backend/infrastructure/#migrations","title":"Migrations","text":"<p>Migrations s\u00e3o geradas automaticamente pelo EF Core.</p> <p>Comandos:</p> <pre><code># Criar migration\ndotnet ef migrations add NomeDaMigration\n\n# Aplicar migrations\ndotnet ef database update\n\n# Reverter migration\ndotnet ef database update PreviousMigration\n\n# Gerar script SQL\ndotnet ef migrations script\n</code></pre>"},{"location":"backend/infrastructure/#repositorios","title":"Reposit\u00f3rios","text":""},{"location":"backend/infrastructure/#repository-base","title":"Repository Base","text":"<p>Implementa\u00e7\u00e3o gen\u00e9rica do <code>IRepository&lt;T&gt;</code>.</p> <pre><code>public class Repository&lt;T&gt; : IRepository&lt;T&gt; where T : class\n{\n    protected readonly ApplicationDbContext _context;\n    protected readonly DbSet&lt;T&gt; _dbSet;\n\n    public Repository(ApplicationDbContext context)\n    {\n        _context = context;\n        _dbSet = context.Set&lt;T&gt;();\n    }\n\n    public virtual async Task&lt;T?&gt; GetByIdAsync(Guid id)\n    {\n        return await _dbSet.FindAsync(id);\n    }\n\n    public virtual async Task&lt;IEnumerable&lt;T&gt;&gt; GetAllAsync()\n    {\n        return await _dbSet.ToListAsync();\n    }\n\n    public virtual async Task&lt;T&gt; AddAsync(T entity)\n    {\n        await _dbSet.AddAsync(entity);\n        return entity;\n    }\n\n    public virtual async Task UpdateAsync(T entity)\n    {\n        _dbSet.Update(entity);\n        await Task.CompletedTask;\n    }\n\n    public virtual async Task DeleteAsync(T entity)\n    {\n        _dbSet.Remove(entity);\n        await Task.CompletedTask;\n    }\n}\n</code></pre>"},{"location":"backend/infrastructure/#transacaorepository","title":"TransacaoRepository","text":"<p>Reposit\u00f3rio espec\u00edfico com queries otimizadas.</p> <pre><code>public class TransacaoRepository : Repository&lt;Transacao&gt;, ITransacaoRepository\n{\n    public TransacaoRepository(ApplicationDbContext context) : base(context)\n    {\n    }\n\n    public async Task&lt;IEnumerable&lt;Transacao&gt;&gt; GetByPeriodoAsync(\n        int mes, \n        int ano, \n        Guid usuarioId,\n        TipoTransacao? tipo = null,\n        Guid? categoriaId = null)\n    {\n        var query = _dbSet\n            .Include(t =&gt; t.Categoria)\n            .Where(t =&gt; t.UsuarioId == usuarioId\n                     &amp;&amp; t.Data.Month == mes\n                     &amp;&amp; t.Data.Year == ano);\n\n        if (tipo.HasValue)\n        {\n            query = query.Where(t =&gt; t.Tipo == tipo.Value);\n        }\n\n        if (categoriaId.HasValue)\n        {\n            query = query.Where(t =&gt; t.CategoriaId == categoriaId.Value);\n        }\n\n        return await query\n            .OrderByDescending(t =&gt; t.Data)\n            .ToListAsync();\n    }\n\n    public async Task&lt;decimal&gt; GetTotalByCategoriaAsync(\n        Guid categoriaId, \n        int mes, \n        int ano)\n    {\n        return await _dbSet\n            .Where(t =&gt; t.CategoriaId == categoriaId\n                     &amp;&amp; t.Data.Month == mes\n                     &amp;&amp; t.Data.Year == ano\n                     &amp;&amp; t.Tipo == TipoTransacao.Despesa)\n            .SumAsync(t =&gt; t.Valor);\n    }\n\n    public async Task&lt;Dictionary&lt;Guid, decimal&gt;&gt; GetTotaisPorCategoriaAsync(\n        Guid usuarioId, \n        int mes, \n        int ano)\n    {\n        return await _dbSet\n            .Where(t =&gt; t.UsuarioId == usuarioId\n                     &amp;&amp; t.Data.Month == mes\n                     &amp;&amp; t.Data.Year == ano\n                     &amp;&amp; t.Tipo == TipoTransacao.Despesa\n                     &amp;&amp; t.CategoriaId != null)\n            .GroupBy(t =&gt; t.CategoriaId.Value)\n            .Select(g =&gt; new { CategoriaId = g.Key, Total = g.Sum(t =&gt; t.Valor) })\n            .ToDictionaryAsync(x =&gt; x.CategoriaId, x =&gt; x.Total);\n    }\n}\n</code></pre>"},{"location":"backend/infrastructure/#unitofwork","title":"UnitOfWork","text":"<p>Implementa o padr\u00e3o Unit of Work para transa\u00e7\u00f5es.</p> <pre><code>public class UnitOfWork : IUnitOfWork\n{\n    private readonly ApplicationDbContext _context;\n\n    public UnitOfWork(ApplicationDbContext context)\n    {\n        _context = context;\n    }\n\n    public async Task&lt;int&gt; CommitAsync()\n    {\n        return await _context.SaveChangesAsync();\n    }\n\n    public async Task RollbackAsync()\n    {\n        await Task.CompletedTask;\n        // EF Core n\u00e3o precisa de rollback expl\u00edcito\n        // Se n\u00e3o chamar SaveChanges, as mudan\u00e7as s\u00e3o descartadas\n    }\n\n    public void Dispose()\n    {\n        _context.Dispose();\n    }\n}\n</code></pre>"},{"location":"backend/infrastructure/#servicos","title":"Servi\u00e7os","text":""},{"location":"backend/infrastructure/#jwtservice","title":"JwtService","text":"<p>Servi\u00e7o para gera\u00e7\u00e3o e valida\u00e7\u00e3o de tokens JWT.</p> <pre><code>public class JwtService\n{\n    private readonly IConfiguration _configuration;\n\n    public string GenerateToken(Usuario usuario)\n    {\n        var claims = new[]\n        {\n            new Claim(ClaimTypes.NameIdentifier, usuario.Id.ToString()),\n            new Claim(ClaimTypes.Email, usuario.Email),\n            new Claim(ClaimTypes.Name, usuario.Nome)\n        };\n\n        var key = new SymmetricSecurityKey(\n            Encoding.UTF8.GetBytes(_configuration[\"JWT:SecretKey\"]));\n\n        var credentials = new SigningCredentials(key, SecurityAlgorithms.HmacSha256);\n\n        var token = new JwtSecurityToken(\n            issuer: _configuration[\"JWT:Issuer\"],\n            audience: _configuration[\"JWT:Audience\"],\n            claims: claims,\n            expires: DateTime.Now.AddDays(7),\n            signingCredentials: credentials\n        );\n\n        return new JwtSecurityTokenHandler().WriteToken(token);\n    }\n\n    public ClaimsPrincipal? ValidateToken(string token)\n    {\n        var tokenHandler = new JwtSecurityTokenHandler();\n        var key = Encoding.UTF8.GetBytes(_configuration[\"JWT:SecretKey\"]);\n\n        try\n        {\n            var principal = tokenHandler.ValidateToken(token, new TokenValidationParameters\n            {\n                ValidateIssuerSigningKey = true,\n                IssuerSigningKey = new SymmetricSecurityKey(key),\n                ValidateIssuer = true,\n                ValidIssuer = _configuration[\"JWT:Issuer\"],\n                ValidateAudience = true,\n                ValidAudience = _configuration[\"JWT:Audience\"],\n                ValidateLifetime = true,\n                ClockSkew = TimeSpan.Zero\n            }, out SecurityToken validatedToken);\n\n            return principal;\n        }\n        catch\n        {\n            return null;\n        }\n    }\n}\n</code></pre>"},{"location":"backend/infrastructure/#passwordhasher","title":"PasswordHasher","text":"<p>Servi\u00e7o para hash de senhas com BCrypt.</p> <pre><code>public class PasswordHasher\n{\n    public string HashPassword(string password)\n    {\n        return BCrypt.Net.BCrypt.HashPassword(password);\n    }\n\n    public bool VerifyPassword(string password, string hash)\n    {\n        return BCrypt.Net.BCrypt.Verify(password, hash);\n    }\n}\n</code></pre>"},{"location":"backend/infrastructure/#tokenservice","title":"TokenService","text":"<p>Servi\u00e7o para gera\u00e7\u00e3o de tokens seguros.</p> <pre><code>public class TokenService\n{\n    public string GenerateSecureToken()\n    {\n        var randomBytes = new byte[32];\n        using (var rng = RandomNumberGenerator.Create())\n        {\n            rng.GetBytes(randomBytes);\n        }\n        return Convert.ToBase64String(randomBytes);\n    }\n\n    public DateTime GetTokenExpiry(int minutes = 30)\n    {\n        return DateTime.UtcNow.AddMinutes(minutes);\n    }\n}\n</code></pre>"},{"location":"backend/infrastructure/#mockemailservice","title":"MockEmailService","text":"<p>Servi\u00e7o mock para desenvolvimento (loga no console).</p> <pre><code>public class MockEmailService : IEmailService\n{\n    private readonly ILogger&lt;MockEmailService&gt; _logger;\n\n    public async Task SendEmailAsync(string to, string subject, string body)\n    {\n        _logger.LogInformation(\"EMAIL MOCK - Para: {To}\", to);\n        _logger.LogInformation(\"EMAIL MOCK - Assunto: {Subject}\", subject);\n        _logger.LogInformation(\"EMAIL MOCK - Corpo: {Body}\", body);\n\n        await Task.CompletedTask;\n    }\n\n    public async Task SendPasswordResetEmailAsync(string to, string token, string email)\n    {\n        var resetUrl = $\"http://localhost:3000/redefinir-senha?token={token}&amp;email={email}\";\n\n        _logger.LogInformation(\"EMAIL MOCK - Reset de Senha\");\n        _logger.LogInformation(\"EMAIL MOCK - Para: {To}\", to);\n        _logger.LogInformation(\"EMAIL MOCK - URL: {Url}\", resetUrl);\n\n        await Task.CompletedTask;\n    }\n}\n</code></pre>"},{"location":"backend/infrastructure/#brevoemailservice","title":"BrevoEmailService","text":"<p>Servi\u00e7o real para produ\u00e7\u00e3o (Brevo/Sendinblue).</p> <pre><code>public class BrevoEmailService : IEmailService\n{\n    private readonly IConfiguration _configuration;\n    private readonly HttpClient _httpClient;\n\n    public async Task SendEmailAsync(string to, string subject, string body)\n    {\n        var apiKey = _configuration[\"EmailSettings:ApiKey\"];\n        var senderEmail = _configuration[\"EmailSettings:SenderEmail\"];\n        var senderName = _configuration[\"EmailSettings:SenderName\"];\n\n        var request = new\n        {\n            sender = new { email = senderEmail, name = senderName },\n            to = new[] { new { email = to } },\n            subject = subject,\n            htmlContent = body\n        };\n\n        _httpClient.DefaultRequestHeaders.Add(\"api-key\", apiKey);\n\n        var response = await _httpClient.PostAsJsonAsync(\n            \"https://api.brevo.com/v3/smtp/email\", \n            request);\n\n        response.EnsureSuccessStatusCode();\n    }\n}\n</code></pre>"},{"location":"backend/infrastructure/#configuracao-de-dependencias","title":"Configura\u00e7\u00e3o de Depend\u00eancias","text":"<p>Registro de servi\u00e7os no <code>Program.cs</code>:</p> <pre><code>// Database\nbuilder.Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;\n    options.UseNpgsql(builder.Configuration.GetConnectionString(\"DefaultConnection\")));\n\n// Repositories\nbuilder.Services.AddScoped(typeof(IRepository&lt;&gt;), typeof(Repository&lt;&gt;));\nbuilder.Services.AddScoped&lt;IUsuarioRepository, UsuarioRepository&gt;();\nbuilder.Services.AddScoped&lt;ICategoriaRepository, CategoriaRepository&gt;();\nbuilder.Services.AddScoped&lt;ITransacaoRepository, TransacaoRepository&gt;();\nbuilder.Services.AddScoped&lt;IOrcamentoMensalRepository, OrcamentoMensalRepository&gt;();\nbuilder.Services.AddScoped&lt;IFechamentoMensalRepository, FechamentoMensalRepository&gt;();\nbuilder.Services.AddScoped&lt;IMetaRepository, MetaRepository&gt;();\nbuilder.Services.AddScoped&lt;IUnitOfWork, UnitOfWork&gt;();\n\n// Services\nbuilder.Services.AddScoped&lt;JwtService&gt;();\nbuilder.Services.AddScoped&lt;PasswordHasher&gt;();\nbuilder.Services.AddScoped&lt;TokenService&gt;();\n\n// Email Service (Mock ou Brevo baseado em configura\u00e7\u00e3o)\nif (builder.Environment.IsDevelopment())\n{\n    builder.Services.AddScoped&lt;IEmailService, MockEmailService&gt;();\n}\nelse\n{\n    builder.Services.AddScoped&lt;IEmailService, BrevoEmailService&gt;();\n}\n</code></pre>"},{"location":"backend/infrastructure/#connection-string","title":"Connection String","text":"<p>Configura\u00e7\u00e3o no <code>appsettings.json</code>:</p> <pre><code>{\n  \"ConnectionStrings\": {\n    \"DefaultConnection\": \"Host=localhost;Port=5432;Database=spendwise;Username=spendwise;Password=spendwise123\"\n  }\n}\n</code></pre>"},{"location":"backend/infrastructure/#testes","title":"Testes","text":"<p>A camada de infraestrutura \u00e9 testada com:</p> <ul> <li>Testes de Reposit\u00f3rio: Queries e persist\u00eancia</li> <li>Testes de Integra\u00e7\u00e3o: Com banco de dados real</li> <li>Testes de Servi\u00e7os: Mocks de depend\u00eancias externas</li> </ul> <p>Localiza\u00e7\u00e3o: <code>tests/SpendWise.Infrastructure.Tests/</code></p>"},{"location":"backend/infrastructure/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ol> <li>Configura\u00e7\u00f5es Fluent API: Sempre usar Fluent API para configura\u00e7\u00f5es</li> <li>\u00cdndices: Criar \u00edndices para queries frequentes</li> <li>Async/Await: Todas as opera\u00e7\u00f5es s\u00e3o ass\u00edncronas</li> <li>Unit of Work: Usar para transa\u00e7\u00f5es complexas</li> <li>Dependency Injection: Injetar depend\u00eancias via construtor</li> <li>Logging: Logar opera\u00e7\u00f5es importantes</li> <li>Connection Pooling: Configurar pool de conex\u00f5es adequadamente</li> </ol>"},{"location":"backend/testes/","title":"Testes - Backend","text":"<p>Documenta\u00e7\u00e3o completa sobre a estrat\u00e9gia de testes do backend do SpendWise.</p>"},{"location":"backend/testes/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>O backend possui uma cobertura de testes abrangente, incluindo testes unit\u00e1rios, de integra\u00e7\u00e3o e de API.</p>"},{"location":"backend/testes/#estatisticas","title":"Estat\u00edsticas","text":"<ul> <li>Cobertura de C\u00f3digo: 70%+</li> <li>Total de Testes: 150+</li> <li>Framework: xUnit</li> <li>Mocking: Moq</li> <li>Assertions: FluentAssertions</li> </ul>"},{"location":"backend/testes/#estrutura-de-testes","title":"Estrutura de Testes","text":"<pre><code>tests/\n SpendWise.Domain.Tests/\n    Entities/\n    ValueObjects/\n    coverage.cobertura.xml\n SpendWise.Application.Tests/\n    Handlers/\n    Validators/\n    Core/\n SpendWise.Infrastructure.Tests/\n    Repositories/\n    Data/\n SpendWise.API.Tests/\n     Controllers/\n     Fixtures/\n</code></pre>"},{"location":"backend/testes/#testes-de-dominio","title":"Testes de Dom\u00ednio","text":""},{"location":"backend/testes/#entidades","title":"Entidades","text":"<p>Testam valida\u00e7\u00f5es e comportamentos das entidades.</p> <p>Exemplo: UsuarioTests.cs</p> <pre><code>public class UsuarioTests\n{\n    [Fact]\n    public void SetPasswordResetToken_DeveDefinirTokenEExpiracao()\n    {\n        // Arrange\n        var usuario = new Usuario\n        {\n            Nome = \"Teste\",\n            Email = \"teste@teste.com\",\n            SenhaHash = \"hash\"\n        };\n        var token = \"token123\";\n        var expiry = DateTime.UtcNow.AddMinutes(30);\n\n        // Act\n        usuario.SetPasswordResetToken(token, expiry);\n\n        // Assert\n        usuario.PasswordResetToken.Should().Be(token);\n        usuario.PasswordResetTokenExpiry.Should().Be(expiry);\n    }\n\n    [Fact]\n    public void IsPasswordResetTokenValid_ComTokenExpirado_DeveRetornarFalse()\n    {\n        // Arrange\n        var usuario = new Usuario\n        {\n            Nome = \"Teste\",\n            Email = \"teste@teste.com\",\n            SenhaHash = \"hash\",\n            PasswordResetToken = \"token\",\n            PasswordResetTokenExpiry = DateTime.UtcNow.AddMinutes(-1)\n        };\n\n        // Act\n        var result = usuario.IsPasswordResetTokenValid();\n\n        // Assert\n        result.Should().BeFalse();\n    }\n}\n</code></pre>"},{"location":"backend/testes/#value-objects","title":"Value Objects","text":"<p>Testam valida\u00e7\u00f5es e comportamentos de value objects.</p> <p>Exemplo: MoneyTests.cs</p> <pre><code>public class MoneyTests\n{\n    [Fact]\n    public void Constructor_ComValorNegativo_DeveLancarException()\n    {\n        // Act\n        Action act = () =&gt; new Money(-10);\n\n        // Assert\n        act.Should().Throw&lt;ArgumentException&gt;()\n            .WithMessage(\"Valor n\u00e3o pode ser negativo\");\n    }\n\n    [Fact]\n    public void Add_DeveSomarValoresCorretamente()\n    {\n        // Arrange\n        var money1 = new Money(100);\n        var money2 = new Money(50);\n\n        // Act\n        var result = money1.Add(money2);\n\n        // Assert\n        result.Amount.Should().Be(150);\n    }\n}\n</code></pre>"},{"location":"backend/testes/#testes-de-aplicacao","title":"Testes de Aplica\u00e7\u00e3o","text":""},{"location":"backend/testes/#handlers","title":"Handlers","text":"<p>Testam a l\u00f3gica de neg\u00f3cio dos handlers.</p> <p>Exemplo: CreateTransacaoCommandHandlerTests.cs</p> <pre><code>public class CreateTransacaoCommandHandlerTests\n{\n    private readonly Mock&lt;ITransacaoRepository&gt; _repositoryMock;\n    private readonly Mock&lt;ICategoriaRepository&gt; _categoriaRepositoryMock;\n    private readonly Mock&lt;IUnitOfWork&gt; _unitOfWorkMock;\n    private readonly CreateTransacaoCommandHandler _handler;\n\n    public CreateTransacaoCommandHandlerTests()\n    {\n        _repositoryMock = new Mock&lt;ITransacaoRepository&gt;();\n        _categoriaRepositoryMock = new Mock&lt;ICategoriaRepository&gt;();\n        _unitOfWorkMock = new Mock&lt;IUnitOfWork&gt;();\n\n        _handler = new CreateTransacaoCommandHandler(\n            _repositoryMock.Object,\n            _categoriaRepositoryMock.Object,\n            _unitOfWorkMock.Object);\n    }\n\n    [Fact]\n    public async Task Handle_ComDadosValidos_DeveCriarTransacao()\n    {\n        // Arrange\n        var command = new CreateTransacaoCommand\n        {\n            Descricao = \"Teste\",\n            Valor = 100,\n            Data = DateTime.Now,\n            Tipo = TipoTransacao.Despesa,\n            CategoriaId = Guid.NewGuid(),\n            UsuarioId = Guid.NewGuid()\n        };\n\n        var categoria = new Categoria\n        {\n            Id = command.CategoriaId.Value,\n            Nome = \"Teste\",\n            LimiteDefinido = false\n        };\n\n        _categoriaRepositoryMock\n            .Setup(x =&gt; x.GetByIdAsync(command.CategoriaId.Value))\n            .ReturnsAsync(categoria);\n\n        // Act\n        var result = await _handler.Handle(command, CancellationToken.None);\n\n        // Assert\n        result.IsSuccess.Should().BeTrue();\n        _repositoryMock.Verify(x =&gt; x.AddAsync(It.IsAny&lt;Transacao&gt;()), Times.Once);\n        _unitOfWorkMock.Verify(x =&gt; x.CommitAsync(), Times.Once);\n    }\n\n    [Fact]\n    public async Task Handle_ExcedendoLimiteCategoria_DeveRetornarErro()\n    {\n        // Arrange\n        var command = new CreateTransacaoCommand\n        {\n            Descricao = \"Teste\",\n            Valor = 200,\n            Data = DateTime.Now,\n            Tipo = TipoTransacao.Despesa,\n            CategoriaId = Guid.NewGuid(),\n            UsuarioId = Guid.NewGuid()\n        };\n\n        var categoria = new Categoria\n        {\n            Id = command.CategoriaId.Value,\n            Nome = \"Teste\",\n            LimiteDefinido = true,\n            LimiteMensal = 1000\n        };\n\n        _categoriaRepositoryMock\n            .Setup(x =&gt; x.GetByIdAsync(command.CategoriaId.Value))\n            .ReturnsAsync(categoria);\n\n        _repositoryMock\n            .Setup(x =&gt; x.GetTotalByCategoriaAsync(\n                categoria.Id, \n                command.Data.Month, \n                command.Data.Year))\n            .ReturnsAsync(900);\n\n        // Act\n        var result = await _handler.Handle(command, CancellationToken.None);\n\n        // Assert\n        result.IsSuccess.Should().BeFalse();\n        result.Error.Should().Contain(\"Limite da categoria excedido\");\n    }\n}\n</code></pre>"},{"location":"backend/testes/#validators","title":"Validators","text":"<p>Testam as valida\u00e7\u00f5es com FluentValidation.</p> <p>Exemplo: CreateTransacaoCommandValidatorTests.cs</p> <pre><code>public class CreateTransacaoCommandValidatorTests\n{\n    private readonly CreateTransacaoCommandValidator _validator;\n\n    public CreateTransacaoCommandValidatorTests()\n    {\n        _validator = new CreateTransacaoCommandValidator();\n    }\n\n    [Fact]\n    public void Validate_ComDescricaoVazia_DeveRetornarErro()\n    {\n        // Arrange\n        var command = new CreateTransacaoCommand\n        {\n            Descricao = \"\",\n            Valor = 100,\n            Data = DateTime.Now,\n            Tipo = TipoTransacao.Despesa\n        };\n\n        // Act\n        var result = _validator.Validate(command);\n\n        // Assert\n        result.IsValid.Should().BeFalse();\n        result.Errors.Should().Contain(e =&gt; e.PropertyName == \"Descricao\");\n    }\n\n    [Fact]\n    public void Validate_ComValorNegativo_DeveRetornarErro()\n    {\n        // Arrange\n        var command = new CreateTransacaoCommand\n        {\n            Descricao = \"Teste\",\n            Valor = -10,\n            Data = DateTime.Now,\n            Tipo = TipoTransacao.Despesa\n        };\n\n        // Act\n        var result = _validator.Validate(command);\n\n        // Assert\n        result.IsValid.Should().BeFalse();\n        result.Errors.Should().Contain(e =&gt; e.PropertyName == \"Valor\");\n    }\n\n    [Fact]\n    public void Validate_DespesaSemCategoria_DeveRetornarErro()\n    {\n        // Arrange\n        var command = new CreateTransacaoCommand\n        {\n            Descricao = \"Teste\",\n            Valor = 100,\n            Data = DateTime.Now,\n            Tipo = TipoTransacao.Despesa,\n            CategoriaId = null\n        };\n\n        // Act\n        var result = _validator.Validate(command);\n\n        // Assert\n        result.IsValid.Should().BeFalse();\n        result.Errors.Should().Contain(e =&gt; e.PropertyName == \"CategoriaId\");\n    }\n}\n</code></pre>"},{"location":"backend/testes/#testes-de-infraestrutura","title":"Testes de Infraestrutura","text":""},{"location":"backend/testes/#repositorios","title":"Reposit\u00f3rios","text":"<p>Testam queries e persist\u00eancia com banco de dados em mem\u00f3ria.</p> <p>Exemplo: TransacaoRepositoryTests.cs</p> <pre><code>public class TransacaoRepositoryTests : IDisposable\n{\n    private readonly ApplicationDbContext _context;\n    private readonly TransacaoRepository _repository;\n\n    public TransacaoRepositoryTests()\n    {\n        var options = new DbContextOptionsBuilder&lt;ApplicationDbContext&gt;()\n            .UseInMemoryDatabase(databaseName: Guid.NewGuid().ToString())\n            .Options;\n\n        _context = new ApplicationDbContext(options);\n        _repository = new TransacaoRepository(_context);\n    }\n\n    [Fact]\n    public async Task GetByPeriodoAsync_DeveRetornarTransacoesDoMes()\n    {\n        // Arrange\n        var usuarioId = Guid.NewGuid();\n        var transacao1 = new Transacao\n        {\n            Descricao = \"Teste 1\",\n            Valor = 100,\n            Data = new DateTime(2024, 1, 15),\n            Tipo = TipoTransacao.Despesa,\n            UsuarioId = usuarioId\n        };\n        var transacao2 = new Transacao\n        {\n            Descricao = \"Teste 2\",\n            Valor = 200,\n            Data = new DateTime(2024, 2, 15),\n            Tipo = TipoTransacao.Despesa,\n            UsuarioId = usuarioId\n        };\n\n        await _context.Transacoes.AddRangeAsync(transacao1, transacao2);\n        await _context.SaveChangesAsync();\n\n        // Act\n        var result = await _repository.GetByPeriodoAsync(1, 2024, usuarioId);\n\n        // Assert\n        result.Should().HaveCount(1);\n        result.First().Descricao.Should().Be(\"Teste 1\");\n    }\n\n    [Fact]\n    public async Task GetTotalByCategoriaAsync_DeveRetornarSomaCorreta()\n    {\n        // Arrange\n        var categoriaId = Guid.NewGuid();\n        var usuarioId = Guid.NewGuid();\n\n        var transacoes = new[]\n        {\n            new Transacao\n            {\n                Descricao = \"Teste 1\",\n                Valor = 100,\n                Data = new DateTime(2024, 1, 15),\n                Tipo = TipoTransacao.Despesa,\n                CategoriaId = categoriaId,\n                UsuarioId = usuarioId\n            },\n            new Transacao\n            {\n                Descricao = \"Teste 2\",\n                Valor = 200,\n                Data = new DateTime(2024, 1, 20),\n                Tipo = TipoTransacao.Despesa,\n                CategoriaId = categoriaId,\n                UsuarioId = usuarioId\n            }\n        };\n\n        await _context.Transacoes.AddRangeAsync(transacoes);\n        await _context.SaveChangesAsync();\n\n        // Act\n        var result = await _repository.GetTotalByCategoriaAsync(categoriaId, 1, 2024);\n\n        // Assert\n        result.Should().Be(300);\n    }\n\n    public void Dispose()\n    {\n        _context.Dispose();\n    }\n}\n</code></pre>"},{"location":"backend/testes/#testes-de-api","title":"Testes de API","text":""},{"location":"backend/testes/#controllers","title":"Controllers","text":"<p>Testam endpoints com WebApplicationFactory.</p> <p>Exemplo: CategoriasControllerTests.cs</p> <pre><code>public class CategoriasControllerTests : IClassFixture&lt;SpendWiseWebApplicationFactory&gt;\n{\n    private readonly HttpClient _client;\n    private readonly SpendWiseWebApplicationFactory _factory;\n\n    public CategoriasControllerTests(SpendWiseWebApplicationFactory factory)\n    {\n        _factory = factory;\n        _client = factory.CreateClient();\n    }\n\n    [Fact]\n    public async Task GetAll_ComUsuarioAutenticado_DeveRetornarCategorias()\n    {\n        // Arrange\n        var token = await _factory.GetAuthTokenAsync();\n        _client.DefaultRequestHeaders.Authorization = \n            new AuthenticationHeaderValue(\"Bearer\", token);\n\n        // Act\n        var response = await _client.GetAsync(\"/api/categorias\");\n\n        // Assert\n        response.StatusCode.Should().Be(HttpStatusCode.OK);\n        var content = await response.Content.ReadAsStringAsync();\n        var categorias = JsonSerializer.Deserialize&lt;List&lt;CategoriaDto&gt;&gt;(content);\n        categorias.Should().NotBeNull();\n    }\n\n    [Fact]\n    public async Task Create_ComDadosValidos_DeveCriarCategoria()\n    {\n        // Arrange\n        var token = await _factory.GetAuthTokenAsync();\n        _client.DefaultRequestHeaders.Authorization = \n            new AuthenticationHeaderValue(\"Bearer\", token);\n\n        var command = new CreateCategoriaCommand\n        {\n            Nome = \"Teste\",\n            Tipo = TipoCategoria.Essencial,\n            Cor = \"#FF0000\"\n        };\n\n        // Act\n        var response = await _client.PostAsJsonAsync(\"/api/categorias\", command);\n\n        // Assert\n        response.StatusCode.Should().Be(HttpStatusCode.Created);\n        var content = await response.Content.ReadAsStringAsync();\n        var categoria = JsonSerializer.Deserialize&lt;CategoriaDto&gt;(content);\n        categoria.Nome.Should().Be(\"Teste\");\n    }\n\n    [Fact]\n    public async Task GetAll_SemAutenticacao_DeveRetornar401()\n    {\n        // Act\n        var response = await _client.GetAsync(\"/api/categorias\");\n\n        // Assert\n        response.StatusCode.Should().Be(HttpStatusCode.Unauthorized);\n    }\n}\n</code></pre>"},{"location":"backend/testes/#executando-testes","title":"Executando Testes","text":""},{"location":"backend/testes/#comandos","title":"Comandos","text":"<pre><code># Executar todos os testes\ndotnet test\n\n# Executar com cobertura\ndotnet test --collect:\"XPlat Code Coverage\"\n\n# Executar testes espec\u00edficos\ndotnet test --filter \"FullyQualifiedName~TransacaoTests\"\n\n# Executar com verbosidade\ndotnet test --logger \"console;verbosity=detailed\"\n</code></pre>"},{"location":"backend/testes/#gerar-relatorio-de-cobertura","title":"Gerar Relat\u00f3rio de Cobertura","text":"<pre><code># Instalar ReportGenerator\ndotnet tool install -g dotnet-reportgenerator-globaltool\n\n# Gerar relat\u00f3rio\nreportgenerator \\\n  -reports:./coverage/**/coverage.cobertura.xml \\\n  -targetdir:./coverage/report \\\n  -reporttypes:Html\n\n# Abrir relat\u00f3rio\nstart ./coverage/report/index.html\n</code></pre>"},{"location":"backend/testes/#cicd","title":"CI/CD","text":"<p>Os testes s\u00e3o executados automaticamente no pipeline CI/CD:</p> <pre><code>- name: Run unit tests\n  run: dotnet test --no-restore --configuration Release --collect:\"XPlat Code Coverage\"\n\n- name: Upload coverage\n  uses: codecov/codecov-action@v3\n  with:\n    files: ./coverage/**/coverage.cobertura.xml\n</code></pre>"},{"location":"backend/testes/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ol> <li>AAA Pattern: Arrange, Act, Assert</li> <li>Nomes Descritivos: M\u00e9todos de teste com nomes claros</li> <li>Testes Isolados: Cada teste \u00e9 independente</li> <li>Mocks: Usar mocks para depend\u00eancias externas</li> <li>Cobertura: Manter cobertura acima de 70%</li> <li>Testes R\u00e1pidos: Testes unit\u00e1rios devem ser r\u00e1pidos</li> <li>Testes Determin\u00edsticos: Sempre produzem o mesmo resultado</li> <li>Um Assert por Teste: Focar em um comportamento por teste</li> </ol>"},{"location":"backend/testes/#metricas","title":"M\u00e9tricas","text":""},{"location":"backend/testes/#cobertura-por-camada","title":"Cobertura por Camada","text":"<ul> <li>Domain: 85%</li> <li>Application: 75%</li> <li>Infrastructure: 65%</li> <li>API: 70%</li> </ul>"},{"location":"backend/testes/#tempo-de-execucao","title":"Tempo de Execu\u00e7\u00e3o","text":"<ul> <li>Testes Unit\u00e1rios: ~30 segundos</li> <li>Testes de Integra\u00e7\u00e3o: ~2 minutos</li> <li>Testes de API: ~1 minuto</li> </ul>"},{"location":"backend/testes/#ferramentas","title":"Ferramentas","text":"<ul> <li>xUnit: Framework de testes</li> <li>Moq: Biblioteca de mocking</li> <li>FluentAssertions: Assertions fluentes</li> <li>Bogus: Gera\u00e7\u00e3o de dados fake</li> <li>WebApplicationFactory: Testes de integra\u00e7\u00e3o</li> <li>ReportGenerator: Relat\u00f3rios de cobertura</li> </ul>"},{"location":"diagrams/","title":"Diagramas do Sistema","text":""},{"location":"diagrams/#visao-geral","title":"Visao Geral","text":"<p>Esta secao contem os diagramas conceituais e logicos do sistema SpendWise, incluindo modelos de dados, diagramas de classes e arquitetura.</p>"},{"location":"diagrams/#diagramas-disponiveis","title":"Diagramas Disponiveis","text":""},{"location":"diagrams/#1-modelo-entidade-relacionamento-mer","title":"1. Modelo Entidade-Relacionamento (MER)","text":"<p>O MER descreve o modelo conceitual de dados do sistema, evidenciando entidades, atributos de negocio, relacionamentos, cardinalidades e regras.</p> <p>Documento: MER-SpendWise.md</p> <p>Principais Entidades: - Usuario - Categoria - Transacao (Receita e Despesa) - OrcamentoMensal - MetaFinanceira - FechamentoMensal</p>"},{"location":"diagrams/#2-diagrama-entidade-relacionamento-der","title":"2. Diagrama Entidade-Relacionamento (DER)","text":"<p>O DER representa a estrutura fisica do banco de dados PostgreSQL, incluindo tabelas, colunas, tipos de dados, chaves primarias e estrangeiras.</p> <p></p> <p>Principais Tabelas: - <code>usuarios</code> - Dados dos usuarios - <code>categorias</code> - Categorias de gastos - <code>transacoes</code> - Receitas e despesas - <code>orcamentos_mensais</code> - Orcamentos por mes - <code>metas_financeiras</code> - Objetivos financeiros - <code>fechamentos_mensais</code> - Consolidacao mensal</p>"},{"location":"diagrams/#3-diagrama-de-classes","title":"3. Diagrama de Classes","text":"<p>O diagrama de classes representa a estrutura orientada a objetos do backend, mostrando as entidades do dominio e seus relacionamentos.</p> <p></p> <p>Camadas Representadas: - Domain Layer: Entidades, Value Objects, Enums - Application Layer: Commands, Queries, Handlers - Infrastructure Layer: Repositorios, DbContext - API Layer: Controllers</p>"},{"location":"diagrams/#relacionamentos-principais","title":"Relacionamentos Principais","text":""},{"location":"diagrams/#usuario-e-entidades","title":"Usuario e Entidades","text":"<pre><code>Usuario (1) -----&gt; (0..*) Categoria\nUsuario (1) -----&gt; (0..*) Transacao\nUsuario (1) -----&gt; (0..*) OrcamentoMensal\nUsuario (1) -----&gt; (0..*) MetaFinanceira\nUsuario (1) -----&gt; (0..*) FechamentoMensal\n</code></pre>"},{"location":"diagrams/#categoria-e-transacao","title":"Categoria e Transacao","text":"<pre><code>Categoria (1) -----&gt; (0..*) Despesa\nReceita (nao possui categoria)\n</code></pre>"},{"location":"diagrams/#especializacao-de-transacao","title":"Especializacao de Transacao","text":"<pre><code>Transacao (abstrata)\n    |\n    +--- Receita\n    |\n    +--- Despesa\n</code></pre>"},{"location":"diagrams/#regras-de-negocio","title":"Regras de Negocio","text":""},{"location":"diagrams/#r1-email-unico","title":"R1: Email Unico","text":"<p><code>Usuario.email</code> e unico no dominio.</p>"},{"location":"diagrams/#r2-categoria-unica-por-usuario","title":"R2: Categoria Unica por Usuario","text":"<p><code>Categoria.nome</code> e unico dentro do mesmo usuario.</p>"},{"location":"diagrams/#r3-categoria-obrigatoria-para-despesa","title":"R3: Categoria Obrigatoria para Despesa","text":"<p>Despesa deve possuir uma Categoria (participacao total). Receita nao possui categoria.</p>"},{"location":"diagrams/#r4-validacoes-de-transacao","title":"R4: Validacoes de Transacao","text":"<ul> <li><code>Transacao.valor</code> &gt; 0</li> <li><code>Transacao.data</code> nao pode ser futura</li> </ul>"},{"location":"diagrams/#r5-orcamento-mensal-unico","title":"R5: Orcamento Mensal Unico","text":"<p>Um orcamento por usuario por mes. <code>valor</code> &gt;= 0.</p>"},{"location":"diagrams/#r6-fechamento-mensal","title":"R6: Fechamento Mensal","text":"<p>Um fechamento por usuario por mes. Apos fechar, transacoes do mes ficam imutaveis.</p>"},{"location":"diagrams/#r7-meta-financeira","title":"R7: Meta Financeira","text":"<ul> <li><code>valorAlvo</code> &gt; 0</li> <li><code>prazo</code> deve ser data futura</li> </ul>"},{"location":"diagrams/#cardinalidades","title":"Cardinalidades","text":"Relacionamento Cardinalidade Participacao Usuario - Categoria 1:N Parcial Usuario - Transacao 1:N Parcial Categoria - Despesa 1:N Total (Despesa) Usuario - OrcamentoMensal 1:N Parcial Usuario - MetaFinanceira 1:N Parcial Usuario - FechamentoMensal 1:N Parcial"},{"location":"diagrams/#tipos-de-dados-conceituais","title":"Tipos de Dados Conceituais","text":""},{"location":"diagrams/#tipotransacao-enum","title":"TipoTransacao (Enum)","text":"<ul> <li><code>RECEITA</code> - Entrada de recursos</li> <li><code>DESPESA</code> - Saida de recursos</li> </ul>"},{"location":"diagrams/#tipocategoria-enum","title":"TipoCategoria (Enum)","text":"<ul> <li><code>ESSENCIAL</code> - Gastos essenciais (moradia, alimentacao, saude)</li> <li><code>SUPERFLUO</code> - Gastos nao essenciais (entretenimento, lazer)</li> </ul>"},{"location":"diagrams/#statusmeta-enum","title":"StatusMeta (Enum)","text":"<ul> <li><code>ATIVA</code> - Meta em andamento</li> <li><code>ALCANCADA</code> - Meta atingida</li> <li><code>VENCIDA</code> - Prazo expirado sem atingir objetivo</li> </ul>"},{"location":"diagrams/#indices-e-otimizacoes","title":"Indices e Otimizacoes","text":""},{"location":"diagrams/#indices-principais","title":"Indices Principais","text":"<p>usuarios: - PK: <code>id</code> - UNIQUE: <code>email</code></p> <p>categorias: - PK: <code>id</code> - FK: <code>usuario_id</code> - INDEX: <code>(usuario_id, nome)</code> - Busca por usuario e nome</p> <p>transacoes: - PK: <code>id</code> - FK: <code>usuario_id</code>, <code>categoria_id</code> - INDEX: <code>(usuario_id, data)</code> - Busca por periodo - INDEX: <code>(usuario_id, tipo)</code> - Filtro por tipo</p> <p>orcamentos_mensais: - PK: <code>id</code> - FK: <code>usuario_id</code> - UNIQUE: <code>(usuario_id, mes, ano)</code> - Um por mes</p> <p>metas_financeiras: - PK: <code>id</code> - FK: <code>usuario_id</code> - INDEX: <code>(usuario_id, status)</code> - Filtro por status</p> <p>fechamentos_mensais: - PK: <code>id</code> - FK: <code>usuario_id</code> - UNIQUE: <code>(usuario_id, mes, ano)</code> - Um por mes</p>"},{"location":"diagrams/#consultas-comuns","title":"Consultas Comuns","text":""},{"location":"diagrams/#saldo-por-mes","title":"Saldo por Mes","text":"<pre><code>SELECT \n    EXTRACT(YEAR FROM data) as ano,\n    EXTRACT(MONTH FROM data) as mes,\n    SUM(CASE WHEN tipo = 'RECEITA' THEN valor ELSE 0 END) as receitas,\n    SUM(CASE WHEN tipo = 'DESPESA' THEN valor ELSE 0 END) as despesas,\n    SUM(CASE WHEN tipo = 'RECEITA' THEN valor ELSE -valor END) as saldo\nFROM transacoes\nWHERE usuario_id = ?\nGROUP BY ano, mes\nORDER BY ano DESC, mes DESC;\n</code></pre>"},{"location":"diagrams/#gasto-por-categoria-no-mes","title":"Gasto por Categoria no Mes","text":"<pre><code>SELECT \n    c.nome,\n    c.limite_mensal,\n    SUM(t.valor) as gasto_atual,\n    (SUM(t.valor) / c.limite_mensal * 100) as percentual\nFROM transacoes t\nJOIN categorias c ON t.categoria_id = c.id\nWHERE t.usuario_id = ?\n  AND t.tipo = 'DESPESA'\n  AND EXTRACT(YEAR FROM t.data) = ?\n  AND EXTRACT(MONTH FROM t.data) = ?\nGROUP BY c.id, c.nome, c.limite_mensal;\n</code></pre>"},{"location":"diagrams/#progresso-de-metas","title":"Progresso de Metas","text":"<pre><code>SELECT \n    nome,\n    valor_objetivo,\n    valor_atual,\n    (valor_atual / valor_objetivo * 100) as percentual_progresso,\n    (valor_objetivo - valor_atual) as valor_restante,\n    (prazo - CURRENT_DATE) as dias_restantes,\n    status\nFROM metas_financeiras\nWHERE usuario_id = ?\n  AND status = 'ATIVA'\nORDER BY prazo ASC;\n</code></pre>"},{"location":"diagrams/#evolucao-do-modelo","title":"Evolucao do Modelo","text":""},{"location":"diagrams/#versao-10-mvp","title":"Versao 1.0 (MVP)","text":"<ul> <li>Entidades basicas: Usuario, Categoria, Transacao</li> <li>Relacionamentos fundamentais</li> <li>Regras de negocio essenciais</li> </ul>"},{"location":"diagrams/#versao-11-atual","title":"Versao 1.1 (Atual)","text":"<ul> <li>Adicao de OrcamentoMensal</li> <li>Adicao de FechamentoMensal</li> <li>Adicao de MetaFinanceira</li> <li>Especializacao de Transacao (Receita/Despesa)</li> <li>Validacoes aprimoradas</li> </ul>"},{"location":"diagrams/#versao-futura-planejado","title":"Versao Futura (Planejado)","text":"<ul> <li>Notificacoes (alertas de limite)</li> <li>Anexos (comprovantes de transacoes)</li> <li>Compartilhamento (orcamento familiar)</li> <li>Recorrencia (transacoes automaticas)</li> </ul>"},{"location":"diagrams/#referencias","title":"Referencias","text":"<ul> <li>MER Completo - Modelo Entidade-Relacionamento detalhado</li> <li>Backend Architecture - Arquitetura do backend</li> <li>Domain Layer - Camada de dominio</li> <li>Database Schema - Schema do banco de dados</li> </ul>"},{"location":"diagrams/#ferramentas-utilizadas","title":"Ferramentas Utilizadas","text":"<ul> <li>Modelagem Conceitual: Draw.io, Lucidchart</li> <li>Banco de Dados: PostgreSQL 15</li> <li>ORM: Entity Framework Core 8</li> <li>Migrations: EF Core Migrations</li> </ul>"},{"location":"diagrams/MER-SpendWise/","title":"MER \u2014 Sistema de Finan\u00e7as Pessoais","text":""},{"location":"diagrams/MER-SpendWise/#1-objetivo","title":"1. Objetivo","text":"<p>Descrever o modelo conceitual de dados do sistema, evidenciando entidades, atributos de neg\u00f3cio, relacionamentos, cardinalidades e regras. Este documento n\u00e3o define tipos f\u00edsicos nem chaves t\u00e9cnicas (isso \u00e9 assunto do DER).</p>"},{"location":"diagrams/MER-SpendWise/#2-convencoes","title":"2. Conven\u00e7\u00f5es","text":"<ul> <li>Cardinalidade:</li> <li><code>1</code> = exatamente um;</li> <li><code>0..*</code> = zero ou muitos;</li> <li><code>1..*</code> = um ou muitos.</li> <li>Participa\u00e7\u00e3o:</li> <li>Total = obrigat\u00f3rio no relacionamento;</li> <li>Parcial = opcional.</li> <li>Especializa\u00e7\u00e3o/Generaliza\u00e7\u00e3o (EER): <code>Transa\u00e7\u00e3o</code> especializa em <code>Receita</code> e <code>Despesa</code>.</li> </ul>"},{"location":"diagrams/MER-SpendWise/#3-entidades-e-atributos-conceituais","title":"3. Entidades e Atributos (conceituais)","text":""},{"location":"diagrams/MER-SpendWise/#31-usuario","title":"3.1 Usu\u00e1rio","text":"<ul> <li>Descri\u00e7\u00e3o: pessoa titular das informa\u00e7\u00f5es financeiras.</li> <li>Atributos: <code>identificador</code>, <code>nome</code>, <code>email</code>, <code>criadoEm</code>, <code>atualizadoEm</code>.</li> <li>Notas: <code>email</code> \u00e9 \u00fanico no dom\u00ednio (regra conceitual).</li> </ul>"},{"location":"diagrams/MER-SpendWise/#32-categoria","title":"3.2 Categoria","text":"<ul> <li>Descri\u00e7\u00e3o: classifica despesas segundo prioridade.</li> <li>Atributos: <code>nome</code>, <code>limiteMensal</code>, <code>tipo</code> (ESSENCIAL | SUPERFLUO), <code>criadoEm</code>.</li> <li>Notas: <code>nome</code> \u00e9 \u00fanico por usu\u00e1rio; <code>limiteMensal</code> \u00e9 \u2265 0.</li> </ul>"},{"location":"diagrams/MER-SpendWise/#33-transacao-abstrata","title":"3.3 Transa\u00e7\u00e3o (abstrata)","text":"<ul> <li>Descri\u00e7\u00e3o: movimento financeiro at\u00f4mico.</li> <li>Atributos: <code>valor</code>, <code>data</code>, <code>descricao</code>, <code>criadoEm</code>.</li> <li>Notas:</li> <li><code>valor</code> &gt; 0 (o sinal \u00e9 dado pela especializa\u00e7\u00e3o: receita +, despesa \u2212).</li> <li><code>data</code> n\u00e3o pode ser futura.</li> </ul>"},{"location":"diagrams/MER-SpendWise/#34-receita-especializacao-de-transacao","title":"3.4 Receita (especializa\u00e7\u00e3o de Transa\u00e7\u00e3o)","text":"<ul> <li>Descri\u00e7\u00e3o: entrada de recursos.</li> <li>Atributos espec\u00edficos (opcionais): <code>fonte</code>, <code>recorrente</code>.</li> <li>Notas: n\u00e3o possui categoria (por regra de dom\u00ednio).</li> </ul>"},{"location":"diagrams/MER-SpendWise/#35-despesa-especializacao-de-transacao","title":"3.5 Despesa (especializa\u00e7\u00e3o de Transa\u00e7\u00e3o)","text":"<ul> <li>Descri\u00e7\u00e3o: sa\u00edda de recursos.</li> <li>Atributos espec\u00edficos (opcionais): <code>essencial?</code> (derivado de <code>Categoria.tipo</code> se preferir manter apenas na Categoria).</li> <li>Notas: deve pertencer a uma Categoria (participa\u00e7\u00e3o total).</li> </ul>"},{"location":"diagrams/MER-SpendWise/#36-orcamentomensal","title":"3.6 Or\u00e7amentoMensal","text":"<ul> <li>Descri\u00e7\u00e3o: limite global de gasto por <code>anoMes</code> para um usu\u00e1rio.</li> <li>Atributos: <code>anoMes</code>, <code>valor</code>, <code>criadoEm</code>.</li> <li>Notas: um por usu\u00e1rio por m\u00eas (unicidade conceitual); <code>valor</code> \u2265 0.</li> </ul>"},{"location":"diagrams/MER-SpendWise/#37-metafinanceira","title":"3.7 MetaFinanceira","text":"<ul> <li>Descri\u00e7\u00e3o: objetivo de poupan\u00e7a/investimento.</li> <li>Atributos: <code>descricao</code>, <code>valorAlvo</code>, <code>prazo</code>, <code>criadoEm</code>.</li> <li>Notas: <code>valorAlvo</code> &gt; 0; <code>prazo</code> no futuro (regra conceitual).</li> </ul>"},{"location":"diagrams/MER-SpendWise/#38-fechamentomensal","title":"3.8 FechamentoMensal","text":"<ul> <li>Descri\u00e7\u00e3o: evento que consolida um m\u00eas (<code>anoMes</code>) e bloqueia altera\u00e7\u00f5es posteriores nas transa\u00e7\u00f5es daquele per\u00edodo.</li> <li>Atributos: <code>anoMes</code>, <code>fechadoEm</code>.</li> <li>Notas: um por usu\u00e1rio por m\u00eas (unicidade conceitual).</li> </ul>"},{"location":"diagrams/MER-SpendWise/#4-relacionamentos-cardinalidades-e-participacao","title":"4. Relacionamentos, Cardinalidades e Participa\u00e7\u00e3o","text":"<p>1) Usu\u00e1rio \u2014 Categoria    - Leitura: um Usu\u00e1rio possui Categorias.    - Cardinalidade: <code>Usu\u00e1rio 1</code> \u2014 <code>Categoria 0..*</code>.    - Participa\u00e7\u00e3o: em <code>Categoria</code>, parcial (um usu\u00e1rio pode ainda n\u00e3o ter categorias).    - Regra: <code>Categoria.nome</code> \u00e9 \u00fanico por usu\u00e1rio.</p> <p>2) Usu\u00e1rio \u2014 Transa\u00e7\u00e3o    - Leitura: um Usu\u00e1rio realiza Transa\u00e7\u00f5es.    - Cardinalidade: <code>Usu\u00e1rio 1</code> \u2014 <code>Transa\u00e7\u00e3o 0..*</code>.    - Participa\u00e7\u00e3o: em <code>Transa\u00e7\u00e3o</code>, parcial.</p> <p>3) Categoria \u2014 Despesa    - Leitura: uma Categoria classifica Despesas.    - Cardinalidade: <code>Categoria 1</code> \u2014 <code>Despesa 0..*</code>.    - Participa\u00e7\u00e3o: em <code>Despesa</code>, total (toda despesa tem categoria).    - Observa\u00e7\u00e3o: Receitas n\u00e3o se relacionam a Categoria.</p> <p>4) Usu\u00e1rio \u2014 Or\u00e7amentoMensal    - Leitura: um Usu\u00e1rio define Or\u00e7amentos Mensais.    - Cardinalidade: <code>Usu\u00e1rio 1</code> \u2014 <code>Or\u00e7amentoMensal 0..*</code>.    - Regra: no m\u00e1ximo 1 por <code>anoMes</code> (unicidade conceitual).</p> <p>5) Usu\u00e1rio \u2014 MetaFinanceira    - Leitura: um Usu\u00e1rio estabelece Metas Financeiras.    - Cardinalidade: <code>Usu\u00e1rio 1</code> \u2014 <code>MetaFinanceira 0..*</code>.</p> <p>6) Usu\u00e1rio \u2014 FechamentoMensal    - Leitura: um Usu\u00e1rio executa Fechamentos Mensais.    - Cardinalidade: <code>Usu\u00e1rio 1</code> \u2014 <code>FechamentoMensal 0..*</code>.    - Regra: no m\u00e1ximo 1 por <code>anoMes</code>; ap\u00f3s o fechamento, transa\u00e7\u00f5es do m\u00eas ficam imut\u00e1veis.</p> <p>7) Transa\u00e7\u00e3o \u2014 Especializa\u00e7\u00f5es (EER)    - Leitura: Transa\u00e7\u00e3o \u00e9 generaliza\u00e7\u00e3o de Receita e Despesa.    - Disjun\u00e7\u00e3o: disjunta (uma transa\u00e7\u00e3o \u00e9 ou receita ou despesa).    - Cobertura: total (toda transa\u00e7\u00e3o pertence a uma das especializa\u00e7\u00f5es).</p>"},{"location":"diagrams/MER-SpendWise/#5-regras-de-negocio-conceituais","title":"5. Regras de Neg\u00f3cio (conceituais)","text":"<ul> <li>R1. <code>Usuario.email</code> \u00e9 \u00fanico no dom\u00ednio.</li> <li>R2. <code>Categoria.nome</code> \u00e9 \u00fanico dentro do mesmo usu\u00e1rio.</li> <li>R3. Despesa deve possuir uma Categoria (participa\u00e7\u00e3o total); Receita n\u00e3o possui categoria.</li> <li>R4. <code>Transacao.valor</code> &gt; 0; <code>Transacao.data</code> n\u00e3o pode ser futura.</li> <li>R5. <code>OrcamentoMensal</code>: um por usu\u00e1rio por m\u00eas; <code>valor</code> \u2265 0.</li> <li>R6. <code>FechamentoMensal</code>: um por usu\u00e1rio por m\u00eas; ap\u00f3s fechar um m\u00eas, n\u00e3o se alteram transa\u00e7\u00f5es daquele <code>anoMes</code>.</li> <li>R7. <code>MetaFinanceira</code>: <code>valorAlvo</code> &gt; 0; <code>prazo</code> futuro (no n\u00edvel conceitual; valida\u00e7\u00e3o operacional).</li> </ul>"},{"location":"diagrams/MER-SpendWise/#6-observacoes-de-design-do-conceitual-para-o-logico","title":"6. Observa\u00e7\u00f5es de Design (do conceitual para o l\u00f3gico)","text":"<ul> <li>Categoria obrigat\u00f3ria s\u00f3 para Despesa: expressa conceitualmente na EER; no DER vira restri\u00e7\u00e3o (ex.: <code>CHECK</code> que permite <code>categoria_id</code> apenas quando <code>tipo = DESPESA</code>).</li> <li>Or\u00e7amento/Fechamento por m\u00eas: conceitualmente <code>anoMes</code>; no f\u00edsico costuma virar um <code>DATE</code> representando o 1\u00ba dia do m\u00eas para facilitar agrega\u00e7\u00f5es.</li> <li>Especializa\u00e7\u00e3o <code>Transa\u00e7\u00e3o \u2192 Receita|Despesa</code>: no f\u00edsico pode ser mapeada como uma tabela com coluna <code>tipo</code> (Single Table Inheritance) ou tabelas separadas (TPT). Conceitualmente, permanece a generaliza\u00e7\u00e3o.</li> </ul>"},{"location":"diagrams/MER-SpendWise/#7-exemplos-de-consultas-apoio-a-compreensao","title":"7. Exemplos de Consultas (apoio \u00e0 compreens\u00e3o)","text":"<ul> <li>\u201cSaldo por m\u00eas do usu\u00e1rio\u201d \u2192 somat\u00f3rio de Receitas menos Despesas por <code>anoMes</code>.</li> <li>\u201cGasto por categoria no m\u00eas\u201d \u2192 soma de Despesas agrupadas por <code>Categoria</code>.</li> <li>\u201cAlertas\u201d \u2192 quando <code>Categoria.limiteMensal</code> \u00e9 atingido/ultrapassado; quando <code>OrcamentoMensal.valor</code> \u00e9 excedido.</li> </ul>"},{"location":"diagrams/MER-SpendWise/#8-glossario","title":"8. Gloss\u00e1rio","text":"<ul> <li>anoMes: per\u00edodo no formato m\u00eas/ano (conceitual); no f\u00edsico pode ser <code>DATE</code> (1\u00ba dia do m\u00eas).</li> <li>participa\u00e7\u00e3o total: a entidade n\u00e3o existe no contexto sem o relacionamento (ex.: Despesa sem Categoria n\u00e3o \u00e9 v\u00e1lida).</li> <li>disjun\u00e7\u00e3o: uma inst\u00e2ncia participa de uma \u00fanica especializa\u00e7\u00e3o.</li> </ul>"},{"location":"diagrams/architecture/","title":"Diagrama de Classes - SpendWise","text":""},{"location":"diagrams/architecture/#arquitetura-de-classes","title":"Arquitetura de Classes","text":"<p>O SpendWise implementa Clean Architecture com Domain-Driven Design (DDD), seguindo os princ\u00edpios SOLID e padr\u00f5es modernos de desenvolvimento.</p>"},{"location":"diagrams/architecture/#diagrama-de-classes-completo","title":"Diagrama de Classes Completo","text":""},{"location":"diagrams/architecture/#visao-geral-da-arquitetura","title":"Vis\u00e3o Geral da Arquitetura","text":"<p>O diagrama acima mostra a estrutura completa das classes do sistema, organizadas por camadas da Clean Architecture.</p>"},{"location":"diagrams/architecture/#camadas-da-arquitetura","title":"Camadas da Arquitetura","text":""},{"location":"diagrams/architecture/#1-domain-layer-nucleo","title":"1. Domain Layer (N\u00facleo)","text":""},{"location":"diagrams/architecture/#entities-entidades","title":"Entities (Entidades)","text":"<pre><code>// Entidade base com eventos de dom\u00ednio\npublic abstract class BaseEntity\n{\n    public Guid Id { get; protected set; }\n    public DateTime CreatedAt { get; protected set; }\n    public DateTime UpdatedAt { get; protected set; }\n\n    private readonly List&lt;IDomainEvent&gt; _domainEvents = new();\n    public IReadOnlyCollection&lt;IDomainEvent&gt; DomainEvents =&gt; _domainEvents.AsReadOnly();\n\n    protected void AddDomainEvent(IDomainEvent domainEvent)\n    {\n        _domainEvents.Add(domainEvent);\n    }\n\n    public void ClearDomainEvents()\n    {\n        _domainEvents.Clear();\n    }\n}\n\n// Entidade User\npublic class User : BaseEntity\n{\n    public string Name { get; private set; }\n    public Email Email { get; private set; }\n    public string PasswordHash { get; private set; }\n    public bool IsActive { get; private set; }\n\n    private User() { } // EF Core\n\n    public User(string name, Email email, string passwordHash)\n    {\n        Id = Guid.NewGuid();\n        Name = name ?? throw new ArgumentNullException(nameof(name));\n        Email = email ?? throw new ArgumentNullException(nameof(email));\n        PasswordHash = passwordHash ?? throw new ArgumentNullException(nameof(passwordHash));\n        IsActive = true;\n        CreatedAt = DateTime.UtcNow;\n        UpdatedAt = DateTime.UtcNow;\n\n        AddDomainEvent(new UserCreatedEvent(Id, Email.Value));\n    }\n\n    public void UpdateName(string name)\n    {\n        if (string.IsNullOrWhiteSpace(name))\n            throw new DomainException(\"Name cannot be empty\");\n\n        Name = name;\n        UpdatedAt = DateTime.UtcNow;\n    }\n\n    public void Deactivate()\n    {\n        IsActive = false;\n        UpdatedAt = DateTime.UtcNow;\n        AddDomainEvent(new UserDeactivatedEvent(Id));\n    }\n}\n\n// Entidade Transaction\npublic class Transaction : BaseEntity\n{\n    public string Description { get; private set; }\n    public Money Amount { get; private set; }\n    public TransactionType Type { get; private set; }\n    public DateTime Date { get; private set; }\n    public string? Notes { get; private set; }\n    public List&lt;string&gt; Tags { get; private set; }\n\n    // Relacionamentos\n    public UserId UserId { get; private set; }\n    public CategoryId? CategoryId { get; private set; } // Null para receitas\n\n    private Transaction() { } // EF Core\n\n    public static Transaction CreateExpense(\n        string description,\n        Money amount,\n        DateTime date,\n        UserId userId,\n        CategoryId categoryId,\n        string? notes = null)\n    {\n        ValidateCommonFields(description, amount, date);\n\n        if (categoryId == null)\n            throw new DomainException(\"Expense must have a category\");\n\n        var transaction = new Transaction\n        {\n            Id = Guid.NewGuid(),\n            Description = description,\n            Amount = amount,\n            Type = TransactionType.Expense,\n            Date = date,\n            UserId = userId,\n            CategoryId = categoryId,\n            Notes = notes,\n            Tags = new List&lt;string&gt;(),\n            CreatedAt = DateTime.UtcNow,\n            UpdatedAt = DateTime.UtcNow\n        };\n\n        transaction.AddDomainEvent(new TransactionCreatedEvent(\n            transaction.Id, userId, amount, TransactionType.Expense));\n\n        return transaction;\n    }\n\n    public static Transaction CreateIncome(\n        string description,\n        Money amount,\n        DateTime date,\n        UserId userId,\n        string? notes = null)\n    {\n        ValidateCommonFields(description, amount, date);\n\n        var transaction = new Transaction\n        {\n            Id = Guid.NewGuid(),\n            Description = description,\n            Amount = amount,\n            Type = TransactionType.Income,\n            Date = date,\n            UserId = userId,\n            CategoryId = null, // Receitas n\u00e3o t\u00eam categoria\n            Notes = notes,\n            Tags = new List&lt;string&gt;(),\n            CreatedAt = DateTime.UtcNow,\n            UpdatedAt = DateTime.UtcNow\n        };\n\n        transaction.AddDomainEvent(new TransactionCreatedEvent(\n            transaction.Id, userId, amount, TransactionType.Income));\n\n        return transaction;\n    }\n\n    private static void ValidateCommonFields(string description, Money amount, DateTime date)\n    {\n        if (string.IsNullOrWhiteSpace(description))\n            throw new DomainException(\"Description cannot be empty\");\n\n        if (amount.Amount &lt;= 0)\n            throw new DomainException(\"Amount must be greater than zero\");\n\n        if (date &gt; DateTime.Today)\n            throw new DomainException(\"Date cannot be in the future\");\n    }\n\n    public void UpdateDescription(string description)\n    {\n        if (string.IsNullOrWhiteSpace(description))\n            throw new DomainException(\"Description cannot be empty\");\n\n        Description = description;\n        UpdatedAt = DateTime.UtcNow;\n    }\n\n    public bool IsExpense() =&gt; Type == TransactionType.Expense;\n    public bool IsIncome() =&gt; Type == TransactionType.Income;\n}\n\n// Entidade Category\npublic class Category : BaseEntity\n{\n    public string Name { get; private set; }\n    public string? Description { get; private set; }\n    public string Color { get; private set; }\n    public string Icon { get; private set; }\n    public CategoryType Type { get; private set; }\n    public Money? MonthlyLimit { get; private set; }\n    public bool IsActive { get; private set; }\n\n    // Relacionamentos\n    public UserId UserId { get; private set; }\n\n    private Category() { } // EF Core\n\n    public Category(\n        string name,\n        UserId userId,\n        CategoryType type,\n        string color = \"#10b981\",\n        string icon = \"folder\",\n        string? description = null,\n        Money? monthlyLimit = null)\n    {\n        Id = Guid.NewGuid();\n        Name = name ?? throw new ArgumentNullException(nameof(name));\n        UserId = userId ?? throw new ArgumentNullException(nameof(userId));\n        Type = type;\n        Color = color;\n        Icon = icon;\n        Description = description;\n        MonthlyLimit = monthlyLimit;\n        IsActive = true;\n        CreatedAt = DateTime.UtcNow;\n        UpdatedAt = DateTime.UtcNow;\n\n        AddDomainEvent(new CategoryCreatedEvent(Id, userId, name));\n    }\n\n    public void UpdateLimit(Money? limit)\n    {\n        if (limit?.Amount &lt; 0)\n            throw new DomainException(\"Limit cannot be negative\");\n\n        MonthlyLimit = limit;\n        UpdatedAt = DateTime.UtcNow;\n    }\n\n    public void Deactivate()\n    {\n        IsActive = false;\n        UpdatedAt = DateTime.UtcNow;\n    }\n}\n</code></pre>"},{"location":"diagrams/architecture/#value-objects","title":"Value Objects","text":"<pre><code>// Value Object Money\npublic record Money\n{\n    public decimal Amount { get; }\n    public Currency Currency { get; }\n\n    public Money(decimal amount, Currency currency = Currency.BRL)\n    {\n        if (amount &lt; 0)\n            throw new ArgumentException(\"Amount cannot be negative\", nameof(amount));\n\n        Amount = Math.Round(amount, 2);\n        Currency = currency;\n    }\n\n    public Money Add(Money other)\n    {\n        if (Currency != other.Currency)\n            throw new InvalidOperationException(\"Cannot add different currencies\");\n\n        return new Money(Amount + other.Amount, Currency);\n    }\n\n    public Money Subtract(Money other)\n    {\n        if (Currency != other.Currency)\n            throw new InvalidOperationException(\"Cannot subtract different currencies\");\n\n        return new Money(Amount - other.Amount, Currency);\n    }\n\n    public static implicit operator decimal(Money money) =&gt; money.Amount;\n\n    public override string ToString() =&gt; $\"{Amount:C}\";\n}\n\n// Value Object Email\npublic record Email\n{\n    public string Value { get; }\n\n    public Email(string value)\n    {\n        if (string.IsNullOrWhiteSpace(value))\n            throw new ArgumentException(\"Email cannot be empty\", nameof(value));\n\n        if (!IsValidEmail(value))\n            throw new ArgumentException(\"Invalid email format\", nameof(value));\n\n        Value = value.ToLowerInvariant();\n    }\n\n    private static bool IsValidEmail(string email)\n    {\n        try\n        {\n            var addr = new System.Net.Mail.MailAddress(email);\n            return addr.Address == email;\n        }\n        catch\n        {\n            return false;\n        }\n    }\n\n    public static implicit operator string(Email email) =&gt; email.Value;\n    public static implicit operator Email(string email) =&gt; new(email);\n}\n\n// Strongly Typed IDs\npublic record UserId(Guid Value)\n{\n    public static implicit operator Guid(UserId id) =&gt; id.Value;\n    public static implicit operator UserId(Guid id) =&gt; new(id);\n}\n\npublic record CategoryId(Guid Value)\n{\n    public static implicit operator Guid(CategoryId id) =&gt; id.Value;\n    public static implicit operator CategoryId(Guid id) =&gt; new(id);\n}\n\npublic record TransactionId(Guid Value)\n{\n    public static implicit operator Guid(TransactionId id) =&gt; id.Value;\n    public static implicit operator TransactionId(Guid id) =&gt; new(id);\n}\n</code></pre>"},{"location":"diagrams/architecture/#domain-events","title":"Domain Events","text":"<pre><code>public interface IDomainEvent\n{\n    Guid Id { get; }\n    DateTime OccurredAt { get; }\n}\n\npublic record UserCreatedEvent(UserId UserId, string Email) : IDomainEvent\n{\n    public Guid Id { get; } = Guid.NewGuid();\n    public DateTime OccurredAt { get; } = DateTime.UtcNow;\n}\n\npublic record TransactionCreatedEvent(\n    TransactionId TransactionId,\n    UserId UserId,\n    Money Amount,\n    TransactionType Type\n) : IDomainEvent\n{\n    public Guid Id { get; } = Guid.NewGuid();\n    public DateTime OccurredAt { get; } = DateTime.UtcNow;\n}\n\npublic record CategoryCreatedEvent(\n    CategoryId CategoryId,\n    UserId UserId,\n    string Name\n) : IDomainEvent\n{\n    public Guid Id { get; } = Guid.NewGuid();\n    public DateTime OccurredAt { get; } = DateTime.UtcNow;\n}\n</code></pre>"},{"location":"diagrams/architecture/#domain-services","title":"Domain Services","text":"<pre><code>public interface IBudgetCalculationService\n{\n    Task&lt;BudgetStatus&gt; CalculateBudgetStatusAsync(\n        CategoryId categoryId, \n        DateTime month, \n        CancellationToken cancellationToken = default);\n}\n\npublic class BudgetCalculationService : IBudgetCalculationService\n{\n    private readonly ITransactionRepository _transactionRepository;\n    private readonly ICategoryRepository _categoryRepository;\n\n    public BudgetCalculationService(\n        ITransactionRepository transactionRepository,\n        ICategoryRepository categoryRepository)\n    {\n        _transactionRepository = transactionRepository;\n        _categoryRepository = categoryRepository;\n    }\n\n    public async Task&lt;BudgetStatus&gt; CalculateBudgetStatusAsync(\n        CategoryId categoryId, \n        DateTime month, \n        CancellationToken cancellationToken = default)\n    {\n        var category = await _categoryRepository.GetByIdAsync(categoryId, cancellationToken);\n        if (category?.MonthlyLimit == null)\n            return BudgetStatus.NoLimit;\n\n        var transactions = await _transactionRepository.GetByCategoryAndMonthAsync(\n            categoryId, month, cancellationToken);\n\n        var totalSpent = transactions\n            .Where(t =&gt; t.IsExpense())\n            .Sum(t =&gt; t.Amount.Amount);\n\n        var percentageUsed = (totalSpent / category.MonthlyLimit.Amount) * 100;\n\n        return percentageUsed switch\n        {\n            &gt;= 100 =&gt; BudgetStatus.Exceeded,\n            &gt;= 85 =&gt; BudgetStatus.Warning,\n            _ =&gt; BudgetStatus.OnTrack\n        };\n    }\n}\n</code></pre>"},{"location":"diagrams/architecture/#2-application-layer-casos-de-uso","title":"2. Application Layer (Casos de Uso)","text":""},{"location":"diagrams/architecture/#commands-e-handlers-cqrs","title":"Commands e Handlers (CQRS)","text":"<pre><code>// Command\npublic record CreateTransactionCommand(\n    string Description,\n    decimal Amount,\n    string Type,\n    Guid? CategoryId,\n    DateTime Date,\n    string? Notes\n) : ICommand&lt;TransactionDto&gt;;\n\n// Handler\npublic class CreateTransactionCommandHandler \n    : ICommandHandler&lt;CreateTransactionCommand, TransactionDto&gt;\n{\n    private readonly ITransactionRepository _transactionRepository;\n    private readonly ICategoryRepository _categoryRepository;\n    private readonly IUnitOfWork _unitOfWork;\n    private readonly IMapper _mapper;\n    private readonly ICurrentUserService _currentUserService;\n\n    public CreateTransactionCommandHandler(\n        ITransactionRepository transactionRepository,\n        ICategoryRepository categoryRepository,\n        IUnitOfWork unitOfWork,\n        IMapper mapper,\n        ICurrentUserService currentUserService)\n    {\n        _transactionRepository = transactionRepository;\n        _categoryRepository = categoryRepository;\n        _unitOfWork = unitOfWork;\n        _mapper = mapper;\n        _currentUserService = currentUserService;\n    }\n\n    public async Task&lt;TransactionDto&gt; Handle(\n        CreateTransactionCommand command, \n        CancellationToken cancellationToken)\n    {\n        var userId = _currentUserService.GetUserId();\n        var transactionType = Enum.Parse&lt;TransactionType&gt;(command.Type);\n        var amount = new Money(command.Amount);\n\n        Transaction transaction;\n\n        if (transactionType == TransactionType.Expense)\n        {\n            if (!command.CategoryId.HasValue)\n                throw new ValidationException(\"Category is required for expenses\");\n\n            var category = await _categoryRepository.GetByIdAsync(\n                new CategoryId(command.CategoryId.Value), cancellationToken);\n\n            if (category == null)\n                throw new NotFoundException(\"Category not found\");\n\n            transaction = Transaction.CreateExpense(\n                command.Description,\n                amount,\n                command.Date,\n                userId,\n                new CategoryId(command.CategoryId.Value),\n                command.Notes\n            );\n        }\n        else\n        {\n            transaction = Transaction.CreateIncome(\n                command.Description,\n                amount,\n                command.Date,\n                userId,\n                command.Notes\n            );\n        }\n\n        await _transactionRepository.AddAsync(transaction, cancellationToken);\n        await _unitOfWork.SaveChangesAsync(cancellationToken);\n\n        return _mapper.Map&lt;TransactionDto&gt;(transaction);\n    }\n}\n</code></pre>"},{"location":"diagrams/architecture/#queries-e-handlers","title":"Queries e Handlers","text":"<pre><code>// Query\npublic record GetTransactionsByUserQuery(\n    int Page = 1,\n    int PageSize = 50,\n    string? Type = null,\n    Guid? CategoryId = null,\n    DateTime? StartDate = null,\n    DateTime? EndDate = null\n) : IQuery&lt;PagedResult&lt;TransactionDto&gt;&gt;;\n\n// Handler\npublic class GetTransactionsByUserQueryHandler \n    : IQueryHandler&lt;GetTransactionsByUserQuery, PagedResult&lt;TransactionDto&gt;&gt;\n{\n    private readonly ITransactionReadRepository _repository;\n    private readonly IMapper _mapper;\n    private readonly ICurrentUserService _currentUserService;\n\n    public async Task&lt;PagedResult&lt;TransactionDto&gt;&gt; Handle(\n        GetTransactionsByUserQuery query, \n        CancellationToken cancellationToken)\n    {\n        var userId = _currentUserService.GetUserId();\n\n        var specification = new TransactionsByUserSpecification(\n            userId,\n            query.Type,\n            query.CategoryId,\n            query.StartDate,\n            query.EndDate\n        );\n\n        var transactions = await _repository.GetPagedAsync(\n            specification,\n            query.Page,\n            query.PageSize,\n            cancellationToken\n        );\n\n        return new PagedResult&lt;TransactionDto&gt;\n        {\n            Items = _mapper.Map&lt;List&lt;TransactionDto&gt;&gt;(transactions.Items),\n            TotalCount = transactions.TotalCount,\n            Page = query.Page,\n            PageSize = query.PageSize,\n            TotalPages = (int)Math.Ceiling((double)transactions.TotalCount / query.PageSize)\n        };\n    }\n}\n</code></pre>"},{"location":"diagrams/architecture/#dtos","title":"DTOs","text":"<pre><code>public record TransactionDto\n{\n    public Guid Id { get; init; }\n    public string Description { get; init; } = string.Empty;\n    public decimal Amount { get; init; }\n    public string Type { get; init; } = string.Empty;\n    public DateTime Date { get; init; }\n    public string? Notes { get; init; }\n    public List&lt;string&gt; Tags { get; init; } = new();\n    public CategoryDto? Category { get; init; }\n    public DateTime CreatedAt { get; init; }\n    public DateTime UpdatedAt { get; init; }\n}\n\npublic record CategoryDto\n{\n    public Guid Id { get; init; }\n    public string Name { get; init; } = string.Empty;\n    public string? Description { get; init; }\n    public string Color { get; init; } = string.Empty;\n    public string Icon { get; init; } = string.Empty;\n    public string Type { get; init; } = string.Empty;\n    public decimal? MonthlyLimit { get; init; }\n    public bool IsActive { get; init; }\n}\n</code></pre>"},{"location":"diagrams/architecture/#3-infrastructure-layer-detalhes","title":"3. Infrastructure Layer (Detalhes)","text":""},{"location":"diagrams/architecture/#repository-implementations","title":"Repository Implementations","text":"<pre><code>public class TransactionRepository : ITransactionRepository\n{\n    private readonly SpendWiseDbContext _context;\n\n    public TransactionRepository(SpendWiseDbContext context)\n    {\n        _context = context;\n    }\n\n    public async Task&lt;Transaction?&gt; GetByIdAsync(\n        TransactionId id, \n        CancellationToken cancellationToken = default)\n    {\n        return await _context.Transactions\n            .Include(t =&gt; t.Category)\n            .FirstOrDefaultAsync(t =&gt; t.Id == id.Value, cancellationToken);\n    }\n\n    public async Task&lt;List&lt;Transaction&gt;&gt; GetByCategoryAndMonthAsync(\n        CategoryId categoryId, \n        DateTime month, \n        CancellationToken cancellationToken = default)\n    {\n        var startOfMonth = new DateTime(month.Year, month.Month, 1);\n        var endOfMonth = startOfMonth.AddMonths(1).AddDays(-1);\n\n        return await _context.Transactions\n            .Where(t =&gt; t.CategoryId == categoryId.Value)\n            .Where(t =&gt; t.Date &gt;= startOfMonth &amp;&amp; t.Date &lt;= endOfMonth)\n            .ToListAsync(cancellationToken);\n    }\n\n    public async Task AddAsync(\n        Transaction transaction, \n        CancellationToken cancellationToken = default)\n    {\n        await _context.Transactions.AddAsync(transaction, cancellationToken);\n    }\n\n    public void Update(Transaction transaction)\n    {\n        _context.Transactions.Update(transaction);\n    }\n\n    public void Remove(Transaction transaction)\n    {\n        _context.Transactions.Remove(transaction);\n    }\n}\n</code></pre>"},{"location":"diagrams/architecture/#dbcontext","title":"DbContext","text":"<pre><code>public class SpendWiseDbContext : DbContext\n{\n    public DbSet&lt;User&gt; Users { get; set; } = null!;\n    public DbSet&lt;Category&gt; Categories { get; set; } = null!;\n    public DbSet&lt;Transaction&gt; Transactions { get; set; } = null!;\n\n    public SpendWiseDbContext(DbContextOptions&lt;SpendWiseDbContext&gt; options) \n        : base(options) { }\n\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        modelBuilder.ApplyConfigurationsFromAssembly(Assembly.GetExecutingAssembly());\n        base.OnModelCreating(modelBuilder);\n    }\n\n    public override async Task&lt;int&gt; SaveChangesAsync(CancellationToken cancellationToken = default)\n    {\n        var domainEvents = ChangeTracker\n            .Entries&lt;BaseEntity&gt;()\n            .Where(x =&gt; x.Entity.DomainEvents.Any())\n            .SelectMany(x =&gt; x.Entity.DomainEvents)\n            .ToList();\n\n        var result = await base.SaveChangesAsync(cancellationToken);\n\n        // Publish domain events\n        foreach (var domainEvent in domainEvents)\n        {\n            await _mediator.Publish(domainEvent, cancellationToken);\n        }\n\n        return result;\n    }\n}\n</code></pre>"},{"location":"diagrams/architecture/#4-presentation-layer-api","title":"4. Presentation Layer (API)","text":""},{"location":"diagrams/architecture/#controllers","title":"Controllers","text":"<pre><code>[ApiController]\n[Route(\"api/[controller]\")]\n[Authorize]\npublic class TransactionsController : ControllerBase\n{\n    private readonly IMediator _mediator;\n\n    public TransactionsController(IMediator mediator)\n    {\n        _mediator = mediator;\n    }\n\n    [HttpGet]\n    public async Task&lt;ActionResult&lt;PagedResult&lt;TransactionDto&gt;&gt;&gt; GetTransactions(\n        [FromQuery] GetTransactionsByUserQuery query,\n        CancellationToken cancellationToken)\n    {\n        var result = await _mediator.Send(query, cancellationToken);\n        return Ok(result);\n    }\n\n    [HttpPost]\n    public async Task&lt;ActionResult&lt;TransactionDto&gt;&gt; CreateTransaction(\n        CreateTransactionCommand command,\n        CancellationToken cancellationToken)\n    {\n        var result = await _mediator.Send(command, cancellationToken);\n        return CreatedAtAction(nameof(GetTransaction), new { id = result.Id }, result);\n    }\n\n    [HttpGet(\"{id:guid}\")]\n    public async Task&lt;ActionResult&lt;TransactionDto&gt;&gt; GetTransaction(\n        Guid id,\n        CancellationToken cancellationToken)\n    {\n        var query = new GetTransactionByIdQuery(id);\n        var result = await _mediator.Send(query, cancellationToken);\n        return Ok(result);\n    }\n}\n</code></pre>"},{"location":"diagrams/architecture/#padroes-implementados","title":"Padr\u00f5es Implementados","text":""},{"location":"diagrams/architecture/#design-patterns","title":"Design Patterns","text":"<ul> <li>Repository Pattern: Abstra\u00e7\u00e3o do acesso a dados</li> <li>Unit of Work: Controle transacional</li> <li>Mediator Pattern: Desacoplamento entre camadas</li> <li>Factory Pattern: Cria\u00e7\u00e3o de entidades complexas</li> <li>Specification Pattern: Consultas reutiliz\u00e1veis</li> <li>Domain Events: Comunica\u00e7\u00e3o entre agregados</li> </ul>"},{"location":"diagrams/architecture/#principios-solid","title":"Princ\u00edpios SOLID","text":"<ul> <li>Single Responsibility: Cada classe tem uma responsabilidade</li> <li>Open/Closed: Extens\u00edvel sem modifica\u00e7\u00e3o</li> <li>Liskov Substitution: Subtipos substitu\u00edveis</li> <li>Interface Segregation: Interfaces espec\u00edficas</li> <li>Dependency Inversion: Dependa de abstra\u00e7\u00f5es</li> </ul>"},{"location":"diagrams/architecture/#ddd-patterns","title":"DDD Patterns","text":"<ul> <li>Entities: Identidade \u00fanica e ciclo de vida</li> <li>Value Objects: Imut\u00e1veis e sem identidade</li> <li>Aggregates: Consist\u00eancia transacional</li> <li>Domain Services: L\u00f3gica que n\u00e3o pertence a entidades</li> <li>Domain Events: Comunica\u00e7\u00e3o entre contextos</li> </ul>"},{"location":"diagrams/architecture/#metricas-de-qualidade","title":"M\u00e9tricas de Qualidade","text":""},{"location":"diagrams/architecture/#complexidade-ciclomatica","title":"Complexidade Ciclom\u00e1tica","text":"<ul> <li>Domain Layer: &lt; 5 (baixa complexidade)</li> <li>Application Layer: &lt; 10 (complexidade moderada)</li> <li>Infrastructure Layer: &lt; 15 (complexidade aceit\u00e1vel)</li> </ul>"},{"location":"diagrams/architecture/#cobertura-de-testes","title":"Cobertura de Testes","text":"<ul> <li>Domain Layer: 100% (cr\u00edtico)</li> <li>Application Layer: 95%+ (muito importante)</li> <li>Infrastructure Layer: 80%+ (importante)</li> </ul>"},{"location":"diagrams/architecture/#acoplamento","title":"Acoplamento","text":"<ul> <li>Afferent Coupling (Ca): Baixo</li> <li>Efferent Coupling (Ce): Controlado</li> <li>Instability (I): Est\u00e1vel no dom\u00ednio</li> </ul>"},{"location":"diagrams/architecture/#beneficios-da-arquitetura","title":"Benef\u00edcios da Arquitetura","text":""},{"location":"diagrams/architecture/#testabilidade","title":"Testabilidade","text":"<ul> <li>Isolamento: Cada camada pode ser testada independentemente</li> <li>Mocks: Apenas para depend\u00eancias externas</li> <li>Velocidade: Testes unit\u00e1rios r\u00e1pidos (&lt; 100ms)</li> </ul>"},{"location":"diagrams/architecture/#manutenibilidade","title":"Manutenibilidade","text":"<ul> <li>Separa\u00e7\u00e3o: Responsabilidades bem definidas</li> <li>Extensibilidade: F\u00e1cil adi\u00e7\u00e3o de novas funcionalidades</li> <li>Refatora\u00e7\u00e3o: Mudan\u00e7as localizadas</li> </ul>"},{"location":"diagrams/architecture/#performance","title":"Performance","text":"<ul> <li>CQRS: Otimiza\u00e7\u00e3o separada para leitura e escrita</li> <li>Lazy Loading: Carregamento sob demanda</li> <li>Caching: Estrat\u00e9gias por camada</li> </ul>"},{"location":"diagrams/architecture/#escalabilidade","title":"Escalabilidade","text":"<ul> <li>Horizontal: M\u00faltiplas inst\u00e2ncias</li> <li>Vertical: Otimiza\u00e7\u00e3o por camada</li> <li>Microservices: Preparado para decomposi\u00e7\u00e3o</li> </ul> <p>O diagrama de classes reflete uma arquitetura robusta, test\u00e1vel e manuten\u00edvel, seguindo as melhores pr\u00e1ticas de Clean Architecture e Domain-Driven Design.</p>"},{"location":"diagrams/data-model/","title":"Modelo de Dados - SpendWise","text":""},{"location":"diagrams/data-model/#modelo-entidade-relacionamento-mer","title":"Modelo Entidade-Relacionamento (MER)","text":"<p>O SpendWise utiliza um modelo de dados robusto baseado em Domain-Driven Design (DDD) e princ\u00edpios de Clean Architecture.</p>"},{"location":"diagrams/data-model/#diagrama-entidade-relacionamento-der","title":"Diagrama Entidade-Relacionamento (DER)","text":""},{"location":"diagrams/data-model/#visao-geral-do-banco-de-dados","title":"Vis\u00e3o Geral do Banco de Dados","text":"<p>O diagrama acima mostra a estrutura f\u00edsica do banco de dados PostgreSQL, incluindo:</p> <ul> <li>Tabelas com tipos de dados espec\u00edficos</li> <li>Chaves prim\u00e1rias e estrangeiras</li> <li>\u00cdndices para otimiza\u00e7\u00e3o de consultas</li> <li>Constraints para integridade referencial</li> </ul>"},{"location":"diagrams/data-model/#modelo-conceitual-mer","title":"Modelo Conceitual (MER)","text":""},{"location":"diagrams/data-model/#1-objetivo","title":"1. Objetivo","text":"<p>Descrever o modelo conceitual de dados do sistema, evidenciando entidades, atributos de neg\u00f3cio, relacionamentos, cardinalidades e regras.</p>"},{"location":"diagrams/data-model/#2-convencoes","title":"2. Conven\u00e7\u00f5es","text":"<ul> <li>Cardinalidade:</li> <li><code>1</code> = exatamente um</li> <li><code>0..*</code> = zero ou muitos</li> <li><code>1..*</code> = um ou muitos</li> <li>Participa\u00e7\u00e3o:</li> <li>Total = obrigat\u00f3rio no relacionamento</li> <li>Parcial = opcional</li> <li>Especializa\u00e7\u00e3o/Generaliza\u00e7\u00e3o (EER): <code>Transa\u00e7\u00e3o</code> especializa em <code>Receita</code> e <code>Despesa</code></li> </ul>"},{"location":"diagrams/data-model/#entidades-e-atributos","title":"Entidades e Atributos","text":""},{"location":"diagrams/data-model/#31-usuario","title":"3.1 Usu\u00e1rio","text":"<ul> <li>Descri\u00e7\u00e3o: Pessoa titular das informa\u00e7\u00f5es financeiras</li> <li>Atributos: <code>identificador</code>, <code>nome</code>, <code>email</code>, <code>criadoEm</code>, <code>atualizadoEm</code></li> <li>Regras: <code>email</code> \u00e9 \u00fanico no dom\u00ednio</li> </ul> <pre><code>CREATE TABLE usuarios (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    nome VARCHAR(100) NOT NULL,\n    email VARCHAR(255) NOT NULL UNIQUE,\n    senha_hash VARCHAR(255) NOT NULL,\n    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    atualizado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n</code></pre>"},{"location":"diagrams/data-model/#32-categoria","title":"3.2 Categoria","text":"<ul> <li>Descri\u00e7\u00e3o: Classifica despesas segundo prioridade</li> <li>Atributos: <code>nome</code>, <code>limiteMensal</code>, <code>tipo</code> (ESSENCIAL | SUPERFLUO), <code>criadoEm</code></li> <li>Regras: <code>nome</code> \u00e9 \u00fanico por usu\u00e1rio; <code>limiteMensal</code> \u00e9 \u2265 0</li> </ul> <pre><code>CREATE TABLE categorias (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    usuario_id UUID NOT NULL REFERENCES usuarios(id),\n    nome VARCHAR(50) NOT NULL,\n    limite_mensal DECIMAL(10,2) CHECK (limite_mensal &gt;= 0),\n    tipo VARCHAR(20) CHECK (tipo IN ('ESSENCIAL', 'SUPERFLUO')),\n    cor VARCHAR(7) DEFAULT '#10b981',\n    icone VARCHAR(50) DEFAULT 'folder',\n    ativo BOOLEAN DEFAULT true,\n    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    UNIQUE(usuario_id, nome)\n);\n</code></pre>"},{"location":"diagrams/data-model/#33-transacao-abstrata","title":"3.3 Transa\u00e7\u00e3o (abstrata)","text":"<ul> <li>Descri\u00e7\u00e3o: Movimento financeiro at\u00f4mico</li> <li>Atributos: <code>valor</code>, <code>data</code>, <code>descricao</code>, <code>criadoEm</code></li> <li>Regras:</li> <li><code>valor</code> &gt; 0 (o sinal \u00e9 dado pela especializa\u00e7\u00e3o)</li> <li><code>data</code> n\u00e3o pode ser futura</li> </ul> <pre><code>CREATE TABLE transacoes (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    usuario_id UUID NOT NULL REFERENCES usuarios(id),\n    categoria_id UUID REFERENCES categorias(id),\n    descricao VARCHAR(200) NOT NULL,\n    valor DECIMAL(10,2) NOT NULL CHECK (valor &gt; 0),\n    tipo VARCHAR(10) NOT NULL CHECK (tipo IN ('RECEITA', 'DESPESA')),\n    data DATE NOT NULL CHECK (data &lt;= CURRENT_DATE),\n    observacoes TEXT,\n    tags TEXT[],\n    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    atualizado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\n    -- Regra: Despesa deve ter categoria, Receita n\u00e3o\n    CONSTRAINT chk_categoria_despesa \n        CHECK ((tipo = 'DESPESA' AND categoria_id IS NOT NULL) \n               OR (tipo = 'RECEITA' AND categoria_id IS NULL))\n);\n</code></pre>"},{"location":"diagrams/data-model/#34-receita-especializacao-de-transacao","title":"3.4 Receita (especializa\u00e7\u00e3o de Transa\u00e7\u00e3o)","text":"<ul> <li>Descri\u00e7\u00e3o: Entrada de recursos</li> <li>Atributos espec\u00edficos: <code>fonte</code>, <code>recorrente</code></li> <li>Regras: n\u00e3o possui categoria (por regra de dom\u00ednio)</li> </ul>"},{"location":"diagrams/data-model/#35-despesa-especializacao-de-transacao","title":"3.5 Despesa (especializa\u00e7\u00e3o de Transa\u00e7\u00e3o)","text":"<ul> <li>Descri\u00e7\u00e3o: Sa\u00edda de recursos</li> <li>Regras: deve pertencer a uma Categoria (participa\u00e7\u00e3o total)</li> </ul>"},{"location":"diagrams/data-model/#36-orcamentomensal","title":"3.6 Or\u00e7amentoMensal","text":"<ul> <li>Descri\u00e7\u00e3o: Limite global de gasto por <code>anoMes</code> para um usu\u00e1rio</li> <li>Atributos: <code>anoMes</code>, <code>valor</code>, <code>criadoEm</code></li> <li>Regras: um por usu\u00e1rio por m\u00eas; <code>valor</code> \u2265 0</li> </ul> <pre><code>CREATE TABLE orcamentos_mensais (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    usuario_id UUID NOT NULL REFERENCES usuarios(id),\n    ano_mes DATE NOT NULL, -- Primeiro dia do m\u00eas\n    valor DECIMAL(10,2) NOT NULL CHECK (valor &gt;= 0),\n    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    UNIQUE(usuario_id, ano_mes)\n);\n</code></pre>"},{"location":"diagrams/data-model/#37-metafinanceira","title":"3.7 MetaFinanceira","text":"<ul> <li>Descri\u00e7\u00e3o: Objetivo de poupan\u00e7a/investimento</li> <li>Atributos: <code>descricao</code>, <code>valorAlvo</code>, <code>prazo</code>, <code>criadoEm</code></li> <li>Regras: <code>valorAlvo</code> &gt; 0; <code>prazo</code> no futuro</li> </ul> <pre><code>CREATE TABLE metas_financeiras (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    usuario_id UUID NOT NULL REFERENCES usuarios(id),\n    descricao VARCHAR(200) NOT NULL,\n    valor_alvo DECIMAL(10,2) NOT NULL CHECK (valor_alvo &gt; 0),\n    prazo DATE NOT NULL CHECK (prazo &gt; CURRENT_DATE),\n    valor_atual DECIMAL(10,2) DEFAULT 0,\n    ativo BOOLEAN DEFAULT true,\n    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n</code></pre>"},{"location":"diagrams/data-model/#38-fechamentomensal","title":"3.8 FechamentoMensal","text":"<ul> <li>Descri\u00e7\u00e3o: Evento que consolida um m\u00eas e bloqueia altera\u00e7\u00f5es</li> <li>Atributos: <code>anoMes</code>, <code>fechadoEm</code></li> <li>Regras: um por usu\u00e1rio por m\u00eas</li> </ul> <pre><code>CREATE TABLE fechamentos_mensais (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    usuario_id UUID NOT NULL REFERENCES usuarios(id),\n    ano_mes DATE NOT NULL, -- Primeiro dia do m\u00eas\n    total_receitas DECIMAL(10,2) NOT NULL DEFAULT 0,\n    total_despesas DECIMAL(10,2) NOT NULL DEFAULT 0,\n    saldo_liquido DECIMAL(10,2) NOT NULL DEFAULT 0,\n    total_transacoes INTEGER NOT NULL DEFAULT 0,\n    fechado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    UNIQUE(usuario_id, ano_mes)\n);\n</code></pre>"},{"location":"diagrams/data-model/#relacionamentos-e-cardinalidades","title":"Relacionamentos e Cardinalidades","text":""},{"location":"diagrams/data-model/#1-usuario-categoria","title":"1. Usu\u00e1rio \u2014 Categoria","text":"<ul> <li>Leitura: Um Usu\u00e1rio possui Categorias</li> <li>Cardinalidade: <code>Usu\u00e1rio 1</code> \u2014 <code>Categoria 0..*</code></li> <li>Participa\u00e7\u00e3o: Em <code>Categoria</code>, parcial</li> <li>Regra: <code>Categoria.nome</code> \u00e9 \u00fanico por usu\u00e1rio</li> </ul>"},{"location":"diagrams/data-model/#2-usuario-transacao","title":"2. Usu\u00e1rio \u2014 Transa\u00e7\u00e3o","text":"<ul> <li>Leitura: Um Usu\u00e1rio realiza Transa\u00e7\u00f5es</li> <li>Cardinalidade: <code>Usu\u00e1rio 1</code> \u2014 <code>Transa\u00e7\u00e3o 0..*</code></li> <li>Participa\u00e7\u00e3o: Em <code>Transa\u00e7\u00e3o</code>, parcial</li> </ul>"},{"location":"diagrams/data-model/#3-categoria-despesa","title":"3. Categoria \u2014 Despesa","text":"<ul> <li>Leitura: Uma Categoria classifica Despesas</li> <li>Cardinalidade: <code>Categoria 1</code> \u2014 <code>Despesa 0..*</code></li> <li>Participa\u00e7\u00e3o: Em <code>Despesa</code>, total</li> <li>Observa\u00e7\u00e3o: Receitas n\u00e3o se relacionam a Categoria</li> </ul>"},{"location":"diagrams/data-model/#4-usuario-orcamentomensal","title":"4. Usu\u00e1rio \u2014 Or\u00e7amentoMensal","text":"<ul> <li>Leitura: Um Usu\u00e1rio define Or\u00e7amentos Mensais</li> <li>Cardinalidade: <code>Usu\u00e1rio 1</code> \u2014 <code>Or\u00e7amentoMensal 0..*</code></li> <li>Regra: No m\u00e1ximo 1 por <code>anoMes</code></li> </ul>"},{"location":"diagrams/data-model/#5-usuario-metafinanceira","title":"5. Usu\u00e1rio \u2014 MetaFinanceira","text":"<ul> <li>Leitura: Um Usu\u00e1rio estabelece Metas Financeiras</li> <li>Cardinalidade: <code>Usu\u00e1rio 1</code> \u2014 <code>MetaFinanceira 0..*</code></li> </ul>"},{"location":"diagrams/data-model/#6-usuario-fechamentomensal","title":"6. Usu\u00e1rio \u2014 FechamentoMensal","text":"<ul> <li>Leitura: Um Usu\u00e1rio executa Fechamentos Mensais</li> <li>Cardinalidade: <code>Usu\u00e1rio 1</code> \u2014 <code>FechamentoMensal 0..*</code></li> <li>Regra: No m\u00e1ximo 1 por <code>anoMes</code>; ap\u00f3s fechamento, transa\u00e7\u00f5es ficam imut\u00e1veis</li> </ul>"},{"location":"diagrams/data-model/#regras-de-negocio","title":"Regras de Neg\u00f3cio","text":""},{"location":"diagrams/data-model/#regras-de-integridade","title":"Regras de Integridade","text":"<ul> <li>R1. <code>Usuario.email</code> \u00e9 \u00fanico no dom\u00ednio</li> <li>R2. <code>Categoria.nome</code> \u00e9 \u00fanico dentro do mesmo usu\u00e1rio</li> <li>R3. Despesa deve possuir uma Categoria; Receita n\u00e3o possui categoria</li> <li>R4. <code>Transacao.valor</code> &gt; 0; <code>Transacao.data</code> n\u00e3o pode ser futura</li> <li>R5. <code>OrcamentoMensal</code>: um por usu\u00e1rio por m\u00eas; <code>valor</code> \u2265 0</li> <li>R6. <code>FechamentoMensal</code>: um por usu\u00e1rio por m\u00eas; ap\u00f3s fechar, n\u00e3o se alteram transa\u00e7\u00f5es</li> <li>R7. <code>MetaFinanceira</code>: <code>valorAlvo</code> &gt; 0; <code>prazo</code> futuro</li> </ul>"},{"location":"diagrams/data-model/#regras-de-dominio","title":"Regras de Dom\u00ednio","text":"<pre><code>-- Trigger para impedir altera\u00e7\u00e3o de transa\u00e7\u00f5es em m\u00eas fechado\nCREATE OR REPLACE FUNCTION check_mes_fechado()\nRETURNS TRIGGER AS $$\nBEGIN\n    IF EXISTS (\n        SELECT 1 FROM fechamentos_mensais \n        WHERE usuario_id = NEW.usuario_id \n        AND ano_mes = DATE_TRUNC('month', NEW.data)\n    ) THEN\n        RAISE EXCEPTION 'N\u00e3o \u00e9 poss\u00edvel alterar transa\u00e7\u00f5es de m\u00eas fechado';\n    END IF;\n    RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;\n\nCREATE TRIGGER trg_check_mes_fechado\n    BEFORE INSERT OR UPDATE ON transacoes\n    FOR EACH ROW EXECUTE FUNCTION check_mes_fechado();\n</code></pre>"},{"location":"diagrams/data-model/#indices-para-performance","title":"\u00cdndices para Performance","text":"<pre><code>-- \u00cdndices para otimiza\u00e7\u00e3o de consultas\nCREATE INDEX idx_transacoes_usuario_data ON transacoes(usuario_id, data);\nCREATE INDEX idx_transacoes_categoria ON transacoes(categoria_id);\nCREATE INDEX idx_transacoes_tipo_data ON transacoes(tipo, data);\nCREATE INDEX idx_categorias_usuario ON categorias(usuario_id);\nCREATE INDEX idx_orcamentos_usuario_mes ON orcamentos_mensais(usuario_id, ano_mes);\nCREATE INDEX idx_fechamentos_usuario_mes ON fechamentos_mensais(usuario_id, ano_mes);\n\n-- \u00cdndice parcial para transa\u00e7\u00f5es ativas\nCREATE INDEX idx_transacoes_ativas ON transacoes(usuario_id, data) \nWHERE NOT EXISTS (\n    SELECT 1 FROM fechamentos_mensais f \n    WHERE f.usuario_id = transacoes.usuario_id \n    AND f.ano_mes = DATE_TRUNC('month', transacoes.data)\n);\n</code></pre>"},{"location":"diagrams/data-model/#consultas-tipicas","title":"Consultas T\u00edpicas","text":""},{"location":"diagrams/data-model/#saldo-por-mes","title":"Saldo por M\u00eas","text":"<pre><code>SELECT \n    DATE_TRUNC('month', data) as mes,\n    SUM(CASE WHEN tipo = 'RECEITA' THEN valor ELSE 0 END) as receitas,\n    SUM(CASE WHEN tipo = 'DESPESA' THEN valor ELSE 0 END) as despesas,\n    SUM(CASE WHEN tipo = 'RECEITA' THEN valor ELSE -valor END) as saldo\nFROM transacoes \nWHERE usuario_id = $1\nGROUP BY DATE_TRUNC('month', data)\nORDER BY mes;\n</code></pre>"},{"location":"diagrams/data-model/#gasto-por-categoria-no-mes","title":"Gasto por Categoria no M\u00eas","text":"<pre><code>SELECT \n    c.nome,\n    c.limite_mensal,\n    COALESCE(SUM(t.valor), 0) as gasto_atual,\n    ROUND((COALESCE(SUM(t.valor), 0) / c.limite_mensal) * 100, 2) as percentual_usado\nFROM categorias c\nLEFT JOIN transacoes t ON c.id = t.categoria_id \n    AND t.tipo = 'DESPESA'\n    AND DATE_TRUNC('month', t.data) = DATE_TRUNC('month', CURRENT_DATE)\nWHERE c.usuario_id = $1 AND c.ativo = true\nGROUP BY c.id, c.nome, c.limite_mensal\nORDER BY gasto_atual DESC;\n</code></pre>"},{"location":"diagrams/data-model/#alertas-de-limite","title":"Alertas de Limite","text":"<pre><code>SELECT \n    c.nome,\n    c.limite_mensal,\n    SUM(t.valor) as gasto_atual,\n    ROUND((SUM(t.valor) / c.limite_mensal) * 100, 2) as percentual\nFROM categorias c\nJOIN transacoes t ON c.id = t.categoria_id\nWHERE c.usuario_id = $1 \n    AND t.tipo = 'DESPESA'\n    AND DATE_TRUNC('month', t.data) = DATE_TRUNC('month', CURRENT_DATE)\n    AND c.limite_mensal &gt; 0\nGROUP BY c.id, c.nome, c.limite_mensal\nHAVING SUM(t.valor) &gt;= (c.limite_mensal * 0.8) -- 80% do limite\nORDER BY percentual DESC;\n</code></pre>"},{"location":"diagrams/data-model/#observacoes-de-design","title":"Observa\u00e7\u00f5es de Design","text":""},{"location":"diagrams/data-model/#do-conceitual-para-o-fisico","title":"Do Conceitual para o F\u00edsico","text":"<ul> <li>Categoria obrigat\u00f3ria s\u00f3 para Despesa: Implementada via <code>CHECK CONSTRAINT</code></li> <li>Or\u00e7amento/Fechamento por m\u00eas: Usa <code>DATE</code> representando o 1\u00ba dia do m\u00eas</li> <li>Especializa\u00e7\u00e3o <code>Transa\u00e7\u00e3o \u2192 Receita|Despesa</code>: Implementada como Single Table Inheritance com coluna <code>tipo</code></li> </ul>"},{"location":"diagrams/data-model/#padroes-utilizados","title":"Padr\u00f5es Utilizados","text":"<ul> <li>UUID como chave prim\u00e1ria para melhor distribui\u00e7\u00e3o</li> <li>Timestamps autom\u00e1ticos para auditoria</li> <li>Soft Delete com coluna <code>ativo</code> quando aplic\u00e1vel</li> <li>Check Constraints para regras de dom\u00ednio</li> <li>Triggers para regras complexas</li> </ul>"},{"location":"diagrams/data-model/#glossario","title":"Gloss\u00e1rio","text":"<ul> <li>anoMes: Per\u00edodo no formato m\u00eas/ano; no f\u00edsico \u00e9 <code>DATE</code> (1\u00ba dia do m\u00eas)</li> <li>Participa\u00e7\u00e3o total: A entidade n\u00e3o existe sem o relacionamento</li> <li>Disjun\u00e7\u00e3o: Uma inst\u00e2ncia participa de uma \u00fanica especializa\u00e7\u00e3o</li> <li>Soft Delete: Exclus\u00e3o l\u00f3gica mantendo dados f\u00edsicos</li> <li>Single Table Inheritance: Uma tabela para hierarquia de classes</li> </ul>"},{"location":"docker/","title":"Docker &amp; DevOps","text":""},{"location":"docker/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>O SpendWise utiliza Docker para containeriza\u00e7\u00e3o e GitHub Actions para CI/CD, garantindo ambientes consistentes e deploys automatizados.</p>"},{"location":"docker/#estrutura-de-containers","title":"Estrutura de Containers","text":""},{"location":"docker/#backend-aspnet-core","title":"Backend (ASP.NET Core)","text":"<pre><code>services:\n  backend:\n    image: spendwise-backend\n    ports:\n      - \"5000:5000\"\n    environment:\n      - ASPNETCORE_ENVIRONMENT=Development\n      - ConnectionStrings__DefaultConnection=...\n    depends_on:\n      - postgres\n</code></pre>"},{"location":"docker/#frontend-nextjs","title":"Frontend (Next.js)","text":"<pre><code>services:\n  frontend:\n    image: spendwise-frontend\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NEXT_PUBLIC_API_URL=http://backend:5000\n</code></pre>"},{"location":"docker/#banco-de-dados-postgresql","title":"Banco de Dados (PostgreSQL)","text":"<pre><code>services:\n  postgres:\n    image: postgres:15-alpine\n    ports:\n      - \"5432:5432\"\n    environment:\n      - POSTGRES_DB=spendwise\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=postgres\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n</code></pre>"},{"location":"docker/#comandos-docker","title":"Comandos Docker","text":""},{"location":"docker/#iniciar-todos-os-servicos","title":"Iniciar todos os servi\u00e7os","text":"<pre><code>docker-compose up -d\n</code></pre>"},{"location":"docker/#ver-logs","title":"Ver logs","text":"<pre><code># Todos os servi\u00e7os\ndocker-compose logs -f\n\n# Apenas backend\ndocker-compose logs -f backend\n\n# Apenas frontend\ndocker-compose logs -f frontend\n</code></pre>"},{"location":"docker/#parar-servicos","title":"Parar servi\u00e7os","text":"<pre><code>docker-compose down\n</code></pre>"},{"location":"docker/#rebuild-completo","title":"Rebuild completo","text":"<pre><code>docker-compose down -v\ndocker-compose build --no-cache\ndocker-compose up -d\n</code></pre>"},{"location":"docker/#cicd-pipeline","title":"CI/CD Pipeline","text":""},{"location":"docker/#backend-pipeline","title":"Backend Pipeline","text":"<pre><code>name: Backend CI/CD\n\non:\n  push:\n    branches: [main, develop]\n  pull_request:\n    branches: [main]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Setup .NET\n        uses: actions/setup-dotnet@v3\n        with:\n          dotnet-version: '8.0.x'\n      - name: Restore dependencies\n        run: dotnet restore\n      - name: Build\n        run: dotnet build --no-restore\n      - name: Test\n        run: dotnet test --no-build --verbosity normal\n</code></pre>"},{"location":"docker/#frontend-pipeline","title":"Frontend Pipeline","text":"<pre><code>name: Frontend CI/CD\n\non:\n  push:\n    branches: [main, develop]\n  pull_request:\n    branches: [main]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Setup Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: '20'\n      - name: Install dependencies\n        run: npm ci\n      - name: Run tests\n        run: npm test\n      - name: Build\n        run: npm run build\n</code></pre>"},{"location":"docker/#ambientes","title":"Ambientes","text":""},{"location":"docker/#desenvolvimento","title":"Desenvolvimento","text":"<ul> <li>Backend: <code>http://localhost:5000</code></li> <li>Frontend: <code>http://localhost:3000</code></li> <li>Database: <code>localhost:5432</code></li> </ul>"},{"location":"docker/#producao","title":"Produ\u00e7\u00e3o","text":"<ul> <li>Backend: Deploy via Docker em servidor VPS ou cloud</li> <li>Frontend: Deploy no Vercel/Netlify</li> <li>Database: PostgreSQL gerenciado (AWS RDS, Supabase, etc.)</li> </ul>"},{"location":"docker/#variaveis-de-ambiente","title":"Vari\u00e1veis de Ambiente","text":""},{"location":"docker/#backend-env","title":"Backend (.env)","text":"<pre><code>ASPNETCORE_ENVIRONMENT=Development\nConnectionStrings__DefaultConnection=Host=postgres;Database=spendwise;Username=postgres;Password=postgres\nJwtSettings__Secret=your-secret-key-here\nJwtSettings__Issuer=SpendWise\nJwtSettings__Audience=SpendWise\n</code></pre>"},{"location":"docker/#frontend-envlocal","title":"Frontend (.env.local)","text":"<pre><code>NEXT_PUBLIC_API_URL=http://localhost:5000\nNEXT_PUBLIC_APP_URL=http://localhost:3000\n</code></pre>"},{"location":"docker/#troubleshooting","title":"Troubleshooting","text":""},{"location":"docker/#container-nao-inicia","title":"Container n\u00e3o inicia","text":"<pre><code># Ver logs detalhados\ndocker-compose logs backend\n\n# Verificar status\ndocker-compose ps\n\n# Rebuild do container\ndocker-compose build backend\ndocker-compose up -d backend\n</code></pre>"},{"location":"docker/#banco-de-dados-nao-conecta","title":"Banco de dados n\u00e3o conecta","text":"<pre><code># Verificar se PostgreSQL est\u00e1 rodando\ndocker-compose ps postgres\n\n# Acessar shell do PostgreSQL\ndocker-compose exec postgres psql -U postgres -d spendwise\n\n# Verificar conex\u00e3o\ndocker-compose exec backend dotnet ef database update\n</code></pre>"},{"location":"docker/#porta-ja-em-uso","title":"Porta j\u00e1 em uso","text":"<pre><code># Verificar processos usando a porta\nnetstat -ano | findstr :5000\n\n# Parar todos os containers\ndocker-compose down\n\n# Iniciar novamente\ndocker-compose up -d\n</code></pre>"},{"location":"docker/#proximos-passos","title":"Pr\u00f3ximos Passos","text":"<ul> <li>Guia de Setup - Como configurar o ambiente local</li> <li>Backend - Documenta\u00e7\u00e3o do backend</li> <li>Frontend - Documenta\u00e7\u00e3o do frontend</li> </ul>"},{"location":"frontend/","title":"Frontend - SpendWise","text":""},{"location":"frontend/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>O frontend do SpendWise \u00e9 uma aplica\u00e7\u00e3o web moderna constru\u00edda com Next.js 13, React 18 e TypeScript, oferecendo uma experi\u00eancia de usu\u00e1rio fluida e responsiva para gerenciamento de finan\u00e7as pessoais.</p>"},{"location":"frontend/#stack-tecnologica","title":"Stack Tecnol\u00f3gica","text":""},{"location":"frontend/#core","title":"Core","text":"<ul> <li>Next.js 13.5.6: Framework React com App Router</li> <li>React 18.2.0: Biblioteca UI com Server Components</li> <li>TypeScript 5.3.3: Tipagem est\u00e1tica</li> <li>Tailwind CSS 3.4.0: Framework CSS utility-first</li> </ul>"},{"location":"frontend/#ui-e-componentes","title":"UI e Componentes","text":"<ul> <li>shadcn/ui: Biblioteca de componentes baseada em Radix UI</li> <li>Radix UI: Componentes acess\u00edveis e n\u00e3o estilizados</li> <li>Lucide React 0.427.0: \u00cdcones SVG</li> <li>Recharts 2.8.0: Gr\u00e1ficos e visualiza\u00e7\u00f5es</li> <li>Sonner 1.4.41: Sistema de notifica\u00e7\u00f5es toast</li> </ul>"},{"location":"frontend/#formularios-e-validacao","title":"Formul\u00e1rios e Valida\u00e7\u00e3o","text":"<ul> <li>React Hook Form 7.47.0: Gerenciamento de formul\u00e1rios</li> <li>Zod 3.22.4: Valida\u00e7\u00e3o de schemas</li> <li>@hookform/resolvers 3.10.0: Integra\u00e7\u00e3o Zod + React Hook Form</li> </ul>"},{"location":"frontend/#autenticacao","title":"Autentica\u00e7\u00e3o","text":"<ul> <li>NextAuth.js 4.24.11: Autentica\u00e7\u00e3o e sess\u00f5es</li> <li>JWT: Tokens de autentica\u00e7\u00e3o</li> </ul>"},{"location":"frontend/#testes","title":"Testes","text":"<ul> <li>Jest 30.2.0: Testes unit\u00e1rios</li> <li>Testing Library 16.3.0: Testes de componentes React</li> <li>Playwright 1.56.1: Testes end-to-end</li> </ul>"},{"location":"frontend/#qualidade-de-codigo","title":"Qualidade de C\u00f3digo","text":"<ul> <li>ESLint 8.56.0: Linting</li> <li>Prettier 3.1.1: Formata\u00e7\u00e3o de c\u00f3digo</li> <li>Husky 8.0.3: Git hooks</li> <li>lint-staged 15.2.0: Linting em staged files</li> </ul>"},{"location":"frontend/#funcionalidades-principais","title":"Funcionalidades Principais","text":""},{"location":"frontend/#1-dashboard","title":"1. Dashboard","text":"<ul> <li>Vis\u00e3o geral das finan\u00e7as mensais</li> <li>KPIs: Total de receitas, despesas, saldo e economia</li> <li>Gr\u00e1ficos de evolu\u00e7\u00e3o di\u00e1ria</li> <li>Gr\u00e1fico de distribui\u00e7\u00e3o por categoria</li> <li>Alertas de or\u00e7amento em tempo real</li> <li>\u00daltimas transa\u00e7\u00f5es</li> </ul>"},{"location":"frontend/#2-gestao-de-transacoes","title":"2. Gest\u00e3o de Transa\u00e7\u00f5es","text":"<ul> <li>Criar, editar e excluir transa\u00e7\u00f5es</li> <li>Tipos: Receita e Despesa</li> <li>Associa\u00e7\u00e3o com categorias</li> <li>Filtros por tipo, categoria e per\u00edodo</li> <li>Busca por descri\u00e7\u00e3o</li> <li>Valida\u00e7\u00e3o de limites de or\u00e7amento</li> <li>Confirma\u00e7\u00e3o ao atingir limite exato</li> </ul>"},{"location":"frontend/#3-categorias","title":"3. Categorias","text":"<ul> <li>Criar categorias personalizadas</li> <li>Tipos: Essencial e Sup\u00e9rfluo</li> <li>Definir limites mensais opcionais</li> <li>Seletor de cores personalizado</li> <li>Acompanhar gastos vs limite</li> <li>Indicadores visuais de status (verde/amarelo/vermelho)</li> <li>Editar e excluir categorias</li> </ul>"},{"location":"frontend/#4-orcamento","title":"4. Or\u00e7amento","text":"<ul> <li>Vis\u00e3o geral do or\u00e7amento mensal</li> <li>Progresso por categoria</li> <li>Alertas de limite (70%, 90%, 100%)</li> <li>Gr\u00e1fico de gastos semanais</li> <li>Compara\u00e7\u00e3o com m\u00eas anterior</li> <li>Definir e ajustar limites</li> </ul>"},{"location":"frontend/#5-relatorios","title":"5. Relat\u00f3rios","text":"<ul> <li>Relat\u00f3rios por categoria</li> <li>Evolu\u00e7\u00e3o mensal</li> <li>Compara\u00e7\u00e3o anual</li> <li>Gr\u00e1ficos interativos</li> <li>Tabelas detalhadas</li> <li>Exporta\u00e7\u00e3o em PDF e Excel</li> </ul>"},{"location":"frontend/#6-fechamento-mensal","title":"6. Fechamento Mensal","text":"<ul> <li>Fechar m\u00eas atual</li> <li>Hist\u00f3rico de fechamentos</li> <li>Reabrir meses fechados</li> <li>Visualizar detalhes de cada fechamento</li> <li>Exportar relat\u00f3rios em PDF</li> <li>Valida\u00e7\u00e3o de dados antes do fechamento</li> </ul>"},{"location":"frontend/#7-perfil-do-usuario","title":"7. Perfil do Usu\u00e1rio","text":"<ul> <li>Editar nome</li> <li>Gerenciar notifica\u00e7\u00f5es</li> <li>Configura\u00e7\u00f5es de privacidade</li> <li>Tema claro/escuro</li> </ul>"},{"location":"frontend/#8-autenticacao","title":"8. Autentica\u00e7\u00e3o","text":"<ul> <li>Login com email e senha</li> <li>Registro de novo usu\u00e1rio</li> <li>Recupera\u00e7\u00e3o de senha</li> <li>Redefini\u00e7\u00e3o de senha com token</li> <li>Sess\u00e3o persistente (30 dias)</li> </ul>"},{"location":"frontend/#9-modo-demonstracao","title":"9. Modo Demonstra\u00e7\u00e3o","text":"<ul> <li>Acesso sem autentica\u00e7\u00e3o</li> <li>Dados mockados</li> <li>Todas as funcionalidades dispon\u00edveis</li> <li>Banner indicativo de modo demo</li> </ul>"},{"location":"frontend/#arquitetura","title":"Arquitetura","text":""},{"location":"frontend/#estrutura-de-diretorios","title":"Estrutura de Diret\u00f3rios","text":"<pre><code>MateusOrlando-TPPE-2025.2-Frontend/\n app/                          # App Router do Next.js\n    (app)/                   # Grupo de rotas autenticadas\n       categorias/          # Gest\u00e3o de categorias\n       dashboard/           # Dashboard principal\n       fechamento/          # Fechamento mensal\n       orcamento/           # Gest\u00e3o de or\u00e7amento\n       perfil/              # Perfil do usu\u00e1rio\n       relatorios/          # Relat\u00f3rios e an\u00e1lises\n       transacoes/          # Gest\u00e3o de transa\u00e7\u00f5es\n       layout.tsx           # Layout com sidebar\n    (auth)/                  # Grupo de rotas de autentica\u00e7\u00e3o\n       login/               # P\u00e1gina de login\n       register/            # P\u00e1gina de registro\n       esqueci-senha/       # Recupera\u00e7\u00e3o de senha\n       redefinir-senha/     # Redefini\u00e7\u00e3o de senha\n       layout.tsx           # Layout de autentica\u00e7\u00e3o\n    api/                     # API Routes\n       auth/                # Endpoints NextAuth\n    demo/                    # Modo demonstra\u00e7\u00e3o\n    layout.tsx               # Layout raiz\n    page.tsx                 # Landing page\n components/                   # Componentes React\n    ui/                      # Componentes shadcn/ui\n    charts/                  # Componentes de gr\u00e1ficos\n    categories/              # Componentes de categorias\n    transactions/            # Componentes de transa\u00e7\u00f5es\n    budget/                  # Componentes de or\u00e7amento\n    closure/                 # Componentes de fechamento\n    reports/                 # Componentes de relat\u00f3rios\n    auth/                    # Componentes de autentica\u00e7\u00e3o\n hooks/                        # Custom React Hooks\n lib/                          # Utilit\u00e1rios e configura\u00e7\u00f5es\n contexts/                     # Contextos globais\n e2e/                         # Testes end-to-end\n __tests__/                   # Testes unit\u00e1rios\n public/                      # Arquivos est\u00e1ticos\n styles/                      # Estilos globais\n</code></pre>"},{"location":"frontend/#padroes-arquiteturais","title":"Padr\u00f5es Arquiteturais","text":""},{"location":"frontend/#app-router-nextjs-13","title":"App Router (Next.js 13+)","text":"<ul> <li>Layouts aninhados</li> <li>Server Components por padr\u00e3o</li> <li>Client Components quando necess\u00e1rio</li> <li>Streaming e Suspense</li> <li>Route Groups para organiza\u00e7\u00e3o</li> </ul>"},{"location":"frontend/#componentes","title":"Componentes","text":"<ul> <li>Componentes funcionais com hooks</li> <li>Composi\u00e7\u00e3o sobre heran\u00e7a</li> <li>Props tipadas com TypeScript</li> <li>Acessibilidade (WCAG 2.1 AA)</li> <li>Memoization para performance</li> </ul>"},{"location":"frontend/#estado","title":"Estado","text":"<ul> <li>Estado local: useState, useReducer</li> <li>Estado global: React Context</li> <li>Estado do servidor: NextAuth Session</li> <li>Custom hooks para l\u00f3gica reutiliz\u00e1vel</li> </ul>"},{"location":"frontend/#integracao-com-backend","title":"Integra\u00e7\u00e3o com Backend","text":""},{"location":"frontend/#api-client","title":"API Client","text":"<p>Cliente HTTP customizado (<code>lib/api/client.ts</code>) com: - Autentica\u00e7\u00e3o autom\u00e1tica via JWT - Tratamento de erros padronizado - Tipagem TypeScript completa - Retry logic (planejado)</p>"},{"location":"frontend/#endpoints-principais","title":"Endpoints Principais","text":"<ul> <li><code>POST /auth/register</code> - Registrar usu\u00e1rio</li> <li><code>POST /auth/login</code> - Login (NextAuth)</li> <li><code>POST /auth/forgot-password</code> - Recuperar senha</li> <li><code>POST /auth/reset-password</code> - Redefinir senha</li> <li><code>GET /usuarios/perfil</code> - Obter perfil</li> <li><code>PUT /usuarios/perfil</code> - Atualizar perfil</li> <li><code>GET /categorias</code> - Listar categorias</li> <li><code>POST /categorias</code> - Criar categoria</li> <li><code>PUT /categorias/{id}</code> - Atualizar categoria</li> <li><code>DELETE /categorias/{id}</code> - Excluir categoria</li> <li><code>GET /transacoes</code> - Listar transa\u00e7\u00f5es</li> <li><code>POST /transacoes</code> - Criar transa\u00e7\u00e3o</li> <li><code>PUT /transacoes/{id}</code> - Atualizar transa\u00e7\u00e3o</li> <li><code>DELETE /transacoes/{id}</code> - Excluir transa\u00e7\u00e3o</li> <li><code>GET /orcamento</code> - Obter or\u00e7amento</li> <li><code>GET /fechamento</code> - Listar fechamentos</li> <li><code>POST /fechamento</code> - Fechar m\u00eas</li> <li><code>PUT /fechamento/{id}/reabrir</code> - Reabrir m\u00eas</li> <li><code>GET /relatorios/*</code> - Relat\u00f3rios diversos</li> </ul>"},{"location":"frontend/#testes_1","title":"Testes","text":""},{"location":"frontend/#estrategia-de-testes","title":"Estrat\u00e9gia de Testes","text":"<pre><code>           E2E Tests (Playwright)\n                 \u2191\n         Integration Tests\n                 \u2191\n         Unit Tests (Jest)\n</code></pre>"},{"location":"frontend/#cobertura-atual","title":"Cobertura Atual","text":"<ul> <li>Statements: 70%+</li> <li>Branches: 70%+</li> <li>Functions: 70%+</li> <li>Lines: 70%+</li> </ul>"},{"location":"frontend/#tipos-de-testes","title":"Tipos de Testes","text":"<ul> <li>Unit\u00e1rios: Componentes, hooks, utilidades</li> <li>Integra\u00e7\u00e3o: Fluxos completos, formul\u00e1rios</li> <li>E2E: Jornadas do usu\u00e1rio, autentica\u00e7\u00e3o</li> </ul>"},{"location":"frontend/#performance","title":"Performance","text":""},{"location":"frontend/#otimizacoes-implementadas","title":"Otimiza\u00e7\u00f5es Implementadas","text":"<ul> <li>Code splitting autom\u00e1tico por rota</li> <li>Image optimization (next/image)</li> <li>Font optimization (Geist)</li> <li>Lazy loading de componentes pesados</li> <li>Memoization (useMemo, useCallback, memo)</li> <li>Bundle analysis</li> </ul>"},{"location":"frontend/#metricas-alvo","title":"M\u00e9tricas Alvo","text":"<ul> <li>First Contentful Paint: &lt; 1.5s</li> <li>Time to Interactive: &lt; 3.5s</li> <li>Lighthouse Score: &gt; 90</li> <li>Bundle Size: &lt; 300KB (gzipped)</li> </ul>"},{"location":"frontend/#acessibilidade","title":"Acessibilidade","text":""},{"location":"frontend/#conformidade-wcag-21-nivel-aa","title":"Conformidade WCAG 2.1 N\u00edvel AA","text":"<ul> <li>Sem\u00e2ntica HTML adequada</li> <li>ARIA labels e roles (via Radix UI)</li> <li>Navega\u00e7\u00e3o completa por teclado</li> <li>Contraste de cores adequado (4.5:1)</li> <li>Screen reader support</li> <li>Focus management</li> </ul>"},{"location":"frontend/#ferramentas","title":"Ferramentas","text":"<ul> <li>Radix UI (acessibilidade nativa)</li> <li>ESLint plugin jsx-a11y</li> <li>Lighthouse audits</li> </ul>"},{"location":"frontend/#responsividade","title":"Responsividade","text":""},{"location":"frontend/#breakpoints-tailwind","title":"Breakpoints Tailwind","text":"<ul> <li>sm: 640px (Mobile landscape)</li> <li>md: 768px (Tablet)</li> <li>lg: 1024px (Desktop)</li> <li>xl: 1280px (Large desktop)</li> <li>2xl: 1536px (Extra large)</li> </ul>"},{"location":"frontend/#abordagem","title":"Abordagem","text":"<ul> <li>Mobile-first design</li> <li>Flexbox e Grid CSS</li> <li>Componentes adaptativos</li> <li>Sidebar responsiva (drawer em mobile)</li> </ul>"},{"location":"frontend/#deploy","title":"Deploy","text":""},{"location":"frontend/#build-de-producao","title":"Build de Produ\u00e7\u00e3o","text":"<pre><code>npm run build\n</code></pre>"},{"location":"frontend/#docker","title":"Docker","text":"<pre><code># Dockerfile\nFROM node:18-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci\nCOPY . .\nRUN npm run build\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n</code></pre>"},{"location":"frontend/#variaveis-de-ambiente","title":"Vari\u00e1veis de Ambiente","text":"<pre><code>NEXT_PUBLIC_API_URL=http://localhost:5000/api\nNEXTAUTH_URL=http://localhost:3000\nNEXTAUTH_SECRET=your-secret-key-here\n</code></pre>"},{"location":"frontend/#cicd-github-actions","title":"CI/CD (GitHub Actions)","text":"<ul> <li>Lint e type-check</li> <li>Testes unit\u00e1rios</li> <li>Build da aplica\u00e7\u00e3o</li> <li>Security audit</li> <li>Docker build e push</li> <li>Deploy (desabilitado)</li> </ul>"},{"location":"frontend/#desenvolvimento","title":"Desenvolvimento","text":""},{"location":"frontend/#setup-local","title":"Setup Local","text":"<pre><code># Clonar reposit\u00f3rio\ngit clone https://github.com/MateusOrlando-TPPE-2025-1/MateusOrlando-TPPE-2025.2-Frontend.git\n\n# Instalar depend\u00eancias\nnpm install\n\n# Configurar vari\u00e1veis de ambiente\ncp env.example .env.local\n\n# Executar em desenvolvimento\nnpm run dev\n</code></pre>"},{"location":"frontend/#scripts-disponiveis","title":"Scripts Dispon\u00edveis","text":"<ul> <li><code>dev</code>: Servidor de desenvolvimento (porta 3000)</li> <li><code>build</code>: Build de produ\u00e7\u00e3o</li> <li><code>start</code>: Servidor de produ\u00e7\u00e3o</li> <li><code>lint</code>: Verificar c\u00f3digo (ESLint)</li> <li><code>lint:fix</code>: Corrigir problemas automaticamente</li> <li><code>format</code>: Formatar c\u00f3digo (Prettier)</li> <li><code>format:check</code>: Verificar formata\u00e7\u00e3o</li> <li><code>type-check</code>: Verificar tipos TypeScript</li> <li><code>test</code>: Testes unit\u00e1rios</li> <li><code>test:watch</code>: Testes em modo watch</li> <li><code>test:coverage</code>: Testes com cobertura</li> <li><code>test:e2e</code>: Testes end-to-end</li> <li><code>test:e2e:ui</code>: Testes E2E com UI</li> <li><code>test:e2e:debug</code>: Testes E2E em modo debug</li> </ul>"},{"location":"frontend/#documentacao-adicional","title":"Documenta\u00e7\u00e3o Adicional","text":"<ul> <li>Arquitetura Detalhada</li> <li>Componentes</li> <li>Integra\u00e7\u00e3o com API</li> <li>Testes</li> <li>Product Backlog</li> </ul>"},{"location":"frontend/#proximos-passos","title":"Pr\u00f3ximos Passos","text":"<ol> <li>React Query: Implementar para melhor gerenciamento de cache e sincroniza\u00e7\u00e3o</li> <li>PWA: Adicionar service workers e suporte offline</li> <li>Internacionaliza\u00e7\u00e3o: Suporte multi-idioma (pt-BR, en-US)</li> <li>Analytics: Tracking de eventos e m\u00e9tricas de uso</li> <li>Error Boundary: Tratamento global de erros</li> <li>Storybook: Documenta\u00e7\u00e3o visual de componentes</li> <li>Acessibilidade: Auditoria completa e melhorias</li> <li>Performance: Otimiza\u00e7\u00f5es adicionais e lazy loading</li> <li>Testes: Aumentar cobertura para 80%+</li> <li>Documenta\u00e7\u00e3o: Adicionar mais exemplos e guias</li> </ol>"},{"location":"frontend/api-integration/","title":"Integra\u00e7\u00e3o com API","text":""},{"location":"frontend/api-integration/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>O frontend do SpendWise se comunica com o backend .NET atrav\u00e9s de uma API RESTful. A integra\u00e7\u00e3o \u00e9 feita utilizando fetch API nativo do JavaScript com abstra\u00e7\u00f5es customizadas para facilitar o uso.</p>"},{"location":"frontend/api-integration/#configuracao-base","title":"Configura\u00e7\u00e3o Base","text":""},{"location":"frontend/api-integration/#variaveis-de-ambiente","title":"Vari\u00e1veis de Ambiente","text":"<pre><code># .env.local\nNEXT_PUBLIC_API_URL=http://localhost:5000/api\nNEXTAUTH_URL=http://localhost:3000\nNEXTAUTH_SECRET=your-secret-key-here\n</code></pre>"},{"location":"frontend/api-integration/#cliente-http","title":"Cliente HTTP","text":"<p>Localiza\u00e7\u00e3o: <code>lib/api/client.ts</code></p> <pre><code>import { getSession } from 'next-auth/react'\n\nexport async function apiClient&lt;T = any&gt;(\n  endpoint: string,\n  options?: RequestInit\n): Promise&lt;T&gt; {\n  const session = await getSession()\n\n  const url = `${process.env.NEXT_PUBLIC_API_URL}${endpoint}`\n\n  const config: RequestInit = {\n    ...options,\n    headers: {\n      'Content-Type': 'application/json',\n      ...(session?.accessToken &amp;&amp; {\n        Authorization: `Bearer ${session.accessToken}`,\n      }),\n      ...options?.headers,\n    },\n  }\n\n  const response = await fetch(url, config)\n\n  if (!response.ok) {\n    const error = await response.json().catch(() =&gt; ({}))\n    throw new Error(error.message || `HTTP Error: ${response.status}`)\n  }\n\n  // Retorna vazio para 204 No Content\n  if (response.status === 204) {\n    return {} as T\n  }\n\n  return response.json()\n}\n</code></pre>"},{"location":"frontend/api-integration/#autenticacao","title":"Autentica\u00e7\u00e3o","text":""},{"location":"frontend/api-integration/#nextauth-configuration","title":"NextAuth Configuration","text":"<p>Localiza\u00e7\u00e3o: <code>app/api/auth/[...nextauth]/route.ts</code></p> <pre><code>import NextAuth, { NextAuthOptions } from 'next-auth'\nimport CredentialsProvider from 'next-auth/providers/credentials'\n\nexport const authOptions: NextAuthOptions = {\n  providers: [\n    CredentialsProvider({\n      name: 'Credentials',\n      credentials: {\n        email: { label: 'Email', type: 'email' },\n        password: { label: 'Senha', type: 'password' },\n      },\n      async authorize(credentials) {\n        if (!credentials?.email || !credentials?.password) {\n          return null\n        }\n\n        try {\n          const response = await fetch(\n            `${process.env.NEXT_PUBLIC_API_URL}/auth/login`,\n            {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({\n                email: credentials.email,\n                senha: credentials.password,\n              }),\n            }\n          )\n\n          if (!response.ok) {\n            return null\n          }\n\n          const data = await response.json()\n\n          return {\n            id: data.usuario.id,\n            email: data.usuario.email,\n            name: data.usuario.nome,\n            accessToken: data.token,\n          }\n        } catch (error) {\n          console.error('Erro no login:', error)\n          return null\n        }\n      },\n    }),\n  ],\n  callbacks: {\n    async jwt({ token, user }) {\n      if (user) {\n        token.accessToken = user.accessToken\n        token.id = user.id\n      }\n      return token\n    },\n    async session({ session, token }) {\n      if (session.user) {\n        session.user.id = token.id as string\n        session.accessToken = token.accessToken as string\n      }\n      return session\n    },\n  },\n  pages: {\n    signIn: '/login',\n    error: '/login',\n  },\n  session: {\n    strategy: 'jwt',\n    maxAge: 30 * 24 * 60 * 60, // 30 dias\n  },\n}\n\nconst handler = NextAuth(authOptions)\nexport { handler as GET, handler as POST }\n</code></pre>"},{"location":"frontend/api-integration/#hook-de-autenticacao","title":"Hook de Autentica\u00e7\u00e3o","text":"<p>Localiza\u00e7\u00e3o: <code>hooks/use-auth.ts</code></p> <pre><code>import { useSession, signIn, signOut } from 'next-auth/react'\nimport { useRouter } from 'next/navigation'\n\nexport function useAuth() {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n\n  const login = async (email: string, password: string) =&gt; {\n    const result = await signIn('credentials', {\n      email,\n      password,\n      redirect: false,\n    })\n\n    if (result?.error) {\n      throw new Error('Credenciais inv\u00e1lidas')\n    }\n\n    router.push('/dashboard')\n  }\n\n  const logout = async () =&gt; {\n    await signOut({ redirect: false })\n    router.push('/login')\n  }\n\n  return {\n    user: session?.user,\n    accessToken: session?.accessToken,\n    isAuthenticated: status === 'authenticated',\n    isLoading: status === 'loading',\n    login,\n    logout,\n  }\n}\n</code></pre>"},{"location":"frontend/api-integration/#endpoints-da-api","title":"Endpoints da API","text":""},{"location":"frontend/api-integration/#autenticacao_1","title":"Autentica\u00e7\u00e3o","text":""},{"location":"frontend/api-integration/#post-authregister","title":"POST /auth/register","text":"<p>Registrar novo usu\u00e1rio.</p> <pre><code>interface RegisterData {\n  nome: string\n  email: string\n  senha: string\n  confirmarSenha: string\n}\n\nexport async function register(data: RegisterData) {\n  return apiClient('/auth/register', {\n    method: 'POST',\n    body: JSON.stringify(data),\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#post-authlogin","title":"POST /auth/login","text":"<p>Fazer login (usado internamente pelo NextAuth).</p> <pre><code>interface LoginData {\n  email: string\n  senha: string\n}\n\ninterface LoginResponse {\n  token: string\n  usuario: {\n    id: string\n    nome: string\n    email: string\n  }\n}\n</code></pre>"},{"location":"frontend/api-integration/#post-authforgot-password","title":"POST /auth/forgot-password","text":"<p>Solicitar recupera\u00e7\u00e3o de senha.</p> <pre><code>export async function forgotPassword(email: string) {\n  return apiClient('/auth/forgot-password', {\n    method: 'POST',\n    body: JSON.stringify({ email }),\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#post-authreset-password","title":"POST /auth/reset-password","text":"<p>Redefinir senha com token.</p> <pre><code>interface ResetPasswordData {\n  email: string\n  token: string\n  novaSenha: string\n  confirmarNovaSenha: string\n}\n\nexport async function resetPassword(data: ResetPasswordData) {\n  return apiClient('/auth/reset-password', {\n    method: 'POST',\n    body: JSON.stringify(data),\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#usuarios","title":"Usu\u00e1rios","text":""},{"location":"frontend/api-integration/#get-usuariosperfil","title":"GET /usuarios/perfil","text":"<p>Obter perfil do usu\u00e1rio autenticado.</p> <pre><code>interface Usuario {\n  id: string\n  nome: string\n  email: string\n  notificacoesAtivas: boolean\n}\n\nexport async function getProfile(): Promise&lt;Usuario&gt; {\n  return apiClient('/usuarios/perfil')\n}\n</code></pre>"},{"location":"frontend/api-integration/#put-usuariosperfil","title":"PUT /usuarios/perfil","text":"<p>Atualizar perfil do usu\u00e1rio.</p> <pre><code>interface UpdateProfileData {\n  nome: string\n  notificacoesAtivas: boolean\n}\n\nexport async function updateProfile(data: UpdateProfileData) {\n  return apiClient('/usuarios/perfil', {\n    method: 'PUT',\n    body: JSON.stringify(data),\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#categorias","title":"Categorias","text":""},{"location":"frontend/api-integration/#get-categorias","title":"GET /categorias","text":"<p>Listar todas as categorias do usu\u00e1rio.</p> <pre><code>interface Categoria {\n  id: string\n  nome: string\n  tipo: 'Essencial' | 'Superfluo'\n  limiteDefinido: boolean\n  limiteMensal: number\n  gastoAtual: number\n  cor: string\n}\n\nexport async function getCategorias(): Promise&lt;Categoria[]&gt; {\n  return apiClient('/categorias')\n}\n</code></pre>"},{"location":"frontend/api-integration/#post-categorias","title":"POST /categorias","text":"<p>Criar nova categoria.</p> <pre><code>interface CreateCategoriaData {\n  nome: string\n  tipo: 'Essencial' | 'Superfluo'\n  limiteDefinido: boolean\n  limiteMensal?: number\n  cor: string\n}\n\nexport async function createCategoria(data: CreateCategoriaData) {\n  return apiClient('/categorias', {\n    method: 'POST',\n    body: JSON.stringify(data),\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#put-categoriasid","title":"PUT /categorias/{id}","text":"<p>Atualizar categoria existente.</p> <pre><code>export async function updateCategoria(\n  id: string,\n  data: Partial&lt;CreateCategoriaData&gt;\n) {\n  return apiClient(`/categorias/${id}`, {\n    method: 'PUT',\n    body: JSON.stringify(data),\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#delete-categoriasid","title":"DELETE /categorias/{id}","text":"<p>Excluir categoria.</p> <pre><code>export async function deleteCategoria(id: string) {\n  return apiClient(`/categorias/${id}`, {\n    method: 'DELETE',\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#transacoes","title":"Transa\u00e7\u00f5es","text":""},{"location":"frontend/api-integration/#get-transacoes","title":"GET /transacoes","text":"<p>Listar transa\u00e7\u00f5es com filtros.</p> <pre><code>interface Transacao {\n  id: string\n  descricao: string\n  valor: number\n  tipo: 'Receita' | 'Despesa'\n  data: string\n  categoria?: string\n  categoriaId?: string\n}\n\ninterface GetTransacoesParams {\n  mes?: number\n  ano?: number\n  tipo?: 'Receita' | 'Despesa'\n  categoriaId?: string\n}\n\nexport async function getTransacoes(\n  params?: GetTransacoesParams\n): Promise&lt;Transacao[]&gt; {\n  const queryString = new URLSearchParams(\n    params as Record&lt;string, string&gt;\n  ).toString()\n\n  return apiClient(`/transacoes?${queryString}`)\n}\n</code></pre>"},{"location":"frontend/api-integration/#post-transacoes","title":"POST /transacoes","text":"<p>Criar nova transa\u00e7\u00e3o.</p> <pre><code>interface CreateTransacaoData {\n  descricao: string\n  valor: number\n  tipo: 'Receita' | 'Despesa'\n  data: string // ISO 8601\n  categoriaId?: string\n}\n\nexport async function createTransacao(data: CreateTransacaoData) {\n  return apiClient('/transacoes', {\n    method: 'POST',\n    body: JSON.stringify(data),\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#put-transacoesid","title":"PUT /transacoes/{id}","text":"<p>Atualizar transa\u00e7\u00e3o existente.</p> <pre><code>export async function updateTransacao(\n  id: string,\n  data: Partial&lt;CreateTransacaoData&gt;\n) {\n  return apiClient(`/transacoes/${id}`, {\n    method: 'PUT',\n    body: JSON.stringify(data),\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#delete-transacoesid","title":"DELETE /transacoes/{id}","text":"<p>Excluir transa\u00e7\u00e3o.</p> <pre><code>export async function deleteTransacao(id: string) {\n  return apiClient(`/transacoes/${id}`, {\n    method: 'DELETE',\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#orcamento","title":"Or\u00e7amento","text":""},{"location":"frontend/api-integration/#get-orcamento","title":"GET /orcamento","text":"<p>Obter resumo do or\u00e7amento mensal.</p> <pre><code>interface OrcamentoResumo {\n  mes: number\n  ano: number\n  totalReceitas: number\n  totalDespesas: number\n  saldo: number\n  categorias: {\n    id: string\n    nome: string\n    limite: number\n    gasto: number\n    percentual: number\n  }[]\n}\n\nexport async function getOrcamento(\n  mes: number,\n  ano: number\n): Promise&lt;OrcamentoResumo&gt; {\n  return apiClient(`/orcamento?mes=${mes}&amp;ano=${ano}`)\n}\n</code></pre>"},{"location":"frontend/api-integration/#fechamento","title":"Fechamento","text":""},{"location":"frontend/api-integration/#get-fechamento","title":"GET /fechamento","text":"<p>Listar fechamentos mensais.</p> <pre><code>interface Fechamento {\n  id: string\n  mes: number\n  ano: number\n  totalReceitas: number\n  totalDespesas: number\n  saldoFinal: number\n  dataFechamento: string\n  status: 'Aberto' | 'Fechado'\n}\n\nexport async function getFechamentos(): Promise&lt;Fechamento[]&gt; {\n  return apiClient('/fechamento')\n}\n</code></pre>"},{"location":"frontend/api-integration/#post-fechamento","title":"POST /fechamento","text":"<p>Fechar m\u00eas atual.</p> <pre><code>interface FecharMesData {\n  mes: number\n  ano: number\n}\n\nexport async function fecharMes(data: FecharMesData) {\n  return apiClient('/fechamento', {\n    method: 'POST',\n    body: JSON.stringify(data),\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#put-fechamentoidreabrir","title":"PUT /fechamento/{id}/reabrir","text":"<p>Reabrir m\u00eas fechado.</p> <pre><code>export async function reabrirMes(id: string) {\n  return apiClient(`/fechamento/${id}/reabrir`, {\n    method: 'PUT',\n  })\n}\n</code></pre>"},{"location":"frontend/api-integration/#relatorios","title":"Relat\u00f3rios","text":""},{"location":"frontend/api-integration/#get-relatorioscategoria","title":"GET /relatorios/categoria","text":"<p>Relat\u00f3rio de gastos por categoria.</p> <pre><code>interface RelatorioPorCategoria {\n  categoriaId: string\n  categoriaNome: string\n  totalGasto: number\n  percentual: number\n  transacoes: number\n}\n\nexport async function getRelatorioPorCategoria(\n  mes: number,\n  ano: number\n): Promise&lt;RelatorioPorCategoria[]&gt; {\n  return apiClient(`/relatorios/categoria?mes=${mes}&amp;ano=${ano}`)\n}\n</code></pre>"},{"location":"frontend/api-integration/#get-relatoriosmensal","title":"GET /relatorios/mensal","text":"<p>Relat\u00f3rio de evolu\u00e7\u00e3o mensal.</p> <pre><code>interface RelatorioMensal {\n  mes: number\n  ano: number\n  receitas: number\n  despesas: number\n  saldo: number\n}\n\nexport async function getRelatorioMensal(\n  ano: number\n): Promise&lt;RelatorioMensal[]&gt; {\n  return apiClient(`/relatorios/mensal?ano=${ano}`)\n}\n</code></pre>"},{"location":"frontend/api-integration/#custom-hooks","title":"Custom Hooks","text":""},{"location":"frontend/api-integration/#usetransacoes","title":"useTransacoes","text":"<p>Localiza\u00e7\u00e3o: <code>hooks/use-transacoes.ts</code></p> <pre><code>import { useState, useEffect } from 'react'\nimport { getTransacoes, createTransacao, deleteTransacao } from '@/lib/api'\n\nexport function useTransacoes(mes?: number, ano?: number) {\n  const [transacoes, setTransacoes] = useState&lt;Transacao[]&gt;([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState&lt;string | null&gt;(null)\n\n  useEffect(() =&gt; {\n    loadTransacoes()\n  }, [mes, ano])\n\n  const loadTransacoes = async () =&gt; {\n    try {\n      setLoading(true)\n      const data = await getTransacoes({ mes, ano })\n      setTransacoes(data)\n      setError(null)\n    } catch (err) {\n      setError(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const criar = async (data: CreateTransacaoData) =&gt; {\n    const nova = await createTransacao(data)\n    setTransacoes([...transacoes, nova])\n    return nova\n  }\n\n  const excluir = async (id: string) =&gt; {\n    await deleteTransacao(id)\n    setTransacoes(transacoes.filter(t =&gt; t.id !== id))\n  }\n\n  return {\n    transacoes,\n    loading,\n    error,\n    criar,\n    excluir,\n    reload: loadTransacoes,\n  }\n}\n</code></pre>"},{"location":"frontend/api-integration/#usecategorias","title":"useCategorias","text":"<p>Localiza\u00e7\u00e3o: <code>hooks/use-categorias.ts</code></p> <pre><code>import { useState, useEffect } from 'react'\nimport { getCategorias, createCategoria, deleteCategoria } from '@/lib/api'\n\nexport function useCategorias() {\n  const [categorias, setCategorias] = useState&lt;Categoria[]&gt;([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() =&gt; {\n    loadCategorias()\n  }, [])\n\n  const loadCategorias = async () =&gt; {\n    try {\n      setLoading(true)\n      const data = await getCategorias()\n      setCategorias(data)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const criar = async (data: CreateCategoriaData) =&gt; {\n    const nova = await createCategoria(data)\n    setCategorias([...categorias, nova])\n    return nova\n  }\n\n  const excluir = async (id: string) =&gt; {\n    await deleteCategoria(id)\n    setCategorias(categorias.filter(c =&gt; c.id !== id))\n  }\n\n  return {\n    categorias,\n    loading,\n    criar,\n    excluir,\n    reload: loadCategorias,\n  }\n}\n</code></pre>"},{"location":"frontend/api-integration/#useorcamento","title":"useOrcamento","text":"<p>Localiza\u00e7\u00e3o: <code>hooks/use-orcamento.ts</code></p> <pre><code>import { useState, useEffect } from 'react'\nimport { getOrcamento } from '@/lib/api'\n\nexport function useOrcamento(mes: number, ano: number) {\n  const [orcamento, setOrcamento] = useState&lt;OrcamentoResumo | null&gt;(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() =&gt; {\n    loadOrcamento()\n  }, [mes, ano])\n\n  const loadOrcamento = async () =&gt; {\n    try {\n      setLoading(true)\n      const data = await getOrcamento(mes, ano)\n      setOrcamento(data)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return {\n    orcamento,\n    loading,\n    reload: loadOrcamento,\n  }\n}\n</code></pre>"},{"location":"frontend/api-integration/#tratamento-de-erros","title":"Tratamento de Erros","text":""},{"location":"frontend/api-integration/#error-handling-global","title":"Error Handling Global","text":"<pre><code>// lib/api/client.ts\nexport class ApiError extends Error {\n  constructor(\n    message: string,\n    public status: number,\n    public data?: any\n  ) {\n    super(message)\n    this.name = 'ApiError'\n  }\n}\n\nexport async function apiClient&lt;T&gt;(\n  endpoint: string,\n  options?: RequestInit\n): Promise&lt;T&gt; {\n  try {\n    const response = await fetch(url, config)\n\n    if (!response.ok) {\n      const error = await response.json().catch(() =&gt; ({}))\n      throw new ApiError(\n        error.message || 'Erro na requisi\u00e7\u00e3o',\n        response.status,\n        error\n      )\n    }\n\n    return response.json()\n  } catch (error) {\n    if (error instanceof ApiError) {\n      throw error\n    }\n    throw new ApiError('Erro de conex\u00e3o', 0)\n  }\n}\n</code></pre>"},{"location":"frontend/api-integration/#error-boundary","title":"Error Boundary","text":"<pre><code>// components/error-boundary.tsx\n'use client'\n\nimport { Component, ReactNode } from 'react'\n\ninterface Props {\n  children: ReactNode\n  fallback?: ReactNode\n}\n\ninterface State {\n  hasError: boolean\n  error?: Error\n}\n\nexport class ErrorBoundary extends Component&lt;Props, State&gt; {\n  constructor(props: Props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: any) {\n    console.error('Error caught by boundary:', error, errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return this.props.fallback || (\n        &lt;div className=\"p-4 text-center\"&gt;\n          &lt;h2&gt;Algo deu errado&lt;/h2&gt;\n          &lt;button onClick={() =&gt; this.setState({ hasError: false })}&gt;\n            Tentar novamente\n          &lt;/button&gt;\n        &lt;/div&gt;\n      )\n    }\n\n    return this.props.children\n  }\n}\n</code></pre>"},{"location":"frontend/api-integration/#cache-e-otimizacao","title":"Cache e Otimiza\u00e7\u00e3o","text":""},{"location":"frontend/api-integration/#react-query-futuro","title":"React Query (Futuro)","text":"<p>Planejado para melhor gerenciamento de cache:</p> <pre><code>import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\n\nexport function useTransacoes() {\n  const queryClient = useQueryClient()\n\n  const { data, isLoading } = useQuery({\n    queryKey: ['transacoes'],\n    queryFn: getTransacoes,\n    staleTime: 5 * 60 * 1000, // 5 minutos\n  })\n\n  const createMutation = useMutation({\n    mutationFn: createTransacao,\n    onSuccess: () =&gt; {\n      queryClient.invalidateQueries({ queryKey: ['transacoes'] })\n    },\n  })\n\n  return {\n    transacoes: data,\n    loading: isLoading,\n    criar: createMutation.mutate,\n  }\n}\n</code></pre>"},{"location":"frontend/api-integration/#swr-alternativa","title":"SWR (Alternativa)","text":"<pre><code>import useSWR from 'swr'\n\nexport function useTransacoes() {\n  const { data, error, mutate } = useSWR(\n    '/transacoes',\n    getTransacoes,\n    {\n      revalidateOnFocus: false,\n      dedupingInterval: 2000,\n    }\n  )\n\n  return {\n    transacoes: data,\n    loading: !error &amp;&amp; !data,\n    error,\n    reload: mutate,\n  }\n}\n</code></pre>"},{"location":"frontend/api-integration/#testes-de-integracao","title":"Testes de Integra\u00e7\u00e3o","text":""},{"location":"frontend/api-integration/#mock-de-api","title":"Mock de API","text":"<pre><code>// __tests__/mocks/api.ts\nimport { rest } from 'msw'\n\nexport const handlers = [\n  rest.get('/api/transacoes', (req, res, ctx) =&gt; {\n    return res(\n      ctx.status(200),\n      ctx.json([\n        {\n          id: '1',\n          descricao: 'Teste',\n          valor: 100,\n          tipo: 'Receita',\n          data: '2024-01-01',\n        },\n      ])\n    )\n  }),\n\n  rest.post('/api/transacoes', (req, res, ctx) =&gt; {\n    return res(\n      ctx.status(201),\n      ctx.json({\n        id: '2',\n        ...req.body,\n      })\n    )\n  }),\n]\n</code></pre>"},{"location":"frontend/api-integration/#teste-de-hook","title":"Teste de Hook","text":"<pre><code>import { renderHook, waitFor } from '@testing-library/react'\nimport { useTransacoes } from '@/hooks/use-transacoes'\n\ndescribe('useTransacoes', () =&gt; {\n  it('carrega transa\u00e7\u00f5es', async () =&gt; {\n    const { result } = renderHook(() =&gt; useTransacoes())\n\n    expect(result.current.loading).toBe(true)\n\n    await waitFor(() =&gt; {\n      expect(result.current.loading).toBe(false)\n    })\n\n    expect(result.current.transacoes).toHaveLength(1)\n  })\n})\n</code></pre>"},{"location":"frontend/api-integration/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ol> <li>Sempre use o cliente HTTP customizado para requisi\u00e7\u00f5es autenticadas</li> <li>Trate erros adequadamente em todos os n\u00edveis</li> <li>Use TypeScript para tipar requests e responses</li> <li>Implemente loading states para melhor UX</li> <li>Cache dados quando apropriado</li> <li>Valide dados antes de enviar ao backend</li> <li>Use custom hooks para reutiliza\u00e7\u00e3o de l\u00f3gica</li> <li>Teste integra\u00e7\u00f5es com mocks</li> </ol>"},{"location":"frontend/arquitetura/","title":"Arquitetura do Frontend","text":""},{"location":"frontend/arquitetura/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>O frontend do SpendWise \u00e9 constru\u00eddo com Next.js 13 utilizando o App Router, seguindo as melhores pr\u00e1ticas de desenvolvimento moderno com TypeScript, React Server Components e Client Components.</p>"},{"location":"frontend/arquitetura/#stack-tecnologica","title":"Stack Tecnol\u00f3gica","text":""},{"location":"frontend/arquitetura/#core","title":"Core","text":"<ul> <li>Next.js 13.5.6: Framework React com App Router</li> <li>React 18.2.0: Biblioteca UI com Server Components</li> <li>TypeScript 5.3.3: Tipagem est\u00e1tica</li> <li>Tailwind CSS 3.4.0: Framework CSS utility-first</li> </ul>"},{"location":"frontend/arquitetura/#ui-e-componentes","title":"UI e Componentes","text":"<ul> <li>shadcn/ui: Biblioteca de componentes baseada em Radix UI</li> <li>Radix UI: Componentes acess\u00edveis e n\u00e3o estilizados</li> <li>Lucide React: \u00cdcones SVG</li> <li>Recharts 2.8.0: Gr\u00e1ficos e visualiza\u00e7\u00f5es</li> <li>Sonner: Sistema de notifica\u00e7\u00f5es toast</li> </ul>"},{"location":"frontend/arquitetura/#formularios-e-validacao","title":"Formul\u00e1rios e Valida\u00e7\u00e3o","text":"<ul> <li>React Hook Form 7.47.0: Gerenciamento de formul\u00e1rios</li> <li>Zod 3.22.4: Valida\u00e7\u00e3o de schemas</li> <li>@hookform/resolvers: Integra\u00e7\u00e3o Zod + React Hook Form</li> </ul>"},{"location":"frontend/arquitetura/#autenticacao","title":"Autentica\u00e7\u00e3o","text":"<ul> <li>NextAuth.js 4.24.11: Autentica\u00e7\u00e3o e sess\u00f5es</li> <li>JWT: Tokens de autentica\u00e7\u00e3o</li> </ul>"},{"location":"frontend/arquitetura/#testes","title":"Testes","text":"<ul> <li>Jest 30.2.0: Testes unit\u00e1rios</li> <li>Testing Library: Testes de componentes React</li> <li>Playwright 1.56.1: Testes end-to-end</li> </ul>"},{"location":"frontend/arquitetura/#qualidade-de-codigo","title":"Qualidade de C\u00f3digo","text":"<ul> <li>ESLint 8.56.0: Linting</li> <li>Prettier 3.1.1: Formata\u00e7\u00e3o de c\u00f3digo</li> <li>Husky 8.0.3: Git hooks</li> <li>lint-staged 15.2.0: Linting em staged files</li> </ul>"},{"location":"frontend/arquitetura/#estrutura-de-diretorios","title":"Estrutura de Diret\u00f3rios","text":"<pre><code>MateusOrlando-TPPE-2025.2-Frontend/\n app/                          # App Router do Next.js\n    (app)/                   # Grupo de rotas autenticadas\n       categorias/          # Gest\u00e3o de categorias\n       dashboard/           # Dashboard principal\n       fechamento/          # Fechamento mensal\n       orcamento/           # Gest\u00e3o de or\u00e7amento\n       perfil/              # Perfil do usu\u00e1rio\n       relatorios/          # Relat\u00f3rios e an\u00e1lises\n       transacoes/          # Gest\u00e3o de transa\u00e7\u00f5es\n       layout.tsx           # Layout com sidebar\n    (auth)/                  # Grupo de rotas de autentica\u00e7\u00e3o\n       login/               # P\u00e1gina de login\n       register/            # P\u00e1gina de registro\n       esqueci-senha/       # Recupera\u00e7\u00e3o de senha\n       redefinir-senha/     # Redefini\u00e7\u00e3o de senha\n       layout.tsx           # Layout de autentica\u00e7\u00e3o\n    api/                     # API Routes\n       auth/                # Endpoints NextAuth\n    demo/                    # Modo demonstra\u00e7\u00e3o\n    layout.tsx               # Layout raiz\n    page.tsx                 # Landing page\n components/                   # Componentes React\n    ui/                      # Componentes shadcn/ui\n    charts/                  # Componentes de gr\u00e1ficos\n    categories/              # Componentes de categorias\n    transactions/            # Componentes de transa\u00e7\u00f5es\n    budget/                  # Componentes de or\u00e7amento\n    closure/                 # Componentes de fechamento\n    reports/                 # Componentes de relat\u00f3rios\n    auth/                    # Componentes de autentica\u00e7\u00e3o\n hooks/                        # Custom React Hooks\n    use-auth.ts              # Hook de autentica\u00e7\u00e3o\n    use-categorias.ts        # Hook de categorias\n    use-transacoes.ts        # Hook de transa\u00e7\u00f5es\n    use-orcamento.ts         # Hook de or\u00e7amento\n    use-toast.ts             # Hook de notifica\u00e7\u00f5es\n lib/                          # Utilit\u00e1rios e configura\u00e7\u00f5es\n    api/                     # Cliente API\n    contexts/                # React Contexts\n    types/                   # Defini\u00e7\u00f5es de tipos\n    utils/                   # Fun\u00e7\u00f5es utilit\u00e1rias\n contexts/                     # Contextos globais\n    NotificationsContext.tsx # Contexto de notifica\u00e7\u00f5es\n providers/                    # Providers React\n e2e/                         # Testes end-to-end\n    auth/                    # Testes de autentica\u00e7\u00e3o\n    transacoes/              # Testes de transa\u00e7\u00f5es\n    fechamento/              # Testes de fechamento\n    setup/                   # Setup dos testes\n __tests__/                   # Testes unit\u00e1rios\n public/                      # Arquivos est\u00e1ticos\n styles/                      # Estilos globais\n types/                       # Tipos TypeScript globais\n</code></pre>"},{"location":"frontend/arquitetura/#padroes-arquiteturais","title":"Padr\u00f5es Arquiteturais","text":""},{"location":"frontend/arquitetura/#app-router-nextjs-13","title":"App Router (Next.js 13+)","text":"<p>O projeto utiliza o novo App Router do Next.js, que oferece:</p> <ul> <li>Layouts Aninhados: Compartilhamento de UI entre rotas</li> <li>Server Components: Renderiza\u00e7\u00e3o no servidor por padr\u00e3o</li> <li>Streaming: Carregamento progressivo de UI</li> <li>Route Groups: Organiza\u00e7\u00e3o l\u00f3gica sem afetar URLs</li> </ul>"},{"location":"frontend/arquitetura/#grupos-de-rotas","title":"Grupos de Rotas","text":""},{"location":"frontend/arquitetura/#app-area-autenticada","title":"(app) - \u00c1rea Autenticada","text":"<p>Rotas que requerem autentica\u00e7\u00e3o, compartilham layout com sidebar e header.</p> <pre><code>// app/(app)/layout.tsx\nexport default function AppLayout({ children }) {\n  return (\n    &lt;div className=\"flex h-screen\"&gt;\n      &lt;AppSidebar /&gt;\n      &lt;main className=\"flex-1\"&gt;\n        &lt;AppHeader /&gt;\n        {children}\n      &lt;/main&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>"},{"location":"frontend/arquitetura/#auth-area-de-autenticacao","title":"(auth) - \u00c1rea de Autentica\u00e7\u00e3o","text":"<p>Rotas p\u00fablicas de autentica\u00e7\u00e3o com layout centralizado.</p> <pre><code>// app/(auth)/layout.tsx\nexport default function AuthLayout({ children }) {\n  return (\n    &lt;div className=\"flex min-h-screen items-center justify-center\"&gt;\n      {children}\n    &lt;/div&gt;\n  )\n}\n</code></pre>"},{"location":"frontend/arquitetura/#server-vs-client-components","title":"Server vs Client Components","text":""},{"location":"frontend/arquitetura/#server-components-padrao","title":"Server Components (Padr\u00e3o)","text":"<ul> <li>Busca de dados no servidor</li> <li>Acesso direto a recursos backend</li> <li>Redu\u00e7\u00e3o do bundle JavaScript</li> <li>Melhor SEO</li> </ul> <pre><code>// app/(app)/dashboard/page.tsx\nexport default async function DashboardPage() {\n  // Busca dados no servidor\n  const data = await fetchDashboardData()\n\n  return &lt;DashboardView data={data} /&gt;\n}\n</code></pre>"},{"location":"frontend/arquitetura/#client-components","title":"Client Components","text":"<ul> <li>Interatividade (useState, useEffect)</li> <li>Event handlers</li> <li>Browser APIs</li> <li>Context providers</li> </ul> <pre><code>'use client'\n\nimport { useState } from 'react'\n\nexport function InteractiveComponent() {\n  const [count, setCount] = useState(0)\n\n  return (\n    &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n      Count: {count}\n    &lt;/button&gt;\n  )\n}\n</code></pre>"},{"location":"frontend/arquitetura/#gerenciamento-de-estado","title":"Gerenciamento de Estado","text":""},{"location":"frontend/arquitetura/#estado-local","title":"Estado Local","text":"<ul> <li>useState: Estado de componente</li> <li>useReducer: Estado complexo</li> </ul>"},{"location":"frontend/arquitetura/#estado-global","title":"Estado Global","text":"<ul> <li>React Context: Notifica\u00e7\u00f5es, tema</li> <li>NextAuth Session: Dados do usu\u00e1rio autenticado</li> </ul>"},{"location":"frontend/arquitetura/#estado-do-servidor","title":"Estado do Servidor","text":"<ul> <li>React Query (futuro): Cache e sincroniza\u00e7\u00e3o</li> <li>SWR (alternativa): Stale-while-revalidate</li> </ul>"},{"location":"frontend/arquitetura/#integracao-com-api","title":"Integra\u00e7\u00e3o com API","text":""},{"location":"frontend/arquitetura/#cliente-http","title":"Cliente HTTP","text":"<pre><code>// lib/api/client.ts\nimport { getSession } from 'next-auth/react'\n\nexport async function apiClient(\n  endpoint: string,\n  options?: RequestInit\n) {\n  const session = await getSession()\n\n  const response = await fetch(\n    `${process.env.NEXT_PUBLIC_API_URL}${endpoint}`,\n    {\n      ...options,\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${session?.accessToken}`,\n        ...options?.headers,\n      },\n    }\n  )\n\n  if (!response.ok) {\n    throw new Error(`API Error: ${response.status}`)\n  }\n\n  return response.json()\n}\n</code></pre>"},{"location":"frontend/arquitetura/#custom-hooks","title":"Custom Hooks","text":"<pre><code>// hooks/use-transacoes.ts\nexport function useTransacoes() {\n  const [transacoes, setTransacoes] = useState&lt;Transacao[]&gt;([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() =&gt; {\n    apiClient('/transacoes')\n      .then(setTransacoes)\n      .finally(() =&gt; setLoading(false))\n  }, [])\n\n  const criar = async (data: NovaTransacao) =&gt; {\n    const nova = await apiClient('/transacoes', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    })\n    setTransacoes([...transacoes, nova])\n  }\n\n  return { transacoes, loading, criar }\n}\n</code></pre>"},{"location":"frontend/arquitetura/#autenticacao_1","title":"Autentica\u00e7\u00e3o","text":""},{"location":"frontend/arquitetura/#nextauthjs","title":"NextAuth.js","text":"<p>Configura\u00e7\u00e3o centralizada em <code>app/api/auth/[...nextauth]/route.ts</code>:</p> <pre><code>export const authOptions: NextAuthOptions = {\n  providers: [\n    CredentialsProvider({\n      credentials: {\n        email: { type: 'email' },\n        password: { type: 'password' },\n      },\n      async authorize(credentials) {\n        const response = await fetch(\n          `${process.env.NEXT_PUBLIC_API_URL}/auth/login`,\n          {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(credentials),\n          }\n        )\n\n        if (response.ok) {\n          return await response.json()\n        }\n        return null\n      },\n    }),\n  ],\n  callbacks: {\n    async jwt({ token, user }) {\n      if (user) {\n        token.accessToken = user.accessToken\n        token.id = user.id\n      }\n      return token\n    },\n    async session({ session, token }) {\n      session.accessToken = token.accessToken\n      session.user.id = token.id\n      return session\n    },\n  },\n  pages: {\n    signIn: '/login',\n    error: '/login',\n  },\n}\n</code></pre>"},{"location":"frontend/arquitetura/#middleware-de-protecao","title":"Middleware de Prote\u00e7\u00e3o","text":"<pre><code>// middleware.ts\nimport { withAuth } from 'next-auth/middleware'\n\nexport default withAuth({\n  callbacks: {\n    authorized: ({ token }) =&gt; !!token,\n  },\n})\n\nexport const config = {\n  matcher: [\n    '/dashboard/:path*',\n    '/transacoes/:path*',\n    '/categorias/:path*',\n    '/orcamento/:path*',\n    '/relatorios/:path*',\n    '/fechamento/:path*',\n    '/perfil/:path*',\n  ],\n}\n</code></pre>"},{"location":"frontend/arquitetura/#estilizacao","title":"Estiliza\u00e7\u00e3o","text":""},{"location":"frontend/arquitetura/#tailwind-css","title":"Tailwind CSS","text":"<p>Configura\u00e7\u00e3o customizada com tema do SpendWise:</p> <pre><code>// tailwind.config.js\nmodule.exports = {\n  darkMode: ['class'],\n  content: [\n    './app/**/*.{ts,tsx}',\n    './components/**/*.{ts,tsx}',\n  ],\n  theme: {\n    extend: {\n      colors: {\n        border: 'hsl(var(--border))',\n        background: 'hsl(var(--background))',\n        foreground: 'hsl(var(--foreground))',\n        primary: {\n          DEFAULT: 'hsl(var(--primary))',\n          foreground: 'hsl(var(--primary-foreground))',\n        },\n        // ... mais cores\n      },\n      borderRadius: {\n        lg: 'var(--radius)',\n        md: 'calc(var(--radius) - 2px)',\n        sm: 'calc(var(--radius) - 4px)',\n      },\n    },\n  },\n  plugins: [require('tailwindcss-animate')],\n}\n</code></pre>"},{"location":"frontend/arquitetura/#css-modules-opcional","title":"CSS Modules (Opcional)","text":"<p>Para estilos espec\u00edficos de componente:</p> <pre><code>/* components/Button.module.css */\n.button {\n  @apply px-4 py-2 rounded-lg;\n}\n\n.button--primary {\n  @apply bg-primary text-primary-foreground;\n}\n</code></pre>"},{"location":"frontend/arquitetura/#performance","title":"Performance","text":""},{"location":"frontend/arquitetura/#otimizacoes-implementadas","title":"Otimiza\u00e7\u00f5es Implementadas","text":"<ol> <li>Code Splitting Autom\u00e1tico: Next.js divide o c\u00f3digo por rota</li> <li>Image Optimization: Componente <code>next/image</code> otimiza imagens</li> <li>Font Optimization: Fonte Geist carregada otimizada</li> <li>Bundle Analysis: An\u00e1lise de tamanho do bundle</li> </ol>"},{"location":"frontend/arquitetura/#lazy-loading","title":"Lazy Loading","text":"<pre><code>import dynamic from 'next/dynamic'\n\nconst HeavyComponent = dynamic(\n  () =&gt; import('./HeavyComponent'),\n  { loading: () =&gt; &lt;Skeleton /&gt; }\n)\n</code></pre>"},{"location":"frontend/arquitetura/#memoization","title":"Memoization","text":"<pre><code>import { memo, useMemo, useCallback } from 'react'\n\nexport const ExpensiveComponent = memo(({ data }) =&gt; {\n  const processed = useMemo(\n    () =&gt; processData(data),\n    [data]\n  )\n\n  const handleClick = useCallback(() =&gt; {\n    // handler\n  }, [])\n\n  return &lt;div&gt;{processed}&lt;/div&gt;\n})\n</code></pre>"},{"location":"frontend/arquitetura/#acessibilidade","title":"Acessibilidade","text":""},{"location":"frontend/arquitetura/#principios-wcag","title":"Princ\u00edpios WCAG","text":"<ul> <li>Sem\u00e2ntica HTML: Tags apropriadas</li> <li>ARIA Labels: Atributos de acessibilidade</li> <li>Navega\u00e7\u00e3o por Teclado: Todos os elementos interativos</li> <li>Contraste de Cores: Ratio m\u00ednimo 4.5:1</li> </ul>"},{"location":"frontend/arquitetura/#radix-ui","title":"Radix UI","text":"<p>Todos os componentes shadcn/ui s\u00e3o baseados em Radix UI, que fornece:</p> <ul> <li>Suporte completo a teclado</li> <li>Gerenciamento de foco</li> <li>ARIA attributes autom\u00e1ticos</li> <li>Screen reader support</li> </ul>"},{"location":"frontend/arquitetura/#testes_1","title":"Testes","text":""},{"location":"frontend/arquitetura/#estrategia-de-testes","title":"Estrat\u00e9gia de Testes","text":"<pre><code>                    E2E Tests (Playwright)\n                           \u2191\n                    Integration Tests\n                           \u2191\n                     Unit Tests (Jest)\n</code></pre>"},{"location":"frontend/arquitetura/#testes-unitarios","title":"Testes Unit\u00e1rios","text":"<pre><code>// __tests__/components/Button.test.tsx\nimport { render, screen } from '@testing-library/react'\nimport { Button } from '@/components/ui/button'\n\ndescribe('Button', () =&gt; {\n  it('renders with text', () =&gt; {\n    render(&lt;Button&gt;Click me&lt;/Button&gt;)\n    expect(screen.getByText('Click me')).toBeInTheDocument()\n  })\n})\n</code></pre>"},{"location":"frontend/arquitetura/#testes-e2e","title":"Testes E2E","text":"<pre><code>// e2e/auth/login.spec.ts\nimport { test, expect } from '@playwright/test'\n\ntest('deve fazer login com sucesso', async ({ page }) =&gt; {\n  await page.goto('/login')\n  await page.fill('#email', 'user@test.com')\n  await page.fill('#password', 'password')\n  await page.click('button[type=\"submit\"]')\n\n  await expect(page).toHaveURL('/dashboard')\n})\n</code></pre>"},{"location":"frontend/arquitetura/#build-e-deploy","title":"Build e Deploy","text":""},{"location":"frontend/arquitetura/#build-de-producao","title":"Build de Produ\u00e7\u00e3o","text":"<pre><code>npm run build\n</code></pre> <p>Gera: - P\u00e1ginas est\u00e1ticas (SSG) - Fun\u00e7\u00f5es serverless (SSR) - Assets otimizados</p>"},{"location":"frontend/arquitetura/#docker","title":"Docker","text":"<pre><code>FROM node:18-alpine AS base\n\n# Dependencies\nFROM base AS deps\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci\n\n# Builder\nFROM base AS builder\nWORKDIR /app\nCOPY --from=deps /app/node_modules ./node_modules\nCOPY . .\nRUN npm run build\n\n# Runner\nFROM base AS runner\nWORKDIR /app\nENV NODE_ENV production\n\nCOPY --from=builder /app/public ./public\nCOPY --from=builder /app/.next/standalone ./\nCOPY --from=builder /app/.next/static ./.next/static\n\nEXPOSE 3000\nCMD [\"node\", \"server.js\"]\n</code></pre>"},{"location":"frontend/arquitetura/#variaveis-de-ambiente","title":"Vari\u00e1veis de Ambiente","text":"<pre><code># .env.local\nNEXT_PUBLIC_API_URL=http://localhost:5000/api\nNEXTAUTH_URL=http://localhost:3000\nNEXTAUTH_SECRET=your-secret-key\n</code></pre>"},{"location":"frontend/arquitetura/#proximos-passos","title":"Pr\u00f3ximos Passos","text":"<ol> <li>Implementar React Query: Melhor gerenciamento de cache</li> <li>PWA: Service workers e offline support</li> <li>Internacionaliza\u00e7\u00e3o: Suporte multi-idioma</li> <li>Analytics: Tracking de eventos</li> <li>Error Boundary: Tratamento global de erros</li> </ol>"},{"location":"frontend/backlog/","title":"Product Backlog - Frontend","text":"<p>Informa\u00e7\u00e3o</p> <p>Este documento apresenta o Product Backlog completo do frontend SpendWise, organizado em \u00e9picos e hist\u00f3rias de usu\u00e1rio seguindo metodologias \u00e1geis.</p>"},{"location":"frontend/backlog/#resumo-executivo","title":"Resumo Executivo","text":"M\u00e9trica Valor Status \u00c9picos 10 :material-check-all: 100% Hist\u00f3rias de Usu\u00e1rio 40 :material-check-all: 100% Tarefas T\u00e9cnicas 7 :material-check-all: 100% P\u00e1ginas Implementadas 15 :material-check-all: 100% Componentes React 50+ :material-check-all: 100% Hooks Customizados 8 :material-check-all: 100%"},{"location":"frontend/backlog/#material-shield-account-epico-1-autenticacao-e-seguranca","title":":material-shield-account: \u00c9pico 1: Autentica\u00e7\u00e3o e Seguran\u00e7a","text":""},{"location":"frontend/backlog/#us-001-cadastro-de-novo-usuario","title":"US-001: Cadastro de Novo Usu\u00e1rio","text":"<p>Status: Conclu\u00eddo</p> <p>Como um novo usu\u00e1rio Quero me cadastrar no sistema Para poder gerenciar minhas finan\u00e7as pessoais</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Formul\u00e1rio com campos: Nome, Email, Senha, Confirmar Senha</li> <li>[x] Valida\u00e7\u00e3o de email \u00fanico</li> <li>[x] Valida\u00e7\u00e3o de senha (m\u00ednimo 6 caracteres)</li> <li>[x] Confirma\u00e7\u00e3o de senha deve ser igual \u00e0 senha</li> <li>[x] Feedback visual de sucesso/erro</li> <li>[x] Redirecionamento autom\u00e1tico para dashboard ap\u00f3s cadastro</li> <li>[x] Inputs arredondados (<code>rounded-xl</code>)</li> </ul> <p>Arquivos:</p> <ul> <li><code>app/(auth)/register/page.tsx</code></li> <li><code>lib/api/client.ts</code> (m\u00e9todo <code>register</code>)</li> </ul>"},{"location":"frontend/backlog/#us-002-login-de-usuario","title":"US-002: Login de Usu\u00e1rio","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio cadastrado Quero fazer login no sistema Para acessar minha conta e dados financeiros</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Formul\u00e1rio com campos: Email e Senha</li> <li>[x] Valida\u00e7\u00e3o de credenciais</li> <li>[x] Armazenamento seguro do token JWT no localStorage</li> <li>[x] Redirecionamento para dashboard ap\u00f3s login</li> <li>[x] Link para \"Esqueci minha senha\"</li> <li>[x] Inputs arredondados, bot\u00e3o Google removido</li> </ul> <p>Arquivos:</p> <ul> <li><code>app/(auth)/login/page.tsx</code></li> <li><code>lib/contexts/AuthContext.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-003-recuperacao-de-senha","title":"US-003: Recupera\u00e7\u00e3o de Senha","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio que esqueceu sua senha Quero solicitar a redefini\u00e7\u00e3o da senha Para recuperar o acesso \u00e0 minha conta</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Tela \"Esqueci Senha\" com campo de email</li> <li>[x] Envio de email com token de recupera\u00e7\u00e3o</li> <li>[x] Token v\u00e1lido por 30 minutos</li> <li>[x] Feedback visual ap\u00f3s envio</li> </ul> <p>Arquivos:</p> <ul> <li><code>app/(auth)/esqueci-senha/page.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-004-redefinir-senha","title":"US-004: Redefinir Senha","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio com token de recupera\u00e7\u00e3o Quero redefinir minha senha Para voltar a acessar minha conta</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Tela com campos: Nova Senha e Confirmar Senha</li> <li>[x] Valida\u00e7\u00e3o de token (via query params)</li> <li>[x] Valida\u00e7\u00e3o de senha (m\u00ednimo 6 caracteres)</li> <li>[x] Redirecionamento para login ap\u00f3s sucesso</li> </ul> <p>Arquivos:</p> <ul> <li><code>app/(auth)/redefinir-senha/page.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-005-protecao-de-rotas","title":"US-005: Prote\u00e7\u00e3o de Rotas","text":"<p>Status: Conclu\u00eddo</p> <p>Como desenvolvedor Quero proteger rotas autenticadas Para garantir seguran\u00e7a do sistema</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Middleware que verifica autentica\u00e7\u00e3o</li> <li>[x] Redirecionamento para login se n\u00e3o autenticado</li> <li>[x] Persist\u00eancia de sess\u00e3o (token no localStorage)</li> <li>[x] Logout limpa token e redireciona</li> </ul> <p>Arquivos:</p> <ul> <li><code>middleware.ts</code></li> <li><code>components/auth/protected-route.tsx</code></li> </ul>"},{"location":"frontend/backlog/#material-view-dashboard-epico-2-dashboard-e-visao-geral","title":":material-view-dashboard: \u00c9pico 2: Dashboard e Vis\u00e3o Geral","text":""},{"location":"frontend/backlog/#us-006-visualizar-dashboard-principal","title":"US-006: Visualizar Dashboard Principal","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio autenticado Quero ver um resumo das minhas finan\u00e7as Para ter uma vis\u00e3o geral r\u00e1pida</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] KPIs: Receitas, Despesas, Saldo, % Or\u00e7amento</li> <li>[x] Gr\u00e1fico de evolu\u00e7\u00e3o di\u00e1ria</li> <li>[x] Gr\u00e1fico de pizza por categoria</li> <li>[x] Lista de transa\u00e7\u00f5es recentes (\u00faltimas 5)</li> <li>[x] Alertas de categorias pr\u00f3ximas/acima do limite</li> <li>[x] Seletor de m\u00eas para filtrar dados</li> <li>[x] Design profissional com tema slate/emerald</li> <li>[x] Responsivo (mobile-first)</li> </ul> <p>Arquivos:</p> <ul> <li><code>app/(app)/dashboard/page.tsx</code></li> <li><code>components/charts/daily-evolution-chart.tsx</code></li> <li><code>components/charts/category-donut-chart.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-007-filtrar-dashboard-por-mes","title":"US-007: Filtrar Dashboard por M\u00eas","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero filtrar o dashboard por m\u00eas Para analisar per\u00edodos espec\u00edficos</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Dropdown com \u00faltimos 6 meses</li> <li>[x] Atualiza\u00e7\u00e3o autom\u00e1tica de KPIs ao mudar m\u00eas</li> <li>[x] Atualiza\u00e7\u00e3o de gr\u00e1ficos ao mudar m\u00eas</li> <li>[x] M\u00eas atual selecionado por padr\u00e3o</li> <li>[x] Formato: \"M\u00eas/Ano\" (ex: \"Out/2025\")</li> </ul> <p>Arquivos:</p> <ul> <li><code>components/month-selector.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-008-notificacoes-automaticas-de-limite","title":"US-008: Notifica\u00e7\u00f5es Autom\u00e1ticas de Limite","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero receber notifica\u00e7\u00f5es quando atingir limites Para controlar meus gastos proativamente</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Notifica\u00e7\u00e3o quando atingir 80% do limite</li> <li>[x] Notifica\u00e7\u00e3o quando atingir 100% do limite</li> <li>[x] Notifica\u00e7\u00e3o quando exceder o limite</li> <li>[x] Notifica\u00e7\u00f5es aparecem automaticamente no dashboard</li> <li>[x] \u00cdcone de sino com badge de contagem</li> <li>[x] Painel de notifica\u00e7\u00f5es expans\u00edvel</li> </ul> <p>Arquivos:</p> <ul> <li><code>hooks/use-auto-notifications.ts</code></li> <li><code>components/notifications-dropdown.tsx</code></li> </ul>"},{"location":"frontend/backlog/#material-swap-horizontal-epico-3-gestao-de-transacoes","title":":material-swap-horizontal: \u00c9pico 3: Gest\u00e3o de Transa\u00e7\u00f5es","text":""},{"location":"frontend/backlog/#us-009-listar-transacoes","title":"US-009: Listar Transa\u00e7\u00f5es","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero visualizar todas as minhas transa\u00e7\u00f5es Para acompanhar meu hist\u00f3rico financeiro</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Lista com todas as transa\u00e7\u00f5es</li> <li>[x] Informa\u00e7\u00f5es: Descri\u00e7\u00e3o, Valor, Tipo, Categoria, Data</li> <li>[x] Cores diferentes para receita (verde) e despesa (vermelho)</li> <li>[x] Badge colorido com nome da categoria</li> <li>[x] Loading state durante carregamento</li> </ul> <p>Arquivos:</p> <ul> <li><code>app/(app)/transacoes/page.tsx</code></li> <li><code>hooks/use-transacoes.ts</code></li> </ul>"},{"location":"frontend/backlog/#us-010-criar-nova-transacao","title":"US-010: Criar Nova Transa\u00e7\u00e3o","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero registrar uma nova transa\u00e7\u00e3o Para manter meu hist\u00f3rico atualizado</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Modal com formul\u00e1rio</li> <li>[x] Campos: Descri\u00e7\u00e3o, Valor, Tipo, Categoria, Data, Observa\u00e7\u00f5es</li> <li>[x] Valida\u00e7\u00e3o de campos obrigat\u00f3rios</li> <li>[x] Valida\u00e7\u00e3o de limite de categoria (despesas)</li> <li>[x] Aviso se atingir limite exato</li> <li>[x] Bloqueio se exceder limite</li> <li>[x] Atualiza\u00e7\u00e3o autom\u00e1tica da lista ap\u00f3s cria\u00e7\u00e3o</li> </ul> <p>Arquivos:</p> <ul> <li><code>components/nova-transacao-modal.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-011-editar-transacao","title":"US-011: Editar Transa\u00e7\u00e3o","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero editar uma transa\u00e7\u00e3o existente Para corrigir informa\u00e7\u00f5es incorretas</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Bot\u00e3o de editar em cada transa\u00e7\u00e3o</li> <li>[x] Modal pr\u00e9-preenchido com dados atuais</li> <li>[x] Mesmas valida\u00e7\u00f5es da cria\u00e7\u00e3o</li> <li>[x] Atualiza\u00e7\u00e3o autom\u00e1tica da lista ap\u00f3s edi\u00e7\u00e3o</li> </ul>"},{"location":"frontend/backlog/#us-012-excluir-transacao","title":"US-012: Excluir Transa\u00e7\u00e3o","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero excluir uma transa\u00e7\u00e3o Para remover registros incorretos</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Bot\u00e3o de excluir em cada transa\u00e7\u00e3o</li> <li>[x] Modal de confirma\u00e7\u00e3o antes de excluir</li> <li>[x] Mensagem clara sobre a\u00e7\u00e3o irrevers\u00edvel</li> <li>[x] Atualiza\u00e7\u00e3o autom\u00e1tica da lista ap\u00f3s exclus\u00e3o</li> </ul> <p>Arquivos:</p> <ul> <li><code>components/confirm-delete-transacao-modal.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-013-filtrar-transacoes","title":"US-013: Filtrar Transa\u00e7\u00f5es","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero filtrar transa\u00e7\u00f5es por tipo, categoria e per\u00edodo Para encontrar transa\u00e7\u00f5es espec\u00edficas</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Filtro por tipo (Todos, Receita, Despesa)</li> <li>[x] Filtro por categoria (dropdown com todas)</li> <li>[x] Filtro por per\u00edodo (\u00faltimos 6 meses)</li> <li>[x] Busca por descri\u00e7\u00e3o (campo de texto)</li> <li>[x] Aplica\u00e7\u00e3o de m\u00faltiplos filtros simultaneamente</li> </ul>"},{"location":"frontend/backlog/#us-014-kpis-de-transacoes","title":"US-014: KPIs de Transa\u00e7\u00f5es","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero ver KPIs das transa\u00e7\u00f5es filtradas Para ter insights r\u00e1pidos</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Total de Receitas do per\u00edodo</li> <li>[x] Total de Despesas do per\u00edodo</li> <li>[x] Saldo do per\u00edodo</li> <li>[x] Quantidade total de transa\u00e7\u00f5es</li> <li>[x] Atualiza\u00e7\u00e3o autom\u00e1tica ao filtrar</li> </ul>"},{"location":"frontend/backlog/#material-tag-multiple-epico-4-gestao-de-categorias","title":":material-tag-multiple: \u00c9pico 4: Gest\u00e3o de Categorias","text":""},{"location":"frontend/backlog/#us-015-listar-categorias","title":"US-015: Listar Categorias","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero visualizar todas as minhas categorias Para gerenciar minha organiza\u00e7\u00e3o financeira</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Grid de cards com todas as categorias</li> <li>[x] Informa\u00e7\u00f5es: Nome, Cor, Gasto, Limite, Tipo</li> <li>[x] Barra de progresso visual do gasto vs limite</li> <li>[x] Cores indicativas (verde, amarelo, vermelho)</li> <li>[x] \u00cdcone representativo por categoria</li> </ul> <p>Arquivos:</p> <ul> <li><code>app/(app)/categorias/page.tsx</code></li> <li><code>hooks/use-categorias.ts</code></li> </ul>"},{"location":"frontend/backlog/#us-016-criar-nova-categoria","title":"US-016: Criar Nova Categoria","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero criar uma nova categoria Para organizar melhor minhas transa\u00e7\u00f5es</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Modal com formul\u00e1rio</li> <li>[x] Campos: Nome, Cor (seletor), Limite, Tipo, Prioridade</li> <li>[x] Valida\u00e7\u00e3o de nome \u00fanico</li> <li>[x] Paleta de cores pr\u00e9-definida</li> <li>[x] Atualiza\u00e7\u00e3o autom\u00e1tica da lista ap\u00f3s cria\u00e7\u00e3o</li> </ul> <p>Arquivos:</p> <ul> <li><code>components/nova-categoria-modal.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-017-editar-categoria","title":"US-017: Editar Categoria","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero editar uma categoria existente Para ajustar limites e configura\u00e7\u00f5es</p>"},{"location":"frontend/backlog/#us-018-excluir-categoria","title":"US-018: Excluir Categoria","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero excluir uma categoria Para remover categorias n\u00e3o utilizadas</p> <p>Arquivos:</p> <ul> <li><code>components/confirm-delete-modal.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-019-kpis-de-categorias","title":"US-019: KPIs de Categorias","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero ver totais consolidados das categorias Para entender minha distribui\u00e7\u00e3o de gastos</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Total Or\u00e7ado (soma de todos os limites)</li> <li>[x] Total Gasto (soma de todas as despesas)</li> <li>[x] Total Dispon\u00edvel (or\u00e7ado - gasto)</li> </ul>"},{"location":"frontend/backlog/#us-020-validacao-de-limite-de-categoria","title":"US-020: Valida\u00e7\u00e3o de Limite de Categoria","text":"<p>Status: Conclu\u00eddo</p> <p>Regra de Neg\u00f3cio Cr\u00edtica</p> <p>Como um usu\u00e1rio Quero ser avisado quando atingir o limite de uma categoria Para controlar meus gastos</p> <p>Crit\u00e9rios de Aceita\u00e7\u00e3o:</p> <ul> <li>[x] Permite gastar AT\u00c9 o limite (inclusive)</li> <li>[x] Bloqueia se exceder o limite</li> <li>[x] Avisa com confirma\u00e7\u00e3o se atingir limite exato</li> <li>[x] Toast vermelho se tentar exceder</li> <li>[x] Detalhes do c\u00e1lculo no aviso</li> </ul>"},{"location":"frontend/backlog/#material-chart-box-epico-5-orcamento-mensal","title":":material-chart-box: \u00c9pico 5: Or\u00e7amento Mensal","text":""},{"location":"frontend/backlog/#us-021-visualizar-orcamento-do-mes","title":"US-021: Visualizar Or\u00e7amento do M\u00eas","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero ver o or\u00e7amento do m\u00eas atual Para acompanhar minha execu\u00e7\u00e3o or\u00e7ament\u00e1ria</p> <p>Arquivos:</p> <ul> <li><code>app/(app)/orcamento/page.tsx</code></li> <li><code>hooks/use-orcamento.ts</code></li> </ul>"},{"location":"frontend/backlog/#us-022-estatisticas-de-orcamento","title":"US-022: Estat\u00edsticas de Or\u00e7amento","text":"<p>Status: Conclu\u00eddo</p> <p>Como um usu\u00e1rio Quero ver estat\u00edsticas detalhadas do or\u00e7amento Para analisar minha performance financeira</p> <p>Arquivos:</p> <ul> <li><code>components/budget/budget-overview.tsx</code></li> <li><code>components/budget/weekly-spending-chart.tsx</code></li> </ul>"},{"location":"frontend/backlog/#material-file-chart-epico-6-relatorios","title":":material-file-chart: \u00c9pico 6: Relat\u00f3rios","text":""},{"location":"frontend/backlog/#us-023-relatorio-por-categoria","title":"US-023: Relat\u00f3rio por Categoria","text":"<p>Status: Conclu\u00eddo</p> <p>Arquivos:</p> <ul> <li><code>components/reports/reports-by-category.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-024-relatorio-mensal","title":"US-024: Relat\u00f3rio Mensal","text":"<p>Status: Conclu\u00eddo</p> <p>Arquivos:</p> <ul> <li><code>components/reports/reports-by-month.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-025-comparacao-anual","title":"US-025: Compara\u00e7\u00e3o Anual","text":"<p>Status: Conclu\u00eddo</p> <p>Arquivos:</p> <ul> <li><code>components/charts/yearly-comparison-chart.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-026-exportar-relatorio-pdf","title":"US-026: Exportar Relat\u00f3rio PDF","text":"<p>Status: Conclu\u00eddo</p> <p>Biblioteca: <code>jspdf</code> + <code>jspdf-autotable</code></p>"},{"location":"frontend/backlog/#material-lock-check-epico-7-fechamento-mensal","title":":material-lock-check: \u00c9pico 7: Fechamento Mensal","text":""},{"location":"frontend/backlog/#us-027-fechar-mes","title":"US-027: Fechar M\u00eas","text":"<p>Status: Conclu\u00eddo</p> <p>Arquivos:</p> <ul> <li><code>app/(app)/fechamento/page.tsx</code></li> <li><code>components/closure/monthly-closure-card.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-028-historico-de-fechamentos","title":"US-028: Hist\u00f3rico de Fechamentos","text":"<p>Status: Conclu\u00eddo</p> <p>Arquivos:</p> <ul> <li><code>components/closure/closure-history.tsx</code></li> </ul>"},{"location":"frontend/backlog/#material-account-epico-8-perfil-e-configuracoes","title":":material-account: \u00c9pico 8: Perfil e Configura\u00e7\u00f5es","text":""},{"location":"frontend/backlog/#us-029-visualizar-perfil","title":"US-029: Visualizar Perfil","text":"<p>Status: Conclu\u00eddo</p>"},{"location":"frontend/backlog/#us-030-editar-perfil","title":"US-030: Editar Perfil","text":"<p>Status: Conclu\u00eddo</p>"},{"location":"frontend/backlog/#us-031-configuracoes-do-sistema","title":"US-031: Configura\u00e7\u00f5es do Sistema","text":"<p>Status: Conclu\u00eddo</p> <p>Arquivos:</p> <ul> <li><code>app/(app)/configuracoes/page.tsx</code></li> <li><code>components/theme-toggle.tsx</code></li> </ul>"},{"location":"frontend/backlog/#material-eye-epico-9-pagina-de-demonstracao","title":":material-eye: \u00c9pico 9: P\u00e1gina de Demonstra\u00e7\u00e3o","text":""},{"location":"frontend/backlog/#us-032-landing-page","title":"US-032: Landing Page","text":"<p>Status: Conclu\u00eddo</p> <p>Arquivos:</p> <ul> <li><code>app/page.tsx</code></li> </ul>"},{"location":"frontend/backlog/#us-033-modo-demonstracao","title":"US-033: Modo Demonstra\u00e7\u00e3o","text":"<p>Status: Conclu\u00eddo</p> <p>Arquivos:</p> <ul> <li><code>app/demo/*</code></li> <li><code>components/demo-banner.tsx</code></li> </ul>"},{"location":"frontend/backlog/#material-palette-epico-10-uiux-e-componentes","title":":material-palette: \u00c9pico 10: UI/UX e Componentes","text":""},{"location":"frontend/backlog/#us-034-sistema-de-design","title":"US-034: Sistema de Design","text":"<p>Status: Conclu\u00eddo</p> <p>Arquivos:</p> <ul> <li><code>tailwind.config.js</code></li> <li><code>components/ui/*</code> (40+ componentes)</li> </ul>"},{"location":"frontend/backlog/#us-035-componentes-de-graficos","title":"US-035: Componentes de Gr\u00e1ficos","text":"<p>Status: Conclu\u00eddo</p> <p>Biblioteca: <code>recharts</code></p>"},{"location":"frontend/backlog/#us-036-navegacao-e-layout","title":"US-036: Navega\u00e7\u00e3o e Layout","text":"<p>Status: Conclu\u00eddo</p>"},{"location":"frontend/backlog/#us-037-feedback-visual","title":"US-037: Feedback Visual","text":"<p>Status: Conclu\u00eddo</p> <p>Biblioteca: <code>sonner</code></p>"},{"location":"frontend/backlog/#us-038-responsividade","title":"US-038: Responsividade","text":"<p>Status: Conclu\u00eddo</p>"},{"location":"frontend/backlog/#us-039-tema-claroescuro","title":"US-039: Tema Claro/Escuro","text":"<p>Status: Conclu\u00eddo</p> <p>Biblioteca: <code>next-themes</code></p>"},{"location":"frontend/backlog/#us-040-acessibilidade","title":"US-040: Acessibilidade","text":"<p>Status: Conclu\u00eddo</p>"},{"location":"frontend/backlog/#material-tools-tarefas-tecnicas","title":":material-tools: Tarefas T\u00e9cnicas","text":""},{"location":"frontend/backlog/#tt-001-setup-projeto","title":"TT-001: Setup Projeto","text":"<p>Conclu\u00eddo</p> <p>Next.js + TypeScript + Tailwind CSS + shadcn/ui</p>"},{"location":"frontend/backlog/#tt-002-cliente-api","title":"TT-002: Cliente API","text":"<p>Conclu\u00eddo</p> <p>ApiClient centralizado com autentica\u00e7\u00e3o JWT</p> <p>Arquivos: <code>lib/api/client.ts</code></p>"},{"location":"frontend/backlog/#tt-003-context-api","title":"TT-003: Context API","text":"<p>Conclu\u00eddo</p> <p>AuthContext com persist\u00eancia de token</p> <p>Arquivos: <code>lib/contexts/AuthContext.tsx</code></p>"},{"location":"frontend/backlog/#tt-004-hooks-customizados","title":"TT-004: Hooks Customizados","text":"<p>Conclu\u00eddo</p> <p>8 hooks criados para reutiliza\u00e7\u00e3o de l\u00f3gica</p> <p>Arquivos: <code>hooks/*</code></p>"},{"location":"frontend/backlog/#tt-005-testes-e2e","title":"TT-005: Testes E2E","text":"<p>Conclu\u00eddo</p> <p>Playwright configurado com CI/CD</p> <p>Arquivos: <code>e2e/*</code>, <code>playwright.config.ts</code></p>"},{"location":"frontend/backlog/#tt-006-docker","title":"TT-006: Docker","text":"<p>Conclu\u00eddo</p> <p>Dockerfile otimizado com multi-stage build</p> <p>Arquivos: <code>Dockerfile</code>, <code>docker-compose.yml</code></p>"},{"location":"frontend/backlog/#tt-007-cicd","title":"TT-007: CI/CD","text":"<p>Conclu\u00eddo</p> <p>GitHub Actions com 8 jobs configurados</p> <p>Arquivos: <code>.github/workflows/ci-cd.yml</code></p>"},{"location":"frontend/backlog/#estatisticas-finais","title":"Estat\u00edsticas Finais","text":"<pre><code>pie title Distribui\u00e7\u00e3o de Hist\u00f3rias por \u00c9pico\n    \"Autentica\u00e7\u00e3o\" : 5\n    \"Dashboard\" : 3\n    \"Transa\u00e7\u00f5es\" : 6\n    \"Categorias\" : 6\n    \"Or\u00e7amento\" : 2\n    \"Relat\u00f3rios\" : 4\n    \"Fechamento\" : 2\n    \"Perfil\" : 3\n    \"Demo\" : 2\n    \"UI/UX\" : 7\n</code></pre>"},{"location":"frontend/backlog/#estrutura-de-arquivos","title":"Estrutura de Arquivos","text":"<pre><code>frontend/\n app/\n    (app)/              # 8 p\u00e1ginas autenticadas\n    (auth)/             # 4 p\u00e1ginas de autentica\u00e7\u00e3o\n    demo/               # 7 p\u00e1ginas de demonstra\u00e7\u00e3o\n    page.tsx            # Landing page\n components/\n    ui/                 # 40+ componentes (shadcn/ui)\n    charts/             # 5 gr\u00e1ficos (recharts)\n    [outros]/           # Componentes espec\u00edficos\n hooks/                  # 8 hooks customizados\n lib/\n    api/                # Cliente API\n    contexts/           # Context API\n    utils/              # Utilit\u00e1rios\n e2e/                    # Testes E2E (Playwright)\n</code></pre>"},{"location":"frontend/backlog/#valor-entregue","title":"Valor Entregue","text":""},{"location":"frontend/backlog/#para-o-usuario","title":"Para o Usu\u00e1rio:","text":"<ul> <li>Sistema completo de gest\u00e3o financeira</li> <li>Interface moderna e intuitiva</li> <li>Controle total de receitas e despesas</li> <li>Alertas e notifica\u00e7\u00f5es inteligentes</li> <li>Relat\u00f3rios e an\u00e1lises detalhadas</li> <li>Modo demo para experimentar</li> </ul>"},{"location":"frontend/backlog/#para-o-desenvolvedor","title":"Para o Desenvolvedor:","text":"<ul> <li>C\u00f3digo TypeScript 100% tipado</li> <li>Componentes reutiliz\u00e1veis</li> <li>Testes automatizados</li> <li>CI/CD configurado</li> <li>Docker pronto para produ\u00e7\u00e3o</li> <li>Documenta\u00e7\u00e3o completa</li> </ul>"},{"location":"frontend/componentes/","title":"Componentes do Frontend","text":""},{"location":"frontend/componentes/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>O SpendWise utiliza uma arquitetura de componentes modular baseada em shadcn/ui e Radix UI, garantindo acessibilidade, reutiliza\u00e7\u00e3o e manutenibilidade.</p>"},{"location":"frontend/componentes/#estrutura-de-componentes","title":"Estrutura de Componentes","text":""},{"location":"frontend/componentes/#hierarquia","title":"Hierarquia","text":"<pre><code>components/\n ui/                    # Componentes base (shadcn/ui)\n charts/                # Componentes de visualiza\u00e7\u00e3o\n categories/            # Componentes de categorias\n transactions/          # Componentes de transa\u00e7\u00f5es\n budget/                # Componentes de or\u00e7amento\n closure/               # Componentes de fechamento\n reports/               # Componentes de relat\u00f3rios\n auth/                  # Componentes de autentica\u00e7\u00e3o\n</code></pre>"},{"location":"frontend/componentes/#componentes-base-ui","title":"Componentes Base (UI)","text":""},{"location":"frontend/componentes/#button","title":"Button","text":"<p>Componente de bot\u00e3o com variantes e tamanhos.</p> <pre><code>import { Button } from '@/components/ui/button'\n\n&lt;Button variant=\"default\" size=\"md\"&gt;\n  Clique aqui\n&lt;/Button&gt;\n\n// Variantes: default, destructive, outline, secondary, ghost, link\n// Tamanhos: default, sm, lg, icon\n</code></pre>"},{"location":"frontend/componentes/#input","title":"Input","text":"<p>Campo de entrada de texto com suporte a valida\u00e7\u00e3o.</p> <pre><code>import { Input } from '@/components/ui/input'\n\n&lt;Input\n  type=\"email\"\n  placeholder=\"seu@email.com\"\n  {...register('email')}\n/&gt;\n</code></pre>"},{"location":"frontend/componentes/#dialog","title":"Dialog","text":"<p>Modal para exibi\u00e7\u00e3o de conte\u00fado sobreposto.</p> <pre><code>import {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog'\n\n&lt;Dialog&gt;\n  &lt;DialogTrigger asChild&gt;\n    &lt;Button&gt;Abrir Modal&lt;/Button&gt;\n  &lt;/DialogTrigger&gt;\n  &lt;DialogContent&gt;\n    &lt;DialogHeader&gt;\n      &lt;DialogTitle&gt;T\u00edtulo do Modal&lt;/DialogTitle&gt;\n    &lt;/DialogHeader&gt;\n    &lt;p&gt;Conte\u00fado do modal&lt;/p&gt;\n  &lt;/DialogContent&gt;\n&lt;/Dialog&gt;\n</code></pre>"},{"location":"frontend/componentes/#select","title":"Select","text":"<p>Componente de sele\u00e7\u00e3o dropdown.</p> <pre><code>import {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\n\n&lt;Select onValueChange={setValue}&gt;\n  &lt;SelectTrigger&gt;\n    &lt;SelectValue placeholder=\"Selecione...\" /&gt;\n  &lt;/SelectTrigger&gt;\n  &lt;SelectContent&gt;\n    &lt;SelectItem value=\"opcao1\"&gt;Op\u00e7\u00e3o 1&lt;/SelectItem&gt;\n    &lt;SelectItem value=\"opcao2\"&gt;Op\u00e7\u00e3o 2&lt;/SelectItem&gt;\n  &lt;/SelectContent&gt;\n&lt;/Select&gt;\n</code></pre>"},{"location":"frontend/componentes/#toast","title":"Toast","text":"<p>Sistema de notifica\u00e7\u00f5es tempor\u00e1rias.</p> <pre><code>import { useToast } from '@/hooks/use-toast'\n\nconst { toast } = useToast()\n\ntoast({\n  title: \"Sucesso!\",\n  description: \"Opera\u00e7\u00e3o realizada com sucesso.\",\n  variant: \"default\", // default, destructive\n})\n</code></pre>"},{"location":"frontend/componentes/#card","title":"Card","text":"<p>Container para agrupamento de conte\u00fado.</p> <pre><code>import {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card'\n\n&lt;Card&gt;\n  &lt;CardHeader&gt;\n    &lt;CardTitle&gt;T\u00edtulo&lt;/CardTitle&gt;\n    &lt;CardDescription&gt;Descri\u00e7\u00e3o&lt;/CardDescription&gt;\n  &lt;/CardHeader&gt;\n  &lt;CardContent&gt;\n    &lt;p&gt;Conte\u00fado do card&lt;/p&gt;\n  &lt;/CardContent&gt;\n&lt;/Card&gt;\n</code></pre>"},{"location":"frontend/componentes/#componentes-de-layout","title":"Componentes de Layout","text":""},{"location":"frontend/componentes/#appsidebar","title":"AppSidebar","text":"<p>Barra lateral de navega\u00e7\u00e3o da \u00e1rea autenticada.</p> <p>Localiza\u00e7\u00e3o: <code>components/app-sidebar.tsx</code></p> <p>Funcionalidades: - Navega\u00e7\u00e3o entre p\u00e1ginas - Indicador de p\u00e1gina ativa - Suporte a modo colapsado - Responsivo (drawer em mobile)</p> <pre><code>&lt;AppSidebar&gt;\n  &lt;SidebarNav items={navItems} /&gt;\n&lt;/AppSidebar&gt;\n</code></pre> <p>Itens de Navega\u00e7\u00e3o: - Dashboard - Transa\u00e7\u00f5es - Categorias - Or\u00e7amento - Relat\u00f3rios - Fechamento - Perfil</p>"},{"location":"frontend/componentes/#appheader","title":"AppHeader","text":"<p>Cabe\u00e7alho da aplica\u00e7\u00e3o com informa\u00e7\u00f5es do usu\u00e1rio.</p> <p>Localiza\u00e7\u00e3o: <code>components/app-header.tsx</code></p> <p>Funcionalidades: - Exibi\u00e7\u00e3o do nome do usu\u00e1rio - Dropdown de notifica\u00e7\u00f5es - Toggle de tema (claro/escuro) - Menu de usu\u00e1rio (perfil, logout)</p> <pre><code>&lt;AppHeader&gt;\n  &lt;NotificationsDropdown /&gt;\n  &lt;ThemeToggle /&gt;\n  &lt;UserMenu /&gt;\n&lt;/AppHeader&gt;\n</code></pre>"},{"location":"frontend/componentes/#demosidebar","title":"DemoSidebar","text":"<p>Sidebar espec\u00edfica para o modo demonstra\u00e7\u00e3o.</p> <p>Localiza\u00e7\u00e3o: <code>components/demo-sidebar.tsx</code></p> <p>Diferen\u00e7as: - Sem autentica\u00e7\u00e3o necess\u00e1ria - Dados mockados - Banner de modo demo</p>"},{"location":"frontend/componentes/#componentes-de-graficos","title":"Componentes de Gr\u00e1ficos","text":""},{"location":"frontend/componentes/#dailyevolutionchart","title":"DailyEvolutionChart","text":"<p>Gr\u00e1fico de linha mostrando evolu\u00e7\u00e3o di\u00e1ria de receitas e despesas.</p> <p>Localiza\u00e7\u00e3o: <code>components/charts/daily-evolution-chart.tsx</code></p> <p>Props: <pre><code>interface DailyEvolutionChartProps {\n  selectedMonth: string // formato: \"YYYY-MM\"\n}\n</code></pre></p> <p>Tecnologia: Recharts (LineChart)</p> <p>Dados Exibidos: - Receitas di\u00e1rias (linha verde) - Despesas di\u00e1rias (linha vermelha) - Saldo acumulado (linha azul)</p>"},{"location":"frontend/componentes/#categorydonutchart","title":"CategoryDonutChart","text":"<p>Gr\u00e1fico de rosca mostrando distribui\u00e7\u00e3o de gastos por categoria.</p> <p>Localiza\u00e7\u00e3o: <code>components/charts/category-donut-chart.tsx</code></p> <p>Props: <pre><code>interface CategoryDonutChartProps {\n  selectedMonth: string\n}\n</code></pre></p> <p>Tecnologia: Recharts (PieChart)</p> <p>Funcionalidades: - Cores din\u00e2micas por categoria - Tooltip com valores e percentuais - Legenda interativa</p>"},{"location":"frontend/componentes/#monthlycomparisonchart","title":"MonthlyComparisonChart","text":"<p>Gr\u00e1fico de barras comparando meses.</p> <p>Localiza\u00e7\u00e3o: <code>components/charts/monthly-comparison-chart.tsx</code></p> <p>Tecnologia: Recharts (BarChart)</p> <p>Dados: - Receitas mensais - Despesas mensais - Compara\u00e7\u00e3o ano anterior</p>"},{"location":"frontend/componentes/#yearlycomparisonchart","title":"YearlyComparisonChart","text":"<p>Gr\u00e1fico de linha comparando anos.</p> <p>Localiza\u00e7\u00e3o: <code>components/charts/yearly-comparison-chart.tsx</code></p> <p>Dados: - Evolu\u00e7\u00e3o anual - Compara\u00e7\u00e3o multi-anos - Tend\u00eancias</p>"},{"location":"frontend/componentes/#componentes-de-transacoes","title":"Componentes de Transa\u00e7\u00f5es","text":""},{"location":"frontend/componentes/#novatransacaomodal","title":"NovaTransacaoModal","text":"<p>Modal para cria\u00e7\u00e3o/edi\u00e7\u00e3o de transa\u00e7\u00f5es.</p> <p>Localiza\u00e7\u00e3o: <code>components/nova-transacao-modal.tsx</code></p> <p>Props: <pre><code>interface NovaTransacaoModalProps {\n  isOpen: boolean\n  onClose: () =&gt; void\n  onSubmit?: (data: any) =&gt; void\n  initialData?: {\n    descricao: string\n    valor: number\n    tipo: 'receita' | 'despesa'\n    categoriaId?: string\n  }\n}\n</code></pre></p> <p>Funcionalidades: - Valida\u00e7\u00e3o de formul\u00e1rio (React Hook Form + Zod) - Sele\u00e7\u00e3o de categoria - Tipo (receita/despesa) - Data da transa\u00e7\u00e3o - Valida\u00e7\u00e3o de limite de or\u00e7amento - Confirma\u00e7\u00e3o ao atingir limite exato</p> <p>Valida\u00e7\u00f5es: <pre><code>const schema = z.object({\n  descricao: z.string().min(3, \"M\u00ednimo 3 caracteres\"),\n  valor: z.number().positive(\"Valor deve ser positivo\"),\n  tipo: z.enum(['receita', 'despesa']),\n  categoriaId: z.string().optional(),\n  data: z.date(),\n})\n</code></pre></p> <p>Regra de Neg\u00f3cio - Limite de Or\u00e7amento: 1. Bloqueia se <code>novoTotal &gt; limite</code>: Mostra toast vermelho, n\u00e3o permite salvar 2. Avisa se <code>novoTotal === limite</code>: Mostra confirma\u00e7\u00e3o, permite continuar 3. Permite se <code>novoTotal &lt; limite</code>: Salva direto</p>"},{"location":"frontend/componentes/#transactionstoolbar","title":"TransactionsToolbar","text":"<p>Barra de ferramentas para filtros e a\u00e7\u00f5es em transa\u00e7\u00f5es.</p> <p>Localiza\u00e7\u00e3o: <code>components/transactions/transactions-toolbar.tsx</code></p> <p>Funcionalidades: - Filtro por tipo (receita/despesa/todas) - Filtro por categoria - Filtro por per\u00edodo - Busca por descri\u00e7\u00e3o - Bot\u00e3o de nova transa\u00e7\u00e3o</p>"},{"location":"frontend/componentes/#recenttransactions","title":"RecentTransactions","text":"<p>Lista de transa\u00e7\u00f5es recentes.</p> <p>Localiza\u00e7\u00e3o: <code>components/recent-transactions.tsx</code></p> <p>Props: <pre><code>interface RecentTransactionsProps {\n  limit?: number // padr\u00e3o: 5\n}\n</code></pre></p> <p>Exibi\u00e7\u00e3o: - Descri\u00e7\u00e3o da transa\u00e7\u00e3o - Valor (verde para receita, vermelho para despesa) - Categoria - Data relativa (\"h\u00e1 2 dias\")</p>"},{"location":"frontend/componentes/#componentes-de-categorias","title":"Componentes de Categorias","text":""},{"location":"frontend/componentes/#novacategoriamodal","title":"NovaCategoriaModal","text":"<p>Modal para cria\u00e7\u00e3o/edi\u00e7\u00e3o de categorias.</p> <p>Localiza\u00e7\u00e3o: <code>components/nova-categoria-modal.tsx</code></p> <p>Props: <pre><code>interface NovaCategoriaModalProps {\n  isOpen: boolean\n  onClose: () =&gt; void\n  onSubmit?: (data: any) =&gt; void\n}\n</code></pre></p> <p>Campos: - Nome da categoria - Tipo (essencial/sup\u00e9rfluo) - Limite mensal (opcional) - Cor (seletor de cores)</p>"},{"location":"frontend/componentes/#categoriesgrid","title":"CategoriesGrid","text":"<p>Grid de cards exibindo categorias.</p> <p>Localiza\u00e7\u00e3o: <code>components/categories/categories-grid.tsx</code></p> <p>Funcionalidades: - Exibi\u00e7\u00e3o em grid responsivo - Progresso de gasto vs limite - Indicador visual de status - A\u00e7\u00f5es (editar, excluir)</p> <p>Status: - Verde: &lt; 70% do limite - Amarelo: 70-90% do limite - Vermelho: &gt; 90% do limite</p>"},{"location":"frontend/componentes/#editcategorydialog","title":"EditCategoryDialog","text":"<p>Dialog para edi\u00e7\u00e3o de categoria existente.</p> <p>Localiza\u00e7\u00e3o: <code>components/categories/edit-category-dialog.tsx</code></p> <p>Funcionalidades: - Edi\u00e7\u00e3o de nome - Altera\u00e7\u00e3o de tipo - Ajuste de limite - Mudan\u00e7a de cor</p>"},{"location":"frontend/componentes/#componentes-de-orcamento","title":"Componentes de Or\u00e7amento","text":""},{"location":"frontend/componentes/#budgetoverview","title":"BudgetOverview","text":"<p>Vis\u00e3o geral do or\u00e7amento mensal.</p> <p>Localiza\u00e7\u00e3o: <code>components/budget/budget-overview.tsx</code></p> <p>Exibi\u00e7\u00e3o: - Total de receitas - Total de despesas - Saldo dispon\u00edvel - Progresso geral (barra)</p>"},{"location":"frontend/componentes/#weeklyspendingchart","title":"WeeklySpendingChart","text":"<p>Gr\u00e1fico de gastos semanais.</p> <p>Localiza\u00e7\u00e3o: <code>components/budget/weekly-spending-chart.tsx</code></p> <p>Tecnologia: Recharts (BarChart)</p> <p>Dados: - Gastos por dia da semana - M\u00e9dia di\u00e1ria - Compara\u00e7\u00e3o com semana anterior</p>"},{"location":"frontend/componentes/#componentes-de-fechamento","title":"Componentes de Fechamento","text":""},{"location":"frontend/componentes/#monthlyclosurecard","title":"MonthlyClosureCard","text":"<p>Card de fechamento mensal.</p> <p>Localiza\u00e7\u00e3o: <code>components/closure/monthly-closure-card.tsx</code></p> <p>Props: <pre><code>interface MonthlyClosureCardProps {\n  month: string\n  year: number\n  totalIncome: number\n  totalExpenses: number\n  balance: number\n  status: 'open' | 'closed'\n}\n</code></pre></p> <p>A\u00e7\u00f5es: - Fechar m\u00eas (se aberto) - Reabrir m\u00eas (se fechado) - Visualizar detalhes - Exportar PDF</p>"},{"location":"frontend/componentes/#closurehistory","title":"ClosureHistory","text":"<p>Lista hist\u00f3rica de fechamentos.</p> <p>Localiza\u00e7\u00e3o: <code>components/closure/closure-history.tsx</code></p> <p>Exibi\u00e7\u00e3o: - Meses fechados - Saldos finais - Data de fechamento - Status</p>"},{"location":"frontend/componentes/#componentes-de-relatorios","title":"Componentes de Relat\u00f3rios","text":""},{"location":"frontend/componentes/#reportsbycategory","title":"ReportsByCategory","text":"<p>Relat\u00f3rio de gastos por categoria.</p> <p>Localiza\u00e7\u00e3o: <code>components/reports/reports-by-category.tsx</code></p> <p>Visualiza\u00e7\u00f5es: - Tabela detalhada - Gr\u00e1fico de pizza - Compara\u00e7\u00e3o com m\u00eas anterior</p>"},{"location":"frontend/componentes/#reportsbymonth","title":"ReportsByMonth","text":"<p>Relat\u00f3rio de evolu\u00e7\u00e3o mensal.</p> <p>Localiza\u00e7\u00e3o: <code>components/reports/reports-by-month.tsx</code></p> <p>Visualiza\u00e7\u00f5es: - Gr\u00e1fico de linha temporal - Tabela comparativa - Indicadores de tend\u00eancia</p>"},{"location":"frontend/componentes/#yearcomparison","title":"YearComparison","text":"<p>Compara\u00e7\u00e3o anual de finan\u00e7as.</p> <p>Localiza\u00e7\u00e3o: <code>components/reports/year-comparison.tsx</code></p> <p>Dados: - Receitas anuais - Despesas anuais - Economia anual - Compara\u00e7\u00e3o com anos anteriores</p>"},{"location":"frontend/componentes/#reportstoolbar","title":"ReportsToolbar","text":"<p>Barra de ferramentas para relat\u00f3rios.</p> <p>Localiza\u00e7\u00e3o: <code>components/reports/reports-toolbar.tsx</code></p> <p>Funcionalidades: - Sele\u00e7\u00e3o de per\u00edodo - Filtros de categoria - Exporta\u00e7\u00e3o (PDF, Excel) - Impress\u00e3o</p>"},{"location":"frontend/componentes/#componentes-de-autenticacao","title":"Componentes de Autentica\u00e7\u00e3o","text":""},{"location":"frontend/componentes/#loginform","title":"LoginForm","text":"<p>Formul\u00e1rio de login.</p> <p>Localiza\u00e7\u00e3o: <code>app/(auth)/login/page.tsx</code></p> <p>Campos: - Email - Senha - Lembrar-me (checkbox)</p> <p>Valida\u00e7\u00f5es: - Email v\u00e1lido - Senha m\u00ednimo 6 caracteres</p> <p>Links: - Esqueci minha senha - Criar conta</p>"},{"location":"frontend/componentes/#registerform","title":"RegisterForm","text":"<p>Formul\u00e1rio de registro.</p> <p>Localiza\u00e7\u00e3o: <code>app/(auth)/register/page.tsx</code></p> <p>Campos: - Nome completo - Email - Senha - Confirmar senha</p> <p>Valida\u00e7\u00f5es: - Nome m\u00ednimo 3 caracteres - Email \u00fanico - Senha m\u00ednimo 6 caracteres - Senhas devem coincidir</p>"},{"location":"frontend/componentes/#forgotpasswordform","title":"ForgotPasswordForm","text":"<p>Formul\u00e1rio de recupera\u00e7\u00e3o de senha.</p> <p>Localiza\u00e7\u00e3o: <code>app/(auth)/esqueci-senha/page.tsx</code></p> <p>Fluxo: 1. Usu\u00e1rio informa email 2. Backend envia token por email 3. Usu\u00e1rio acessa link de redefini\u00e7\u00e3o 4. Define nova senha</p>"},{"location":"frontend/componentes/#resetpasswordform","title":"ResetPasswordForm","text":"<p>Formul\u00e1rio de redefini\u00e7\u00e3o de senha.</p> <p>Localiza\u00e7\u00e3o: <code>app/(auth)/redefinir-senha/page.tsx</code></p> <p>Campos: - Nova senha - Confirmar nova senha</p> <p>Valida\u00e7\u00f5es: - Senha m\u00ednimo 6 caracteres - Senhas devem coincidir - Token v\u00e1lido (30 minutos)</p>"},{"location":"frontend/componentes/#componentes-utilitarios","title":"Componentes Utilit\u00e1rios","text":""},{"location":"frontend/componentes/#monthselector","title":"MonthSelector","text":"<p>Seletor de m\u00eas para filtros.</p> <p>Localiza\u00e7\u00e3o: <code>components/month-selector.tsx</code></p> <p>Props: <pre><code>interface MonthSelectorProps {\n  value: string // \"YYYY-MM\"\n  onChange: (value: string) =&gt; void\n}\n</code></pre></p> <p>Funcionalidades: - Navega\u00e7\u00e3o entre meses - Bot\u00e3o \"M\u00eas atual\" - Formato localizado</p>"},{"location":"frontend/componentes/#notificationsdropdown","title":"NotificationsDropdown","text":"<p>Dropdown de notifica\u00e7\u00f5es.</p> <p>Localiza\u00e7\u00e3o: <code>components/notifications-dropdown.tsx</code></p> <p>Funcionalidades: - Badge com contador de n\u00e3o lidas - Lista de notifica\u00e7\u00f5es - Marcar como lida - Limpar todas</p> <p>Tipos de Notifica\u00e7\u00e3o: - Alerta de limite (categoria pr\u00f3xima do limite) - Limite atingido - Fechamento mensal dispon\u00edvel</p>"},{"location":"frontend/componentes/#themetoggle","title":"ThemeToggle","text":"<p>Toggle de tema claro/escuro.</p> <p>Localiza\u00e7\u00e3o: <code>components/theme-toggle.tsx</code></p> <p>Tecnologia: next-themes</p> <p>Estados: - Light - Dark - System (autom\u00e1tico)</p>"},{"location":"frontend/componentes/#confirmdeletemodal","title":"ConfirmDeleteModal","text":"<p>Modal de confirma\u00e7\u00e3o de exclus\u00e3o.</p> <p>Localiza\u00e7\u00e3o: <code>components/confirm-delete-modal.tsx</code></p> <p>Props: <pre><code>interface ConfirmDeleteModalProps {\n  isOpen: boolean\n  onClose: () =&gt; void\n  onConfirm: () =&gt; void\n  title: string\n  description: string\n}\n</code></pre></p> <p>Uso: <pre><code>&lt;ConfirmDeleteModal\n  isOpen={showDelete}\n  onClose={() =&gt; setShowDelete(false)}\n  onConfirm={handleDelete}\n  title=\"Excluir transa\u00e7\u00e3o?\"\n  description=\"Esta a\u00e7\u00e3o n\u00e3o pode ser desfeita.\"\n/&gt;\n</code></pre></p>"},{"location":"frontend/componentes/#padroes-de-composicao","title":"Padr\u00f5es de Composi\u00e7\u00e3o","text":""},{"location":"frontend/componentes/#compound-components","title":"Compound Components","text":"<p>Componentes que trabalham juntos:</p> <pre><code>&lt;Card&gt;\n  &lt;CardHeader&gt;\n    &lt;CardTitle&gt;T\u00edtulo&lt;/CardTitle&gt;\n  &lt;/CardHeader&gt;\n  &lt;CardContent&gt;Conte\u00fado&lt;/CardContent&gt;\n&lt;/Card&gt;\n</code></pre>"},{"location":"frontend/componentes/#render-props","title":"Render Props","text":"<p>Componentes que recebem fun\u00e7\u00e3o como children:</p> <pre><code>&lt;DataFetcher url=\"/api/data\"&gt;\n  {({ data, loading }) =&gt; (\n    loading ? &lt;Spinner /&gt; : &lt;DataView data={data} /&gt;\n  )}\n&lt;/DataFetcher&gt;\n</code></pre>"},{"location":"frontend/componentes/#higher-order-components","title":"Higher-Order Components","text":"<p>Componentes que envolvem outros:</p> <pre><code>export const withAuth = (Component) =&gt; {\n  return (props) =&gt; {\n    const { data: session } = useSession()\n\n    if (!session) {\n      return &lt;Redirect to=\"/login\" /&gt;\n    }\n\n    return &lt;Component {...props} /&gt;\n  }\n}\n</code></pre>"},{"location":"frontend/componentes/#boas-praticas","title":"Boas Pr\u00e1ticas","text":""},{"location":"frontend/componentes/#nomenclatura","title":"Nomenclatura","text":"<ul> <li>PascalCase: Componentes (<code>Button</code>, <code>UserCard</code>)</li> <li>camelCase: Props, fun\u00e7\u00f5es (<code>onClick</code>, <code>isOpen</code>)</li> <li>kebab-case: Arquivos CSS (<code>button.module.css</code>)</li> </ul>"},{"location":"frontend/componentes/#props","title":"Props","text":"<pre><code>// Definir interface para props\ninterface ButtonProps {\n  children: React.ReactNode\n  variant?: 'default' | 'outline'\n  onClick?: () =&gt; void\n}\n\n// Usar destructuring\nexport function Button({ \n  children, \n  variant = 'default',\n  onClick \n}: ButtonProps) {\n  return (\n    &lt;button onClick={onClick}&gt;\n      {children}\n    &lt;/button&gt;\n  )\n}\n</code></pre>"},{"location":"frontend/componentes/#composicao-vs-heranca","title":"Composi\u00e7\u00e3o vs Heran\u00e7a","text":"<p>Preferir composi\u00e7\u00e3o:</p> <pre><code>// BOM\n&lt;Card&gt;\n  &lt;CardHeader&gt;\n    &lt;CardTitle&gt;T\u00edtulo&lt;/CardTitle&gt;\n  &lt;/CardHeader&gt;\n&lt;/Card&gt;\n\n// EVITAR\nclass ExtendedCard extends Card {\n  // ...\n}\n</code></pre>"},{"location":"frontend/componentes/#performance","title":"Performance","text":"<pre><code>// Memoiza\u00e7\u00e3o de componentes\nexport const ExpensiveComponent = memo(({ data }) =&gt; {\n  return &lt;div&gt;{processData(data)}&lt;/div&gt;\n})\n\n// Memoiza\u00e7\u00e3o de valores\nconst processedData = useMemo(\n  () =&gt; processData(data),\n  [data]\n)\n\n// Memoiza\u00e7\u00e3o de callbacks\nconst handleClick = useCallback(() =&gt; {\n  doSomething()\n}, [])\n</code></pre>"},{"location":"frontend/componentes/#testes-de-componentes","title":"Testes de Componentes","text":""},{"location":"frontend/componentes/#teste-unitario","title":"Teste Unit\u00e1rio","text":"<pre><code>import { render, screen } from '@testing-library/react'\nimport { Button } from './button'\n\ndescribe('Button', () =&gt; {\n  it('renders children', () =&gt; {\n    render(&lt;Button&gt;Click me&lt;/Button&gt;)\n    expect(screen.getByText('Click me')).toBeInTheDocument()\n  })\n\n  it('calls onClick when clicked', () =&gt; {\n    const onClick = jest.fn()\n    render(&lt;Button onClick={onClick}&gt;Click&lt;/Button&gt;)\n\n    screen.getByText('Click').click()\n    expect(onClick).toHaveBeenCalledTimes(1)\n  })\n})\n</code></pre>"},{"location":"frontend/componentes/#teste-de-integracao","title":"Teste de Integra\u00e7\u00e3o","text":"<pre><code>import { render, screen, waitFor } from '@testing-library/react'\nimport userEvent from '@testing-library/user-event'\nimport { NovaTransacaoModal } from './nova-transacao-modal'\n\ndescribe('NovaTransacaoModal', () =&gt; {\n  it('submits form with valid data', async () =&gt; {\n    const onSubmit = jest.fn()\n    render(\n      &lt;NovaTransacaoModal \n        isOpen={true} \n        onClose={() =&gt; {}}\n        onSubmit={onSubmit}\n      /&gt;\n    )\n\n    await userEvent.type(\n      screen.getByLabelText('Descri\u00e7\u00e3o'),\n      'Compra de teste'\n    )\n    await userEvent.type(\n      screen.getByLabelText('Valor'),\n      '100'\n    )\n\n    await userEvent.click(screen.getByText('Salvar'))\n\n    await waitFor(() =&gt; {\n      expect(onSubmit).toHaveBeenCalledWith({\n        descricao: 'Compra de teste',\n        valor: 100,\n      })\n    })\n  })\n})\n</code></pre>"},{"location":"frontend/testes/","title":"Testes do Frontend","text":""},{"location":"frontend/testes/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>O frontend do SpendWise implementa uma estrat\u00e9gia de testes em m\u00faltiplas camadas, garantindo qualidade e confiabilidade do c\u00f3digo.</p>"},{"location":"frontend/testes/#piramide-de-testes","title":"Pir\u00e2mide de Testes","text":"<pre><code>           /\\\n          /  \\\n         / E2E \\          Playwright (Poucos)\n        /--------\\\n       /          \\\n      / Integration \\     Testing Library (Alguns)\n     /--------------\\\n    /                \\\n   /   Unit Tests     \\   Jest (Muitos)\n  /--------------------\\\n</code></pre>"},{"location":"frontend/testes/#testes-unitarios-jest","title":"Testes Unit\u00e1rios (Jest)","text":""},{"location":"frontend/testes/#configuracao","title":"Configura\u00e7\u00e3o","text":"<p>Arquivo: <code>jest.config.js</code></p> <pre><code>const nextJest = require('next/jest')\n\nconst createJestConfig = nextJest({\n  dir: './',\n})\n\nconst customJestConfig = {\n  setupFilesAfterEnv: ['&lt;rootDir&gt;/jest.setup.js'],\n  testEnvironment: 'jest-environment-jsdom',\n  moduleNameMapper: {\n    '^@/(.*)$': '&lt;rootDir&gt;/$1',\n  },\n  collectCoverageFrom: [\n    'app/**/*.{js,jsx,ts,tsx}',\n    'components/**/*.{js,jsx,ts,tsx}',\n    'hooks/**/*.{js,jsx,ts,tsx}',\n    'lib/**/*.{js,jsx,ts,tsx}',\n    '!**/*.d.ts',\n    '!**/node_modules/**',\n    '!**/.next/**',\n  ],\n  coverageThreshold: {\n    global: {\n      branches: 70,\n      functions: 70,\n      lines: 70,\n      statements: 70,\n    },\n  },\n}\n\nmodule.exports = createJestConfig(customJestConfig)\n</code></pre> <p>Arquivo: <code>jest.setup.js</code></p> <pre><code>import '@testing-library/jest-dom'\n</code></pre>"},{"location":"frontend/testes/#comandos","title":"Comandos","text":"<pre><code># Executar todos os testes\nnpm run test\n\n# Executar em modo watch\nnpm run test:watch\n\n# Gerar relat\u00f3rio de cobertura\nnpm run test:coverage\n</code></pre>"},{"location":"frontend/testes/#testes-de-componentes","title":"Testes de Componentes","text":""},{"location":"frontend/testes/#componente-simples","title":"Componente Simples","text":"<pre><code>// __tests__/components/ui/button.test.tsx\nimport { render, screen } from '@testing-library/react'\nimport userEvent from '@testing-library/user-event'\nimport { Button } from '@/components/ui/button'\n\ndescribe('Button', () =&gt; {\n  it('renderiza com texto', () =&gt; {\n    render(&lt;Button&gt;Clique aqui&lt;/Button&gt;)\n    expect(screen.getByText('Clique aqui')).toBeInTheDocument()\n  })\n\n  it('chama onClick quando clicado', async () =&gt; {\n    const handleClick = jest.fn()\n    render(&lt;Button onClick={handleClick}&gt;Clique&lt;/Button&gt;)\n\n    await userEvent.click(screen.getByText('Clique'))\n    expect(handleClick).toHaveBeenCalledTimes(1)\n  })\n\n  it('aplica variante corretamente', () =&gt; {\n    render(&lt;Button variant=\"destructive\"&gt;Excluir&lt;/Button&gt;)\n    const button = screen.getByText('Excluir')\n    expect(button).toHaveClass('bg-destructive')\n  })\n\n  it('desabilita quando disabled', () =&gt; {\n    render(&lt;Button disabled&gt;Desabilitado&lt;/Button&gt;)\n    expect(screen.getByText('Desabilitado')).toBeDisabled()\n  })\n})\n</code></pre>"},{"location":"frontend/testes/#componente-com-estado","title":"Componente com Estado","text":"<pre><code>// __tests__/components/month-selector.test.tsx\nimport { render, screen } from '@testing-library/react'\nimport userEvent from '@testing-library/user-event'\nimport { MonthSelector } from '@/components/month-selector'\n\ndescribe('MonthSelector', () =&gt; {\n  it('exibe m\u00eas selecionado', () =&gt; {\n    render(\n      &lt;MonthSelector \n        value=\"2024-01\" \n        onChange={() =&gt; {}} \n      /&gt;\n    )\n    expect(screen.getByText('Janeiro 2024')).toBeInTheDocument()\n  })\n\n  it('chama onChange ao navegar', async () =&gt; {\n    const handleChange = jest.fn()\n    render(\n      &lt;MonthSelector \n        value=\"2024-01\" \n        onChange={handleChange} \n      /&gt;\n    )\n\n    await userEvent.click(screen.getByLabelText('Pr\u00f3ximo m\u00eas'))\n    expect(handleChange).toHaveBeenCalledWith('2024-02')\n  })\n\n  it('volta ao m\u00eas atual', async () =&gt; {\n    const handleChange = jest.fn()\n    const hoje = new Date()\n    const mesAtual = `${hoje.getFullYear()}-${String(hoje.getMonth() + 1).padStart(2, '0')}`\n\n    render(\n      &lt;MonthSelector \n        value=\"2024-01\" \n        onChange={handleChange} \n      /&gt;\n    )\n\n    await userEvent.click(screen.getByText('M\u00eas atual'))\n    expect(handleChange).toHaveBeenCalledWith(mesAtual)\n  })\n})\n</code></pre>"},{"location":"frontend/testes/#componente-com-formulario","title":"Componente com Formul\u00e1rio","text":"<pre><code>// __tests__/components/nova-transacao-modal.test.tsx\nimport { render, screen, waitFor } from '@testing-library/react'\nimport userEvent from '@testing-library/user-event'\nimport { NovaTransacaoModal } from '@/components/nova-transacao-modal'\n\ndescribe('NovaTransacaoModal', () =&gt; {\n  const mockOnSubmit = jest.fn()\n  const mockOnClose = jest.fn()\n\n  beforeEach(() =&gt; {\n    jest.clearAllMocks()\n  })\n\n  it('valida campos obrigat\u00f3rios', async () =&gt; {\n    render(\n      &lt;NovaTransacaoModal\n        isOpen={true}\n        onClose={mockOnClose}\n        onSubmit={mockOnSubmit}\n      /&gt;\n    )\n\n    await userEvent.click(screen.getByText('Salvar'))\n\n    await waitFor(() =&gt; {\n      expect(screen.getByText('Descri\u00e7\u00e3o \u00e9 obrigat\u00f3ria')).toBeInTheDocument()\n      expect(screen.getByText('Valor \u00e9 obrigat\u00f3rio')).toBeInTheDocument()\n    })\n\n    expect(mockOnSubmit).not.toHaveBeenCalled()\n  })\n\n  it('submete formul\u00e1rio com dados v\u00e1lidos', async () =&gt; {\n    render(\n      &lt;NovaTransacaoModal\n        isOpen={true}\n        onClose={mockOnClose}\n        onSubmit={mockOnSubmit}\n      /&gt;\n    )\n\n    await userEvent.type(\n      screen.getByLabelText('Descri\u00e7\u00e3o'),\n      'Compra de teste'\n    )\n    await userEvent.type(\n      screen.getByLabelText('Valor'),\n      '100.50'\n    )\n    await userEvent.click(screen.getByLabelText('Despesa'))\n\n    await userEvent.click(screen.getByText('Salvar'))\n\n    await waitFor(() =&gt; {\n      expect(mockOnSubmit).toHaveBeenCalledWith({\n        descricao: 'Compra de teste',\n        valor: 100.50,\n        tipo: 'despesa',\n        data: expect.any(Date),\n      })\n    })\n  })\n\n  it('preenche com dados iniciais ao editar', () =&gt; {\n    render(\n      &lt;NovaTransacaoModal\n        isOpen={true}\n        onClose={mockOnClose}\n        onSubmit={mockOnSubmit}\n        initialData={{\n          descricao: 'Transa\u00e7\u00e3o existente',\n          valor: 50,\n          tipo: 'receita',\n        }}\n      /&gt;\n    )\n\n    expect(screen.getByLabelText('Descri\u00e7\u00e3o')).toHaveValue('Transa\u00e7\u00e3o existente')\n    expect(screen.getByLabelText('Valor')).toHaveValue('50')\n    expect(screen.getByLabelText('Receita')).toBeChecked()\n  })\n})\n</code></pre>"},{"location":"frontend/testes/#testes-de-hooks","title":"Testes de Hooks","text":"<pre><code>// __tests__/hooks/use-transacoes.test.ts\nimport { renderHook, waitFor } from '@testing-library/react'\nimport { useTransacoes } from '@/hooks/use-transacoes'\nimport * as api from '@/lib/api/client'\n\njest.mock('@/lib/api/client')\n\ndescribe('useTransacoes', () =&gt; {\n  const mockTransacoes = [\n    {\n      id: '1',\n      descricao: 'Teste 1',\n      valor: 100,\n      tipo: 'Receita',\n      data: '2024-01-01',\n    },\n    {\n      id: '2',\n      descricao: 'Teste 2',\n      valor: 50,\n      tipo: 'Despesa',\n      data: '2024-01-02',\n    },\n  ]\n\n  beforeEach(() =&gt; {\n    jest.clearAllMocks()\n    ;(api.apiClient as jest.Mock).mockResolvedValue(mockTransacoes)\n  })\n\n  it('carrega transa\u00e7\u00f5es na montagem', async () =&gt; {\n    const { result } = renderHook(() =&gt; useTransacoes())\n\n    expect(result.current.loading).toBe(true)\n\n    await waitFor(() =&gt; {\n      expect(result.current.loading).toBe(false)\n    })\n\n    expect(result.current.transacoes).toEqual(mockTransacoes)\n  })\n\n  it('cria nova transa\u00e7\u00e3o', async () =&gt; {\n    const novaTransacao = {\n      id: '3',\n      descricao: 'Nova',\n      valor: 200,\n      tipo: 'Receita',\n      data: '2024-01-03',\n    }\n\n    ;(api.apiClient as jest.Mock)\n      .mockResolvedValueOnce(mockTransacoes)\n      .mockResolvedValueOnce(novaTransacao)\n\n    const { result } = renderHook(() =&gt; useTransacoes())\n\n    await waitFor(() =&gt; {\n      expect(result.current.loading).toBe(false)\n    })\n\n    await result.current.criar({\n      descricao: 'Nova',\n      valor: 200,\n      tipo: 'Receita',\n      data: '2024-01-03',\n    })\n\n    expect(result.current.transacoes).toHaveLength(3)\n    expect(result.current.transacoes[2]).toEqual(novaTransacao)\n  })\n\n  it('exclui transa\u00e7\u00e3o', async () =&gt; {\n    ;(api.apiClient as jest.Mock)\n      .mockResolvedValueOnce(mockTransacoes)\n      .mockResolvedValueOnce({})\n\n    const { result } = renderHook(() =&gt; useTransacoes())\n\n    await waitFor(() =&gt; {\n      expect(result.current.loading).toBe(false)\n    })\n\n    await result.current.excluir('1')\n\n    expect(result.current.transacoes).toHaveLength(1)\n    expect(result.current.transacoes[0].id).toBe('2')\n  })\n\n  it('trata erro ao carregar', async () =&gt; {\n    const erro = new Error('Erro de rede')\n    ;(api.apiClient as jest.Mock).mockRejectedValue(erro)\n\n    const { result } = renderHook(() =&gt; useTransacoes())\n\n    await waitFor(() =&gt; {\n      expect(result.current.loading).toBe(false)\n    })\n\n    expect(result.current.error).toBe('Erro de rede')\n  })\n})\n</code></pre>"},{"location":"frontend/testes/#testes-de-utilidades","title":"Testes de Utilidades","text":"<pre><code>// __tests__/lib/utils.test.ts\nimport { cn, formatCurrency, formatDate } from '@/lib/utils'\n\ndescribe('Utils', () =&gt; {\n  describe('cn', () =&gt; {\n    it('combina classes', () =&gt; {\n      expect(cn('class1', 'class2')).toBe('class1 class2')\n    })\n\n    it('remove classes duplicadas', () =&gt; {\n      expect(cn('class1', 'class1')).toBe('class1')\n    })\n\n    it('ignora valores falsy', () =&gt; {\n      expect(cn('class1', false, null, undefined, 'class2')).toBe('class1 class2')\n    })\n  })\n\n  describe('formatCurrency', () =&gt; {\n    it('formata valor positivo', () =&gt; {\n      expect(formatCurrency(1234.56)).toBe('R$ 1.234,56')\n    })\n\n    it('formata valor negativo', () =&gt; {\n      expect(formatCurrency(-1234.56)).toBe('-R$ 1.234,56')\n    })\n\n    it('formata zero', () =&gt; {\n      expect(formatCurrency(0)).toBe('R$ 0,00')\n    })\n  })\n\n  describe('formatDate', () =&gt; {\n    it('formata data', () =&gt; {\n      const date = new Date('2024-01-15')\n      expect(formatDate(date)).toBe('15/01/2024')\n    })\n\n    it('formata data relativa', () =&gt; {\n      const hoje = new Date()\n      expect(formatDate(hoje, { relative: true })).toBe('hoje')\n    })\n  })\n})\n</code></pre>"},{"location":"frontend/testes/#testes-de-integracao-testing-library","title":"Testes de Integra\u00e7\u00e3o (Testing Library)","text":""},{"location":"frontend/testes/#teste-de-fluxo-completo","title":"Teste de Fluxo Completo","text":"<pre><code>// __tests__/integration/transacoes-flow.test.tsx\nimport { render, screen, waitFor } from '@testing-library/react'\nimport userEvent from '@testing-library/user-event'\nimport { TransacoesPage } from '@/app/(app)/transacoes/page'\nimport * as api from '@/lib/api/client'\n\njest.mock('@/lib/api/client')\njest.mock('next-auth/react', () =&gt; ({\n  useSession: () =&gt; ({ data: { user: { id: '1' } }, status: 'authenticated' }),\n}))\n\ndescribe('Fluxo de Transa\u00e7\u00f5es', () =&gt; {\n  beforeEach(() =&gt; {\n    ;(api.apiClient as jest.Mock).mockResolvedValue([])\n  })\n\n  it('cria, edita e exclui transa\u00e7\u00e3o', async () =&gt; {\n    const mockTransacao = {\n      id: '1',\n      descricao: 'Compra teste',\n      valor: 100,\n      tipo: 'Despesa',\n      data: '2024-01-01',\n    }\n\n    ;(api.apiClient as jest.Mock)\n      .mockResolvedValueOnce([]) // GET inicial\n      .mockResolvedValueOnce(mockTransacao) // POST criar\n      .mockResolvedValueOnce({ ...mockTransacao, descricao: 'Editada' }) // PUT editar\n      .mockResolvedValueOnce({}) // DELETE excluir\n\n    render(&lt;TransacoesPage /&gt;)\n\n    // Aguardar carregamento\n    await waitFor(() =&gt; {\n      expect(screen.queryByText('Carregando...')).not.toBeInTheDocument()\n    })\n\n    // Criar transa\u00e7\u00e3o\n    await userEvent.click(screen.getByText('Nova Transa\u00e7\u00e3o'))\n    await userEvent.type(screen.getByLabelText('Descri\u00e7\u00e3o'), 'Compra teste')\n    await userEvent.type(screen.getByLabelText('Valor'), '100')\n    await userEvent.click(screen.getByText('Salvar'))\n\n    await waitFor(() =&gt; {\n      expect(screen.getByText('Compra teste')).toBeInTheDocument()\n    })\n\n    // Editar transa\u00e7\u00e3o\n    await userEvent.click(screen.getByLabelText('Editar'))\n    await userEvent.clear(screen.getByLabelText('Descri\u00e7\u00e3o'))\n    await userEvent.type(screen.getByLabelText('Descri\u00e7\u00e3o'), 'Editada')\n    await userEvent.click(screen.getByText('Salvar'))\n\n    await waitFor(() =&gt; {\n      expect(screen.getByText('Editada')).toBeInTheDocument()\n    })\n\n    // Excluir transa\u00e7\u00e3o\n    await userEvent.click(screen.getByLabelText('Excluir'))\n    await userEvent.click(screen.getByText('Confirmar'))\n\n    await waitFor(() =&gt; {\n      expect(screen.queryByText('Editada')).not.toBeInTheDocument()\n    })\n  })\n})\n</code></pre>"},{"location":"frontend/testes/#testes-end-to-end-playwright","title":"Testes End-to-End (Playwright)","text":""},{"location":"frontend/testes/#configuracao_1","title":"Configura\u00e7\u00e3o","text":"<p>Arquivo: <code>playwright.config.ts</code></p> <pre><code>import { defineConfig, devices } from '@playwright/test'\n\nexport default defineConfig({\n  testDir: './e2e',\n  fullyParallel: true,\n  forbidOnly: !!process.env.CI,\n  retries: process.env.CI ? 2 : 0,\n  workers: process.env.CI ? 1 : undefined,\n  reporter: 'html',\n  use: {\n    baseURL: process.env.BASE_URL || 'http://localhost:3000',\n    trace: 'on-first-retry',\n    screenshot: 'only-on-failure',\n  },\n  projects: [\n    {\n      name: 'setup',\n      testMatch: /.*\\.setup\\.ts/,\n    },\n    {\n      name: 'chromium',\n      use: { ...devices['Desktop Chrome'] },\n      dependencies: ['setup'],\n    },\n  ],\n  webServer: {\n    command: 'npm run dev',\n    url: 'http://localhost:3000',\n    reuseExistingServer: !process.env.CI,\n  },\n})\n</code></pre>"},{"location":"frontend/testes/#comandos_1","title":"Comandos","text":"<pre><code># Executar testes E2E\nnpm run test:e2e\n\n# Executar com UI\nnpm run test:e2e:ui\n\n# Executar em modo debug\nnpm run test:e2e:debug\n\n# Ver relat\u00f3rio\nnpm run test:e2e:report\n</code></pre>"},{"location":"frontend/testes/#setup-de-autenticacao","title":"Setup de Autentica\u00e7\u00e3o","text":"<pre><code>// e2e/setup/auth.setup.ts\nimport { test as setup } from '@playwright/test'\n\nsetup('criar usu\u00e1rio de teste', async ({ request }) =&gt; {\n  try {\n    await request.post(`${process.env.API_URL}/auth/register`, {\n      data: {\n        nome: 'Ana Silva',\n        email: 'ana@teste.com',\n        senha: 'Senha@123',\n        confirmarSenha: 'Senha@123',\n      },\n    })\n  } catch (error) {\n    console.warn('Usu\u00e1rio j\u00e1 existe ou erro ao criar:', error)\n  }\n})\n</code></pre>"},{"location":"frontend/testes/#helper-de-login","title":"Helper de Login","text":"<pre><code>// e2e/helpers/auth.helper.ts\nimport { Page } from '@playwright/test'\n\nexport async function doLogin(page: Page) {\n  await page.goto('/login')\n  await page.fill('#email', 'ana@teste.com')\n  await page.fill('#password', 'Senha@123')\n  await page.click('button[type=\"submit\"]:has-text(\"Entrar\")')\n  await page.waitForLoadState('networkidle')\n  await page.waitForURL('/dashboard', { timeout: 15000 })\n}\n</code></pre>"},{"location":"frontend/testes/#testes-de-autenticacao","title":"Testes de Autentica\u00e7\u00e3o","text":"<pre><code>// e2e/auth/login.spec.ts\nimport { test, expect } from '@playwright/test'\n\ntest.describe('Login', () =&gt; {\n  test('deve fazer login com sucesso', async ({ page }) =&gt; {\n    await page.goto('/login')\n    await page.fill('#email', 'ana@teste.com')\n    await page.fill('#password', 'Senha@123')\n    await page.click('button[type=\"submit\"]:has-text(\"Entrar\")')\n\n    await expect(page).toHaveURL('/dashboard', { timeout: 10000 })\n    await expect(page.getByRole('heading', { name: /dashboard/i })).toBeVisible()\n  })\n\n  test('deve exibir erro com credenciais inv\u00e1lidas', async ({ page }) =&gt; {\n    await page.goto('/login')\n    await page.fill('#email', 'invalido@teste.com')\n    await page.fill('#password', 'senhaerrada')\n    await page.click('button[type=\"submit\"]:has-text(\"Entrar\")')\n\n    await expect(page.getByText(/credenciais inv\u00e1lidas/i)).toBeVisible()\n  })\n\n  test('deve validar campos obrigat\u00f3rios', async ({ page }) =&gt; {\n    await page.goto('/login')\n    await page.click('button[type=\"submit\"]:has-text(\"Entrar\")')\n\n    await expect(page.getByText(/email \u00e9 obrigat\u00f3rio/i)).toBeVisible()\n    await expect(page.getByText(/senha \u00e9 obrigat\u00f3ria/i)).toBeVisible()\n  })\n})\n</code></pre>"},{"location":"frontend/testes/#testes-de-transacoes","title":"Testes de Transa\u00e7\u00f5es","text":"<pre><code>// e2e/transacoes/criar-transacao.spec.ts\nimport { test, expect } from '@playwright/test'\nimport { doLogin } from '../helpers/auth.helper'\n\ntest.describe('Criar Transa\u00e7\u00e3o', () =&gt; {\n  test.beforeEach(async ({ page }) =&gt; {\n    await doLogin(page)\n  })\n\n  test('deve criar despesa com sucesso', async ({ page }) =&gt; {\n    await page.goto('/transacoes')\n    await page.click('button:has-text(\"Nova Transa\u00e7\u00e3o\")')\n\n    await page.fill('input[name=\"descricao\"]', 'Compra de teste E2E')\n    await page.fill('input[name=\"valor\"]', '150.50')\n    await page.click('label:has-text(\"Despesa\")')\n\n    await page.click('button:has-text(\"Salvar\")')\n\n    await expect(page.getByText('Compra de teste E2E')).toBeVisible()\n    await expect(page.getByText('R$ 150,50')).toBeVisible()\n  })\n\n  test('deve validar campos obrigat\u00f3rios', async ({ page }) =&gt; {\n    await page.goto('/transacoes')\n    await page.click('button:has-text(\"Nova Transa\u00e7\u00e3o\")')\n    await page.click('button:has-text(\"Salvar\")')\n\n    await expect(page.getByText(/descri\u00e7\u00e3o \u00e9 obrigat\u00f3ria/i)).toBeVisible()\n    await expect(page.getByText(/valor \u00e9 obrigat\u00f3rio/i)).toBeVisible()\n  })\n})\n</code></pre>"},{"location":"frontend/testes/#testes-de-fechamento","title":"Testes de Fechamento","text":"<pre><code>// e2e/fechamento/fechar-mes.spec.ts\nimport { test, expect } from '@playwright/test'\nimport { doLogin } from '../helpers/auth.helper'\n\ntest.describe('Fechamento Mensal', () =&gt; {\n  test.beforeEach(async ({ page }) =&gt; {\n    await doLogin(page)\n  })\n\n  test('deve exibir p\u00e1gina de fechamento corretamente', async ({ page }) =&gt; {\n    await page.goto('/fechamento')\n\n    await expect(page.getByRole('heading', { name: /fechamento mensal/i })).toBeVisible()\n    await expect(page.getByText(/total de receitas/i)).toBeVisible()\n    await expect(page.getByText(/total de despesas/i)).toBeVisible()\n  })\n\n  test('deve fechar m\u00eas com sucesso', async ({ page }) =&gt; {\n    await page.goto('/fechamento')\n\n    const mesAtual = new Date().toLocaleDateString('pt-BR', { \n      month: 'long', \n      year: 'numeric' \n    })\n\n    await page.click(`button:has-text(\"Fechar ${mesAtual}\")`)\n    await page.click('button:has-text(\"Confirmar\")')\n\n    await expect(page.getByText(/m\u00eas fechado com sucesso/i)).toBeVisible()\n  })\n})\n</code></pre>"},{"location":"frontend/testes/#cobertura-de-testes","title":"Cobertura de Testes","text":""},{"location":"frontend/testes/#metricas-alvo","title":"M\u00e9tricas Alvo","text":"<ul> <li>Statements: &gt;= 70%</li> <li>Branches: &gt;= 70%</li> <li>Functions: &gt;= 70%</li> <li>Lines: &gt;= 70%</li> </ul>"},{"location":"frontend/testes/#visualizar-cobertura","title":"Visualizar Cobertura","text":"<pre><code>npm run test:coverage\n</code></pre> <p>Relat\u00f3rio gerado em: <code>coverage/lcov-report/index.html</code></p>"},{"location":"frontend/testes/#areas-criticas","title":"\u00c1reas Cr\u00edticas","text":"<p>Priorizar cobertura em:</p> <ol> <li>L\u00f3gica de Neg\u00f3cio: Valida\u00e7\u00f5es, c\u00e1lculos</li> <li>Componentes Principais: Formul\u00e1rios, modais</li> <li>Hooks Customizados: useTransacoes, useCategorias</li> <li>Utilidades: Formata\u00e7\u00e3o, valida\u00e7\u00e3o</li> <li>Integra\u00e7\u00e3o API: Chamadas HTTP</li> </ol>"},{"location":"frontend/testes/#mocks-e-fixtures","title":"Mocks e Fixtures","text":""},{"location":"frontend/testes/#mock-de-nextauth","title":"Mock de NextAuth","text":"<pre><code>// __tests__/mocks/next-auth.ts\njest.mock('next-auth/react', () =&gt; ({\n  useSession: jest.fn(() =&gt; ({\n    data: {\n      user: {\n        id: '1',\n        name: 'Teste User',\n        email: 'teste@example.com',\n      },\n      accessToken: 'mock-token',\n    },\n    status: 'authenticated',\n  })),\n  signIn: jest.fn(),\n  signOut: jest.fn(),\n}))\n</code></pre>"},{"location":"frontend/testes/#mock-de-api-client","title":"Mock de API Client","text":"<pre><code>// __tests__/mocks/api-client.ts\njest.mock('@/lib/api/client', () =&gt; ({\n  apiClient: jest.fn(),\n}))\n</code></pre>"},{"location":"frontend/testes/#fixtures-de-dados","title":"Fixtures de Dados","text":"<pre><code>// __tests__/fixtures/transacoes.ts\nexport const mockTransacoes = [\n  {\n    id: '1',\n    descricao: 'Sal\u00e1rio',\n    valor: 5000,\n    tipo: 'Receita',\n    data: '2024-01-01',\n  },\n  {\n    id: '2',\n    descricao: 'Aluguel',\n    valor: 1500,\n    tipo: 'Despesa',\n    data: '2024-01-05',\n    categoria: 'Moradia',\n  },\n]\n</code></pre>"},{"location":"frontend/testes/#cicd","title":"CI/CD","text":""},{"location":"frontend/testes/#github-actions","title":"GitHub Actions","text":"<pre><code># .github/workflows/ci-cd.yml\ntest-unit:\n  name: Unit Tests\n  runs-on: ubuntu-latest\n  steps:\n    - uses: actions/checkout@v4\n    - uses: actions/setup-node@v4\n      with:\n        node-version: '18.x'\n    - run: npm ci\n    - run: npm run test:coverage\n    - uses: codecov/codecov-action@v3\n      with:\n        files: ./coverage/lcov.info\n\ntest-e2e:\n  name: E2E Tests\n  runs-on: ubuntu-latest\n  steps:\n    - uses: actions/checkout@v4\n    - uses: actions/setup-node@v4\n    - run: npm ci\n    - run: npx playwright install --with-deps\n    - run: npm run test:e2e\n    - uses: actions/upload-artifact@v4\n      if: always()\n      with:\n        name: playwright-report\n        path: playwright-report/\n</code></pre>"},{"location":"frontend/testes/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ol> <li>Teste comportamento, n\u00e3o implementa\u00e7\u00e3o</li> <li>Use data-testid apenas quando necess\u00e1rio</li> <li>Prefira queries por role e texto</li> <li>Mantenha testes independentes</li> <li>Limpe estado entre testes</li> <li>Use mocks com modera\u00e7\u00e3o</li> <li>Teste casos de erro</li> <li>Mantenha testes r\u00e1pidos</li> <li>Documente testes complexos</li> <li>Revise cobertura regularmente</li> </ol>"},{"location":"guides/contributing/","title":"Guia de Contribui\u00e7\u00e3o","text":""},{"location":"guides/contributing/#como-contribuir-com-o-spendwise","title":"Como Contribuir com o SpendWise","text":"<p>Obrigado pelo interesse em contribuir com o SpendWise! Este guia ir\u00e1 te ajudar a come\u00e7ar.</p>"},{"location":"guides/contributing/#primeiros-passos","title":"Primeiros Passos","text":""},{"location":"guides/contributing/#1-fork-e-clone","title":"1. Fork e Clone","text":"<pre><code># Fork o reposit\u00f3rio no GitHub\n# Clone seu fork\ngit clone https://github.com/SEU_USUARIO/SpendWise.git\ncd SpendWise\n\n# Adicione o reposit\u00f3rio original como upstream\ngit remote add upstream https://github.com/MateusOrlando/SpendWise.git\n</code></pre>"},{"location":"guides/contributing/#2-configurar-ambiente","title":"2. Configurar Ambiente","text":"<p>Siga o Guia de Setup para configurar o ambiente local.</p>"},{"location":"guides/contributing/#3-criar-branch","title":"3. Criar Branch","text":"<pre><code># Sempre crie uma branch para suas mudan\u00e7as\ngit checkout -b feature/nome-da-funcionalidade\n# ou\ngit checkout -b fix/nome-do-bug\n</code></pre>"},{"location":"guides/contributing/#padroes-de-codigo","title":"Padr\u00f5es de C\u00f3digo","text":""},{"location":"guides/contributing/#backend-net","title":"Backend (.NET)","text":""},{"location":"guides/contributing/#naming-conventions","title":"Naming Conventions","text":"<pre><code>//  Correto\npublic class TransactionService\n{\n    private readonly ITransactionRepository _repository;\n\n    public async Task&lt;TransactionDto&gt; CreateTransactionAsync(\n        CreateTransactionCommand command)\n    {\n        // Implementation\n    }\n}\n\n//  Incorreto\npublic class transactionservice\n{\n    private ITransactionRepository repo;\n\n    public TransactionDto CreateTransaction(CreateTransactionCommand cmd)\n    {\n        // Implementation\n    }\n}\n</code></pre>"},{"location":"guides/contributing/#solid-principles","title":"SOLID Principles","text":"<pre><code>//  Single Responsibility\npublic class EmailService\n{\n    public Task SendEmailAsync(string to, string subject, string body) { }\n}\n\npublic class UserNotificationService\n{\n    private readonly IEmailService _emailService;\n\n    public Task NotifyUserAsync(User user, string message) { }\n}\n\n//  Multiple Responsibilities\npublic class UserService\n{\n    public Task CreateUserAsync(User user) { }\n    public Task SendWelcomeEmailAsync(User user) { } // Should be separate\n    public Task LogUserActionAsync(string action) { } // Should be separate\n}\n</code></pre>"},{"location":"guides/contributing/#frontend-nextjsreact","title":"Frontend (Next.js/React)","text":""},{"location":"guides/contributing/#component-structure","title":"Component Structure","text":"<pre><code>//  Correto\ninterface TransactionCardProps {\n  transaction: Transaction;\n  onEdit: (id: string) =&gt; void;\n  onDelete: (id: string) =&gt; void;\n}\n\nexport const TransactionCard: React.FC&lt;TransactionCardProps&gt; = ({\n  transaction,\n  onEdit,\n  onDelete\n}) =&gt; {\n  return (\n    &lt;div className=\"transaction-card\"&gt;\n      {/* Component content */}\n    &lt;/div&gt;\n  );\n};\n\n//  Incorreto\nexport const TransactionCard = (props: any) =&gt; {\n  return (\n    &lt;div&gt;\n      {/* Component content */}\n    &lt;/div&gt;\n  );\n};\n</code></pre>"},{"location":"guides/contributing/#hooks-customizados","title":"Hooks Customizados","text":"<pre><code>//  Correto\nexport const useTransactions = (userId: string) =&gt; {\n  const [transactions, setTransactions] = useState&lt;Transaction[]&gt;([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState&lt;string | null&gt;(null);\n\n  const fetchTransactions = useCallback(async () =&gt; {\n    setLoading(true);\n    try {\n      const data = await api.getTransactions(userId);\n      setTransactions(data);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [userId]);\n\n  return { transactions, loading, error, fetchTransactions };\n};\n</code></pre>"},{"location":"guides/contributing/#testes","title":"Testes","text":""},{"location":"guides/contributing/#cobertura-minima","title":"Cobertura M\u00ednima","text":"<ul> <li>Domain Layer: 100%</li> <li>Application Layer: 95%+</li> <li>Infrastructure Layer: 80%+</li> <li>Presentation Layer: 70%+</li> </ul>"},{"location":"guides/contributing/#estrutura-de-testes","title":"Estrutura de Testes","text":"<pre><code>// Arrange - Act - Assert pattern\n[Fact]\npublic async Task CreateTransaction_WithValidData_ShouldReturnSuccess()\n{\n    // Arrange\n    var command = new CreateTransactionCommand(\"Test\", 100m, \"Expense\", categoryId, DateTime.Now);\n    var handler = new CreateTransactionCommandHandler(_repository, _mapper);\n\n    // Act\n    var result = await handler.Handle(command, CancellationToken.None);\n\n    // Assert\n    result.Should().NotBeNull();\n    result.Description.Should().Be(\"Test\");\n    result.Amount.Should().Be(100m);\n}\n</code></pre>"},{"location":"guides/contributing/#testes-frontend","title":"Testes Frontend","text":"<pre><code>// React Testing Library\nimport { render, screen, fireEvent } from '@testing-library/react';\nimport { TransactionCard } from './TransactionCard';\n\ndescribe('TransactionCard', () =&gt; {\n  it('should display transaction information', () =&gt; {\n    const mockTransaction = {\n      id: '1',\n      description: 'Test Transaction',\n      amount: 100,\n      type: 'expense'\n    };\n\n    render(&lt;TransactionCard transaction={mockTransaction} /&gt;);\n\n    expect(screen.getByText('Test Transaction')).toBeInTheDocument();\n    expect(screen.getByText('R$ 100,00')).toBeInTheDocument();\n  });\n});\n</code></pre>"},{"location":"guides/contributing/#processo-de-contribuicao","title":"Processo de Contribui\u00e7\u00e3o","text":""},{"location":"guides/contributing/#1-issues","title":"1. Issues","text":"<p>Antes de come\u00e7ar a trabalhar: - Verifique se j\u00e1 existe uma issue relacionada - Se n\u00e3o existir, crie uma nova issue descrevendo:   - Problema: O que est\u00e1 acontecendo   - Solu\u00e7\u00e3o proposta: Como voc\u00ea pretende resolver   - Alternativas: Outras abordagens consideradas</p>"},{"location":"guides/contributing/#2-pull-requests","title":"2. Pull Requests","text":""},{"location":"guides/contributing/#checklist-antes-do-pr","title":"Checklist antes do PR","text":"<ul> <li>[ ] C\u00f3digo segue os padr\u00f5es estabelecidos</li> <li>[ ] Testes foram adicionados/atualizados</li> <li>[ ] Documenta\u00e7\u00e3o foi atualizada</li> <li>[ ] Build est\u00e1 passando</li> <li>[ ] N\u00e3o h\u00e1 conflitos com a branch main</li> </ul>"},{"location":"guides/contributing/#template-de-pr","title":"Template de PR","text":"<pre><code>## Descri\u00e7\u00e3o\nBreve descri\u00e7\u00e3o das mudan\u00e7as realizadas.\n\n## Tipo de mudan\u00e7a\n- [ ] Bug fix\n- [ ] Nova funcionalidade\n- [ ] Breaking change\n- [ ] Documenta\u00e7\u00e3o\n\n## Como testar\n1. Passos para testar as mudan\u00e7as\n2. Cen\u00e1rios de teste espec\u00edficos\n\n## Screenshots (se aplic\u00e1vel)\nAdicione screenshots para mudan\u00e7as na UI.\n\n## Checklist\n- [ ] C\u00f3digo segue os padr\u00f5es do projeto\n- [ ] Testes foram adicionados\n- [ ] Documenta\u00e7\u00e3o foi atualizada\n</code></pre>"},{"location":"guides/contributing/#3-code-review","title":"3. Code Review","text":""},{"location":"guides/contributing/#o-que-procuramos","title":"O que procuramos","text":"<ul> <li>Funcionalidade: O c\u00f3digo faz o que deveria fazer?</li> <li>Legibilidade: O c\u00f3digo \u00e9 claro e autodocumentado?</li> <li>Performance: H\u00e1 gargalos ou otimiza\u00e7\u00f5es poss\u00edveis?</li> <li>Seguran\u00e7a: H\u00e1 vulnerabilidades de seguran\u00e7a?</li> <li>Testes: Os testes cobrem os cen\u00e1rios importantes?</li> </ul>"},{"location":"guides/contributing/#como-dar-feedback","title":"Como dar feedback","text":"<pre><code>//  Feedback construtivo\n\"Considere usar um repository pattern aqui para melhorar a testabilidade. \nExemplo: `await _repository.GetByIdAsync(id)`\"\n\n//  Feedback n\u00e3o construtivo\n\"Este c\u00f3digo est\u00e1 ruim\"\n</code></pre>"},{"location":"guides/contributing/#arquitetura-e-design","title":"Arquitetura e Design","text":""},{"location":"guides/contributing/#principios-de-design","title":"Princ\u00edpios de Design","text":"<ol> <li>KISS (Keep It Simple, Stupid)</li> <li>DRY (Don't Repeat Yourself)</li> <li>YAGNI (You Aren't Gonna Need It)</li> <li>SOLID Principles</li> </ol>"},{"location":"guides/contributing/#padroes-utilizados","title":"Padr\u00f5es Utilizados","text":"<ul> <li>Repository Pattern para acesso a dados</li> <li>CQRS para separa\u00e7\u00e3o de comandos e consultas</li> <li>Mediator Pattern para desacoplamento</li> <li>Factory Pattern para cria\u00e7\u00e3o de objetos complexos</li> <li>Observer Pattern para eventos de dom\u00ednio</li> </ul>"},{"location":"guides/contributing/#clean-architecture-layers","title":"Clean Architecture Layers","text":"<pre><code>           Presentation               \u2190 Controllers, Views\n\n           Application                \u2190 Use Cases, DTOs\n\n             Domain                   \u2190 Entities, Value Objects\n\n          Infrastructure              \u2190 Database, External APIs\n</code></pre>"},{"location":"guides/contributing/#documentacao","title":"Documenta\u00e7\u00e3o","text":""},{"location":"guides/contributing/#codigo-autodocumentado","title":"C\u00f3digo Autodocumentado","text":"<pre><code>//  Bom\npublic async Task&lt;BudgetStatus&gt; CalculateBudgetStatusAsync(\n    CategoryId categoryId, \n    Month month)\n{\n    var transactions = await GetTransactionsByCategoryAndMonthAsync(categoryId, month);\n    var totalSpent = transactions.Sum(t =&gt; t.Amount);\n    var budget = await GetBudgetForCategoryAsync(categoryId);\n\n    return totalSpent &gt; budget.Limit \n        ? BudgetStatus.Exceeded \n        : BudgetStatus.OnTrack;\n}\n\n//  Ruim\npublic async Task&lt;int&gt; CalcBS(Guid cId, int m)\n{\n    // Calculate budget status\n    var t = await GetT(cId, m);\n    var s = t.Sum(x =&gt; x.A);\n    var b = await GetB(cId);\n    return s &gt; b.L ? 1 : 0;\n}\n</code></pre>"},{"location":"guides/contributing/#comentarios-xml","title":"Coment\u00e1rios XML","text":"<pre><code>/// &lt;summary&gt;\n/// Calculates the budget status for a specific category and month.\n/// &lt;/summary&gt;\n/// &lt;param name=\"categoryId\"&gt;The category identifier&lt;/param&gt;\n/// &lt;param name=\"month\"&gt;The month to calculate for&lt;/param&gt;\n/// &lt;returns&gt;The budget status indicating if the budget is exceeded or on track&lt;/returns&gt;\n/// &lt;exception cref=\"CategoryNotFoundException\"&gt;Thrown when the category is not found&lt;/exception&gt;\npublic async Task&lt;BudgetStatus&gt; CalculateBudgetStatusAsync(\n    CategoryId categoryId, \n    Month month)\n</code></pre>"},{"location":"guides/contributing/#workflow-git","title":"Workflow Git","text":""},{"location":"guides/contributing/#commits-semanticos","title":"Commits Sem\u00e2nticos","text":"<pre><code># Formato: tipo(escopo): descri\u00e7\u00e3o\n\n# Tipos v\u00e1lidos:\nfeat: nova funcionalidade\nfix: corre\u00e7\u00e3o de bug\ndocs: documenta\u00e7\u00e3o\nstyle: formata\u00e7\u00e3o, ponto e v\u00edrgula, etc\nrefactor: refatora\u00e7\u00e3o de c\u00f3digo\ntest: adi\u00e7\u00e3o ou corre\u00e7\u00e3o de testes\nchore: tarefas de build, configura\u00e7\u00e3o, etc\n\n# Exemplos:\ngit commit -m \"feat(transactions): add transaction filtering by category\"\ngit commit -m \"fix(auth): resolve JWT token expiration issue\"\ngit commit -m \"docs(api): update transaction endpoints documentation\"\n</code></pre>"},{"location":"guides/contributing/#branch-strategy","title":"Branch Strategy","text":"<pre><code>main\n develop\n    feature/user-authentication\n    feature/transaction-crud\n    feature/budget-tracking\n hotfix/critical-security-fix\n release/v1.0.0\n</code></pre>"},{"location":"guides/contributing/#areas-que-precisam-de-contribuicao","title":"\u00c1reas que Precisam de Contribui\u00e7\u00e3o","text":""},{"location":"guides/contributing/#alta-prioridade","title":"Alta Prioridade","text":"<ul> <li>[ ] Implementa\u00e7\u00e3o de testes E2E</li> <li>[ ] Melhorias de performance no frontend</li> <li>[ ] Documenta\u00e7\u00e3o de APIs</li> <li>[ ] Implementa\u00e7\u00e3o de cache Redis</li> </ul>"},{"location":"guides/contributing/#media-prioridade","title":"M\u00e9dia Prioridade","text":"<ul> <li>[ ] Internacionaliza\u00e7\u00e3o (i18n)</li> <li>[ ] Tema dark/light</li> <li>[ ] Notifica\u00e7\u00f5es push</li> <li>[ ] Exporta\u00e7\u00e3o de relat\u00f3rios</li> </ul>"},{"location":"guides/contributing/#baixa-prioridade","title":"Baixa Prioridade","text":"<ul> <li>[ ] Integra\u00e7\u00e3o com bancos</li> <li>[ ] App mobile</li> <li>[ ] Plugins de terceiros</li> <li>[ ] An\u00e1lises avan\u00e7adas com IA</li> </ul>"},{"location":"guides/contributing/#reconhecimento","title":"Reconhecimento","text":""},{"location":"guides/contributing/#contribuidores","title":"Contribuidores","text":"<p>Todos os contribuidores s\u00e3o reconhecidos no README e na documenta\u00e7\u00e3o.</p>"},{"location":"guides/contributing/#tipos-de-contribuicao","title":"Tipos de Contribui\u00e7\u00e3o","text":"<ul> <li>C\u00f3digo - Implementa\u00e7\u00e3o de funcionalidades</li> <li>Documenta\u00e7\u00e3o - Melhorias na documenta\u00e7\u00e3o</li> <li>Bug Reports - Identifica\u00e7\u00e3o de problemas</li> <li>Ideias - Sugest\u00f5es de melhorias</li> <li>Design - Melhorias na UI/UX</li> <li>Testes - Adi\u00e7\u00e3o de testes</li> </ul>"},{"location":"guides/contributing/#suporte","title":"Suporte","text":""},{"location":"guides/contributing/#canais-de-comunicacao","title":"Canais de Comunica\u00e7\u00e3o","text":"<ul> <li>Discussions: Para perguntas gerais</li> <li>Issues: Para bugs e feature requests</li> <li>Email: mateus.orlando@unb.br (para quest\u00f5es sens\u00edveis)</li> </ul>"},{"location":"guides/contributing/#horarios-de-resposta","title":"Hor\u00e1rios de Resposta","text":"<ul> <li>Issues cr\u00edticas: 24h</li> <li>Pull Requests: 48h</li> <li>Perguntas gerais: 72h</li> </ul>"},{"location":"guides/contributing/#codigo-de-conduta","title":"C\u00f3digo de Conduta","text":""},{"location":"guides/contributing/#nossos-valores","title":"Nossos Valores","text":"<ul> <li>Respeito: Tratamos todos com dignidade</li> <li>Inclus\u00e3o: Valorizamos a diversidade</li> <li>Colabora\u00e7\u00e3o: Trabalhamos juntos</li> <li>Excel\u00eancia: Buscamos sempre melhorar</li> </ul>"},{"location":"guides/contributing/#comportamentos-esperados","title":"Comportamentos Esperados","text":"<ul> <li>Usar linguagem acolhedora e inclusiva</li> <li>Respeitar diferentes pontos de vista</li> <li>Aceitar cr\u00edticas construtivas</li> <li>Focar no que \u00e9 melhor para a comunidade</li> </ul>"},{"location":"guides/contributing/#comportamentos-inaceitaveis","title":"Comportamentos Inaceit\u00e1veis","text":"<ul> <li>Linguagem ou imagens sexualizadas</li> <li>Coment\u00e1rios insultuosos ou depreciativos</li> <li>Ass\u00e9dio p\u00fablico ou privado</li> <li>Publicar informa\u00e7\u00f5es privadas de outros</li> </ul> <p>**Obrigado por contribuir com o SpendWise! **</p>"},{"location":"guides/setup/","title":"Guia de Setup Local","text":""},{"location":"guides/setup/#configuracao-do-ambiente-de-desenvolvimento","title":"Configura\u00e7\u00e3o do Ambiente de Desenvolvimento","text":"<p>Este guia ir\u00e1 te ajudar a configurar o ambiente completo do SpendWise em sua m\u00e1quina local.</p>"},{"location":"guides/setup/#pre-requisitos","title":"** Pr\u00e9-requisitos**","text":""},{"location":"guides/setup/#software-necessario","title":"Software Necess\u00e1rio","text":"<ul> <li>Node.js 18+ - Download</li> <li>.NET 8 SDK - Download</li> <li>PostgreSQL 15+ - Download</li> <li>Docker Desktop (opcional) - Download</li> <li>Git - Download</li> </ul>"},{"location":"guides/setup/#ferramentas-recomendadas","title":"Ferramentas Recomendadas","text":"<ul> <li>Visual Studio Code - Download</li> <li>pgAdmin - Download</li> <li>Postman - Download</li> </ul>"},{"location":"guides/setup/#clonando-os-repositorios","title":"Clonando os Reposit\u00f3rios","text":"<pre><code># Criar diret\u00f3rio do projeto\nmkdir SpendWise\ncd SpendWise\n\n# Clonar backend\ngit clone https://github.com/MateusOrlando/SpendWise-Backend.git backend\ncd backend\n\n# Clonar frontend\ngit clone https://github.com/MateusOrlando/SpendWise-Frontend.git frontend\ncd frontend\n\n# Clonar documenta\u00e7\u00e3o\ngit clone https://github.com/MateusOrlando/SpendWise-Docs.git docs\ncd docs\n</code></pre>"},{"location":"guides/setup/#configuracao-do-banco-de-dados","title":"Configura\u00e7\u00e3o do Banco de Dados","text":""},{"location":"guides/setup/#1-instalacao-do-postgresql","title":"1. Instala\u00e7\u00e3o do PostgreSQL","text":"<p>=== \"Windows\"     <pre><code># Via Chocolatey\nchoco install postgresql\n\n# Via Scoop\nscoop install postgresql\n</code></pre></p> <p>=== \"macOS\"     <pre><code># Via Homebrew\nbrew install postgresql\nbrew services start postgresql\n</code></pre></p> <p>=== \"Linux (Ubuntu/Debian)\"     <pre><code>sudo apt update\nsudo apt install postgresql postgresql-contrib\nsudo systemctl start postgresql\nsudo systemctl enable postgresql\n</code></pre></p>"},{"location":"guides/setup/#2-criacao-do-banco","title":"2. Cria\u00e7\u00e3o do Banco","text":"<pre><code>-- Conectar como superuser\npsql -U postgres\n\n-- Criar usu\u00e1rio\nCREATE USER spendwise_user WITH PASSWORD 'spendwise_pass';\n\n-- Criar banco de dados\nCREATE DATABASE spendwise_db OWNER spendwise_user;\n\n-- Conceder privil\u00e9gios\nGRANT ALL PRIVILEGES ON DATABASE spendwise_db TO spendwise_user;\n\n-- Sair\n\\q\n</code></pre>"},{"location":"guides/setup/#configuracao-do-backend","title":"Configura\u00e7\u00e3o do Backend","text":""},{"location":"guides/setup/#1-navegar-para-o-diretorio","title":"1. Navegar para o diret\u00f3rio","text":"<pre><code>cd backend/src/SpendWise.API\n</code></pre>"},{"location":"guides/setup/#2-instalar-dependencias","title":"2. Instalar depend\u00eancias","text":"<pre><code>dotnet restore\n</code></pre>"},{"location":"guides/setup/#3-configurar-variaveis-de-ambiente","title":"3. Configurar vari\u00e1veis de ambiente","text":"<p>Criar arquivo <code>appsettings.Development.json</code>:</p> <pre><code>{\n  \"ConnectionStrings\": {\n    \"DefaultConnection\": \"Host=localhost;Database=spendwise_db;Username=spendwise_user;Password=spendwise_pass\"\n  },\n  \"JwtSettings\": {\n    \"SecretKey\": \"sua-chave-secreta-super-segura-aqui-com-pelo-menos-32-caracteres\",\n    \"Issuer\": \"SpendWise.API\",\n    \"Audience\": \"SpendWise.Frontend\",\n    \"ExpiryMinutes\": 60\n  },\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\",\n      \"Microsoft.AspNetCore\": \"Warning\"\n    }\n  }\n}\n</code></pre>"},{"location":"guides/setup/#4-executar-migrations","title":"4. Executar migrations","text":"<pre><code>dotnet ef database update\n</code></pre>"},{"location":"guides/setup/#5-executar-o-backend","title":"5. Executar o backend","text":"<pre><code>dotnet run\n</code></pre> <p>O backend estar\u00e1 dispon\u00edvel em: <code>https://localhost:5001</code></p>"},{"location":"guides/setup/#configuracao-do-frontend","title":"Configura\u00e7\u00e3o do Frontend","text":""},{"location":"guides/setup/#1-navegar-para-o-diretorio_1","title":"1. Navegar para o diret\u00f3rio","text":"<pre><code>cd frontend\n</code></pre>"},{"location":"guides/setup/#2-instalar-dependencias_1","title":"2. Instalar depend\u00eancias","text":"<pre><code>npm install\n# ou\npnpm install\n# ou\nyarn install\n</code></pre>"},{"location":"guides/setup/#3-configurar-variaveis-de-ambiente_1","title":"3. Configurar vari\u00e1veis de ambiente","text":"<p>Criar arquivo <code>.env.local</code>:</p> <pre><code># API Configuration\nNEXT_PUBLIC_API_URL=https://localhost:5001/api\nNEXTAUTH_URL=http://localhost:3000\nNEXTAUTH_SECRET=sua-chave-secreta-nextauth-aqui\n\n# App Configuration\nNEXT_PUBLIC_APP_NAME=SpendWise\nNEXT_PUBLIC_APP_VERSION=1.0.0\n\n# Database URL (para NextAuth)\nDATABASE_URL=postgresql://spendwise_user:spendwise_pass@localhost:5432/spendwise_db\n</code></pre>"},{"location":"guides/setup/#4-executar-o-frontend","title":"4. Executar o frontend","text":"<pre><code>npm run dev\n# ou\npnpm dev\n# ou\nyarn dev\n</code></pre> <p>O frontend estar\u00e1 dispon\u00edvel em: <code>http://localhost:3000</code></p>"},{"location":"guides/setup/#configuracao-da-documentacao","title":"Configura\u00e7\u00e3o da Documenta\u00e7\u00e3o","text":""},{"location":"guides/setup/#1-navegar-para-o-diretorio_2","title":"1. Navegar para o diret\u00f3rio","text":"<pre><code>cd docs\n</code></pre>"},{"location":"guides/setup/#2-instalar-dependencias-python","title":"2. Instalar depend\u00eancias Python","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"guides/setup/#3-executar-o-mkdocs","title":"3. Executar o MkDocs","text":"<pre><code>mkdocs serve\n</code></pre> <p>A documenta\u00e7\u00e3o estar\u00e1 dispon\u00edvel em: <code>http://localhost:8000</code></p>"},{"location":"guides/setup/#configuracao-com-docker-alternativa","title":"Configura\u00e7\u00e3o com Docker (Alternativa)","text":""},{"location":"guides/setup/#1-usando-docker-compose","title":"1. Usando Docker Compose","text":"<pre><code># Na raiz do projeto\ndocker-compose up -d\n</code></pre>"},{"location":"guides/setup/#2-verificar-containers","title":"2. Verificar containers","text":"<pre><code>docker-compose ps\n</code></pre>"},{"location":"guides/setup/#3-logs-dos-containers","title":"3. Logs dos containers","text":"<pre><code>docker-compose logs -f\n</code></pre>"},{"location":"guides/setup/#verificacao-da-instalacao","title":"Verifica\u00e7\u00e3o da Instala\u00e7\u00e3o","text":""},{"location":"guides/setup/#1-testar-backend","title":"1. Testar Backend","text":"<pre><code>curl https://localhost:5001/api/health\n</code></pre>"},{"location":"guides/setup/#2-testar-frontend","title":"2. Testar Frontend","text":"<p>Abrir <code>http://localhost:3000</code> no navegador</p>"},{"location":"guides/setup/#3-testar-documentacao","title":"3. Testar Documenta\u00e7\u00e3o","text":"<p>Abrir <code>http://localhost:8000</code> no navegador</p>"},{"location":"guides/setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/setup/#problemas-comuns","title":"Problemas Comuns","text":""},{"location":"guides/setup/#backend-nao-inicia","title":"Backend n\u00e3o inicia","text":"<pre><code># Verificar se o PostgreSQL est\u00e1 rodando\nsudo systemctl status postgresql\n\n# Verificar conex\u00e3o com banco\npsql -h localhost -U spendwise_user -d spendwise_db\n</code></pre>"},{"location":"guides/setup/#frontend-nao-conecta-com-backend","title":"Frontend n\u00e3o conecta com Backend","text":"<ul> <li>Verificar se o backend est\u00e1 rodando na porta 5001</li> <li>Verificar vari\u00e1veis de ambiente no <code>.env.local</code></li> <li>Verificar CORS no backend</li> </ul>"},{"location":"guides/setup/#erro-de-certificado-https","title":"Erro de certificado HTTPS","text":"<pre><code># Confiar no certificado de desenvolvimento\ndotnet dev-certs https --trust\n</code></pre>"},{"location":"guides/setup/#erro-de-porta-em-uso","title":"Erro de porta em uso","text":"<pre><code># Verificar processos usando a porta\nnetstat -tulpn | grep :3000\nnetstat -tulpn | grep :5001\n\n# Matar processo se necess\u00e1rio\nkill -9 &lt;PID&gt;\n</code></pre>"},{"location":"guides/setup/#proximos-passos","title":"Pr\u00f3ximos Passos","text":"<p>Ap\u00f3s a configura\u00e7\u00e3o bem-sucedida:</p> <ol> <li>Explorar a aplica\u00e7\u00e3o - Navegue pelas funcionalidades</li> <li>Ler a documenta\u00e7\u00e3o - Entenda a arquitetura</li> <li>Executar testes - Garanta que tudo funciona</li> <li>Contribuir - Veja o guia de contribui\u00e7\u00e3o</li> </ol>"},{"location":"guides/setup/#suporte","title":"Suporte","text":"<p>Se encontrar problemas:</p> <ul> <li>Consulte o Troubleshooting</li> <li>Abra uma issue no GitHub</li> <li>Entre em contato: mateus.orlando@unb.br</li> </ul>"},{"location":"guides/troubleshooting/","title":"Troubleshooting","text":""},{"location":"guides/troubleshooting/#guia-de-resolucao-de-problemas","title":"Guia de Resolu\u00e7\u00e3o de Problemas","text":"<p>Este guia ajuda a resolver os problemas mais comuns encontrados durante o desenvolvimento e uso do SpendWise.</p>"},{"location":"guides/troubleshooting/#problemas-de-inicializacao","title":"Problemas de Inicializa\u00e7\u00e3o","text":""},{"location":"guides/troubleshooting/#backend-nao-inicia","title":"Backend n\u00e3o inicia","text":""},{"location":"guides/troubleshooting/#erro-connection-string-not-found","title":"Erro: \"Connection string not found\"","text":"<pre><code># Verificar se o arquivo appsettings.Development.json existe\nls src/SpendWise.API/appsettings.Development.json\n\n# Criar o arquivo se n\u00e3o existir\ncp src/SpendWise.API/appsettings.json src/SpendWise.API/appsettings.Development.json\n</code></pre> <p>Solu\u00e7\u00e3o: 1. Verificar se o PostgreSQL est\u00e1 rodando 2. Confirmar as credenciais no connection string 3. Testar conex\u00e3o manualmente</p>"},{"location":"guides/troubleshooting/#erro-database-does-not-exist","title":"Erro: \"Database does not exist\"","text":"<pre><code># Verificar se o banco existe\npsql -U postgres -l | grep spendwise\n\n# Criar o banco se necess\u00e1rio\npsql -U postgres -c \"CREATE DATABASE spendwise_db;\"\n\n# Executar migrations\ndotnet ef database update\n</code></pre>"},{"location":"guides/troubleshooting/#erro-port-5001-already-in-use","title":"Erro: \"Port 5001 already in use\"","text":"<pre><code># Verificar processo usando a porta\nnetstat -tulpn | grep :5001\n\n# Matar processo se necess\u00e1rio (Linux/Mac)\nkill -9 &lt;PID&gt;\n\n# Windows\ntaskkill /PID &lt;PID&gt; /F\n\n# Ou usar porta alternativa\ndotnet run --urls=\"https://localhost:5002\"\n</code></pre>"},{"location":"guides/troubleshooting/#problemas-do-frontend","title":"Problemas do Frontend","text":""},{"location":"guides/troubleshooting/#frontend-nao-conecta-com-backend","title":"Frontend n\u00e3o conecta com Backend","text":""},{"location":"guides/troubleshooting/#erro-network-error-ou-cors-error","title":"Erro: \"Network Error\" ou \"CORS Error\"","text":"<pre><code>// Verificar vari\u00e1veis de ambiente\nconsole.log(process.env.NEXT_PUBLIC_API_URL);\n\n// Deve retornar: https://localhost:5001/api\n</code></pre> <p>Solu\u00e7\u00e3o: 1. Verificar se o backend est\u00e1 rodando 2. Confirmar URL da API no <code>.env.local</code> 3. Verificar configura\u00e7\u00e3o CORS no backend</p>"},{"location":"guides/troubleshooting/#erro-module-not-found","title":"Erro: \"Module not found\"","text":"<pre><code># Limpar cache do Node\nrm -rf node_modules package-lock.json\nnpm install\n\n# Ou com pnpm\nrm -rf node_modules pnpm-lock.yaml\npnpm install\n</code></pre>"},{"location":"guides/troubleshooting/#erro-de-hidratacao-do-nextjs","title":"Erro de hidrata\u00e7\u00e3o do Next.js","text":"<pre><code># Limpar cache do Next.js\nrm -rf .next\nnpm run build\nnpm run dev\n</code></pre>"},{"location":"guides/troubleshooting/#problemas-de-banco-de-dados","title":"Problemas de Banco de Dados","text":""},{"location":"guides/troubleshooting/#postgresql-nao-inicia","title":"PostgreSQL n\u00e3o inicia","text":""},{"location":"guides/troubleshooting/#linuxmac","title":"Linux/Mac","text":"<pre><code># Verificar status\nsudo systemctl status postgresql\n\n# Iniciar servi\u00e7o\nsudo systemctl start postgresql\n\n# Habilitar inicializa\u00e7\u00e3o autom\u00e1tica\nsudo systemctl enable postgresql\n</code></pre>"},{"location":"guides/troubleshooting/#windows","title":"Windows","text":"<pre><code># Verificar servi\u00e7os\nGet-Service -Name postgresql*\n\n# Iniciar servi\u00e7o\nStart-Service postgresql-x64-15\n</code></pre>"},{"location":"guides/troubleshooting/#erro-de-conexao-com-banco","title":"Erro de conex\u00e3o com banco","text":""},{"location":"guides/troubleshooting/#connection-refused","title":"\"Connection refused\"","text":"<pre><code># Verificar se PostgreSQL est\u00e1 ouvindo na porta correta\nsudo netstat -tulpn | grep :5432\n\n# Verificar configura\u00e7\u00e3o do PostgreSQL\nsudo nano /etc/postgresql/15/main/postgresql.conf\n\n# Procurar por:\nlisten_addresses = 'localhost'\nport = 5432\n</code></pre>"},{"location":"guides/troubleshooting/#authentication-failed","title":"\"Authentication failed\"","text":"<pre><code># Resetar senha do usu\u00e1rio postgres\nsudo -u postgres psql\n\\password postgres\n\n# Verificar configura\u00e7\u00e3o de autentica\u00e7\u00e3o\nsudo nano /etc/postgresql/15/main/pg_hba.conf\n\n# Deve conter:\nlocal   all             postgres                                peer\nlocal   all             all                                     md5\n</code></pre>"},{"location":"guides/troubleshooting/#problemas-com-docker","title":"Problemas com Docker","text":""},{"location":"guides/troubleshooting/#container-nao-inicia","title":"Container n\u00e3o inicia","text":""},{"location":"guides/troubleshooting/#erro-port-already-in-use","title":"Erro: \"Port already in use\"","text":"<pre><code># Verificar containers rodando\ndocker ps\n\n# Parar containers conflitantes\ndocker stop &lt;container_id&gt;\n\n# Usar portas alternativas\ndocker run -p 3001:3000 spendwise-frontend\n</code></pre>"},{"location":"guides/troubleshooting/#erro-no-space-left-on-device","title":"Erro: \"No space left on device\"","text":"<pre><code># Limpar imagens n\u00e3o utilizadas\ndocker system prune -a\n\n# Verificar espa\u00e7o em disco\ndf -h\n\n# Limpar volumes \u00f3rf\u00e3os\ndocker volume prune\n</code></pre>"},{"location":"guides/troubleshooting/#build-falha","title":"Build falha","text":""},{"location":"guides/troubleshooting/#erro-de-dependencias","title":"Erro de depend\u00eancias","text":"<pre><code># Rebuild sem cache\ndocker build --no-cache -t spendwise-backend .\n\n# Verificar Dockerfile\ncat Dockerfile\n\n# Verificar .dockerignore\ncat .dockerignore\n</code></pre>"},{"location":"guides/troubleshooting/#problemas-de-autenticacao","title":"Problemas de Autentica\u00e7\u00e3o","text":""},{"location":"guides/troubleshooting/#jwt-token-invalido","title":"JWT Token inv\u00e1lido","text":""},{"location":"guides/troubleshooting/#erro-invalid-token","title":"Erro: \"Invalid token\"","text":"<pre><code>// Verificar se o token n\u00e3o expirou\nconst payload = JSON.parse(atob(token.split('.')[1]));\nconsole.log('Expira em:', new Date(payload.exp * 1000));\n\n// Verificar se o token est\u00e1 sendo enviado corretamente\nconsole.log('Authorization header:', `Bearer ${token}`);\n</code></pre> <p>Solu\u00e7\u00e3o: 1. Verificar se a chave secreta \u00e9 a mesma no backend e frontend 2. Confirmar se o token n\u00e3o expirou 3. Verificar formato do header Authorization</p>"},{"location":"guides/troubleshooting/#erro-user-not-found","title":"Erro: \"User not found\"","text":"<pre><code># Verificar se o usu\u00e1rio existe no banco\npsql -U spendwise_user -d spendwise_db -c \"SELECT * FROM usuarios WHERE email = 'user@example.com';\"\n</code></pre>"},{"location":"guides/troubleshooting/#problemas-de-performance","title":"Problemas de Performance","text":""},{"location":"guides/troubleshooting/#consultas-lentas","title":"Consultas lentas","text":""},{"location":"guides/troubleshooting/#identificar-queries-problematicas","title":"Identificar queries problem\u00e1ticas","text":"<pre><code>-- Habilitar log de queries lentas (PostgreSQL)\nALTER SYSTEM SET log_min_duration_statement = 1000;\nSELECT pg_reload_conf();\n\n-- Verificar queries em execu\u00e7\u00e3o\nSELECT query, state, query_start \nFROM pg_stat_activity \nWHERE state = 'active';\n</code></pre>"},{"location":"guides/troubleshooting/#otimizar-consultas","title":"Otimizar consultas","text":"<pre><code>-- Analisar plano de execu\u00e7\u00e3o\nEXPLAIN ANALYZE SELECT * FROM transacoes WHERE usuario_id = 'uuid';\n\n-- Criar \u00edndices necess\u00e1rios\nCREATE INDEX idx_transacoes_usuario_data ON transacoes(usuario_id, data);\nCREATE INDEX idx_transacoes_categoria ON transacoes(categoria_id);\n</code></pre>"},{"location":"guides/troubleshooting/#frontend-lento","title":"Frontend lento","text":""},{"location":"guides/troubleshooting/#analisar-bundle-size","title":"Analisar bundle size","text":"<pre><code># Analisar tamanho do bundle\nnpm run build\nnpm run analyze\n\n# Ou com webpack-bundle-analyzer\nnpx webpack-bundle-analyzer .next/static/chunks/*.js\n</code></pre>"},{"location":"guides/troubleshooting/#otimizacoes","title":"Otimiza\u00e7\u00f5es","text":"<pre><code>// Lazy loading de componentes\nconst LazyComponent = dynamic(() =&gt; import('./HeavyComponent'), {\n  loading: () =&gt; &lt;p&gt;Carregando...&lt;/p&gt;\n});\n\n// Memoiza\u00e7\u00e3o de componentes\nconst MemoizedComponent = React.memo(ExpensiveComponent);\n\n// Otimiza\u00e7\u00e3o de imagens\nimport Image from 'next/image';\n&lt;Image src=\"/logo.png\" width={200} height={100} alt=\"Logo\" /&gt;\n</code></pre>"},{"location":"guides/troubleshooting/#problemas-de-testes","title":"Problemas de Testes","text":""},{"location":"guides/troubleshooting/#testes-falhando","title":"Testes falhando","text":""},{"location":"guides/troubleshooting/#erro-database-connection-failed","title":"Erro: \"Database connection failed\"","text":"<pre><code># Usar banco de teste separado\nexport ASPNETCORE_ENVIRONMENT=Test\ndotnet test\n\n# Ou configurar connection string de teste\nexport ConnectionStrings__DefaultConnection=\"Host=localhost;Database=spendwise_test;Username=test_user;Password=test_pass\"\n</code></pre>"},{"location":"guides/troubleshooting/#erro-module-not-found-in-tests","title":"Erro: \"Module not found in tests\"","text":"<pre><code>// jest.config.js\nmodule.exports = {\n  moduleNameMapping: {\n    '^@/(.*)$': '&lt;rootDir&gt;/$1',\n  },\n  setupFilesAfterEnv: ['&lt;rootDir&gt;/jest.setup.js'],\n};\n</code></pre>"},{"location":"guides/troubleshooting/#problemas-de-deploy","title":"Problemas de Deploy","text":""},{"location":"guides/troubleshooting/#deploy-falha-no-vercel","title":"Deploy falha no Vercel","text":""},{"location":"guides/troubleshooting/#erro-de-build","title":"Erro de build","text":"<pre><code># Verificar logs de build\nvercel logs &lt;deployment-url&gt;\n\n# Verificar vari\u00e1veis de ambiente\nvercel env ls\n\n# Adicionar vari\u00e1vel necess\u00e1ria\nvercel env add NEXT_PUBLIC_API_URL\n</code></pre>"},{"location":"guides/troubleshooting/#deploy-falha-no-heroku","title":"Deploy falha no Heroku","text":""},{"location":"guides/troubleshooting/#erro-de-memoria","title":"Erro de mem\u00f3ria","text":"<pre><code># Aumentar limite de mem\u00f3ria\nheroku config:set NODE_OPTIONS=\"--max-old-space-size=4096\"\n\n# Verificar logs\nheroku logs --tail\n</code></pre>"},{"location":"guides/troubleshooting/#ferramentas-de-debug","title":"Ferramentas de Debug","text":""},{"location":"guides/troubleshooting/#backend-net","title":"Backend (.NET)","text":""},{"location":"guides/troubleshooting/#habilitar-logs-detalhados","title":"Habilitar logs detalhados","text":"<pre><code>{\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Debug\",\n      \"Microsoft.AspNetCore\": \"Information\",\n      \"Microsoft.EntityFrameworkCore\": \"Information\"\n    }\n  }\n}\n</code></pre>"},{"location":"guides/troubleshooting/#debug-com-visual-studio-code","title":"Debug com Visual Studio Code","text":"<pre><code>// .vscode/launch.json\n{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"name\": \".NET Core Launch (web)\",\n      \"type\": \"coreclr\",\n      \"request\": \"launch\",\n      \"preLaunchTask\": \"build\",\n      \"program\": \"${workspaceFolder}/src/SpendWise.API/bin/Debug/net8.0/SpendWise.API.dll\",\n      \"args\": [],\n      \"cwd\": \"${workspaceFolder}/src/SpendWise.API\",\n      \"env\": {\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/troubleshooting/#frontend-nextjs","title":"Frontend (Next.js)","text":""},{"location":"guides/troubleshooting/#debug-com-chrome-devtools","title":"Debug com Chrome DevTools","text":"<pre><code>// Adicionar debugger\ndebugger;\n\n// Console logs estruturados\nconsole.group('API Call');\nconsole.log('URL:', url);\nconsole.log('Method:', method);\nconsole.log('Data:', data);\nconsole.groupEnd();\n</code></pre>"},{"location":"guides/troubleshooting/#debug-com-vs-code","title":"Debug com VS Code","text":"<pre><code>// .vscode/launch.json\n{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"name\": \"Next.js: debug server-side\",\n      \"type\": \"node\",\n      \"request\": \"attach\",\n      \"port\": 9229,\n      \"skipFiles\": [\"&lt;node_internals&gt;/**\"]\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/troubleshooting/#quando-buscar-ajuda","title":"Quando Buscar Ajuda","text":""},{"location":"guides/troubleshooting/#antes-de-abrir-uma-issue","title":"Antes de abrir uma issue:","text":"<ol> <li>Verificar se o problema est\u00e1 neste guia</li> <li>Consultar a documenta\u00e7\u00e3o oficial</li> <li>Verificar issues existentes no GitHub</li> <li>Reproduzir o problema em ambiente limpo</li> </ol>"},{"location":"guides/troubleshooting/#informacoes-para-incluir","title":"Informa\u00e7\u00f5es para incluir:","text":"<ul> <li>Sistema Operacional: Windows/Linux/macOS + vers\u00e3o</li> <li>Vers\u00f5es: Node.js, .NET, PostgreSQL</li> <li>Logs de erro: Completos e n\u00e3o editados</li> <li>Passos para reproduzir: Detalhados</li> <li>Comportamento esperado: O que deveria acontecer</li> </ul>"},{"location":"guides/troubleshooting/#canais-de-suporte","title":"Canais de suporte:","text":"<ul> <li>Email: mateus.orlando@unb.br</li> <li>GitHub Issues: Abrir issue</li> <li>Documenta\u00e7\u00e3o: Docs online</li> </ul>"},{"location":"guides/troubleshooting/#dicas-de-performance","title":"Dicas de Performance","text":""},{"location":"guides/troubleshooting/#desenvolvimento-mais-rapido","title":"Desenvolvimento mais r\u00e1pido","text":"<pre><code># Hot reload mais r\u00e1pido (Next.js)\nnpm run dev -- --turbo\n\n# Build incremental (.NET)\ndotnet build --no-restore\n\n# Cache de depend\u00eancias\nnpm ci --cache .npm\n</code></pre>"},{"location":"guides/troubleshooting/#monitoramento","title":"Monitoramento","text":"<pre><code># Monitorar recursos do sistema\nhtop\n\n# Monitorar logs em tempo real\ntail -f logs/app.log\n\n# Monitorar banco de dados\nSELECT * FROM pg_stat_activity;\n</code></pre> <ul> <li>Dica: Mantenha sempre suas depend\u00eancias atualizadas e fa\u00e7a backups regulares do banco de dados antes de grandes mudan\u00e7as.*</li> </ul>"},{"location":"overview/about/","title":"Sobre o Projeto","text":""},{"location":"overview/about/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>O SpendWise \u00e9 um sistema completo de gest\u00e3o financeira pessoal desenvolvido como parte do curso de T\u00e9cnicas de Programa\u00e7\u00e3o em Plataformas Emergentes da Universidade de Bras\u00edlia. O projeto demonstra a evolu\u00e7\u00e3o de um sistema simples em Java para uma aplica\u00e7\u00e3o web moderna e robusta.</p>"},{"location":"overview/about/#evolucao-do-projeto","title":"Evolu\u00e7\u00e3o do Projeto","text":""},{"location":"overview/about/#projeto-original-java","title":"Projeto Original (Java)","text":"<p>O projeto come\u00e7ou como uma aplica\u00e7\u00e3o Java simples com foco did\u00e1tico em Programa\u00e7\u00e3o Orientada a Objetos:</p> <pre><code>// Exemplo do c\u00f3digo original\npublic class Usuario {\n    private String nome;\n    private double saldo;\n    private ArrayList&lt;Transacao&gt; transacoes;\n\n    public void adicionarReceita(Receita receita) {\n        transacoes.add(receita);\n        saldo = saldo + receita.getValor();\n    }\n}\n</code></pre> <p>Caracter\u00edsticas: - POO b\u00e1sica (Classes, Heran\u00e7a, Polimorfismo) - Estrutura simples e did\u00e1tica - Sem persist\u00eancia de dados - Interface apenas console - Sem testes automatizados - Sem valida\u00e7\u00f5es robustas</p>"},{"location":"overview/about/#spendwise-moderno","title":"SpendWise Moderno","text":"<p>Transforma\u00e7\u00e3o completa para uma aplica\u00e7\u00e3o web moderna:</p> <pre><code>// Exemplo do c\u00f3digo moderno\npublic class CreateTransacaoCommandHandler : IRequestHandler&lt;CreateTransacaoCommand, TransacaoDto&gt;\n{\n    private readonly IUnitOfWork _unitOfWork;\n    private readonly IMapper _mapper;\n\n    public async Task&lt;TransacaoDto&gt; Handle(CreateTransacaoCommand request, CancellationToken cancellationToken)\n    {\n        var transacao = new Transacao(request.Descricao, request.Valor, request.DataTransacao, request.Tipo, request.UsuarioId, request.CategoriaId);\n        var result = await _unitOfWork.Transacoes.AddAsync(transacao);\n        await _unitOfWork.SaveChangesAsync();\n        return _mapper.Map&lt;TransacaoDto&gt;(result);\n    }\n}\n</code></pre> <p>Caracter\u00edsticas: - Clean Architecture - Domain-Driven Design (DDD) - CQRS com MediatR - Testes automatizados (158 testes) - Valida\u00e7\u00f5es robustas - API REST completa - Frontend moderno - Docker e CI/CD</p>"},{"location":"overview/about/#arquitetura-implementada","title":"Arquitetura Implementada","text":""},{"location":"overview/about/#clean-architecture","title":"Clean Architecture","text":"<p>O projeto segue os princ\u00edpios da Clean Architecture, com separa\u00e7\u00e3o clara de responsabilidades:</p> <pre><code>SpendWise/\n Domain/          # Entidades e regras de neg\u00f3cio\n Application/     # Casos de uso (CQRS)\n Infrastructure/  # Persist\u00eancia e servi\u00e7os externos\n API/            # Controllers e middleware\n</code></pre>"},{"location":"overview/about/#padroes-aplicados","title":"Padr\u00f5es Aplicados","text":""},{"location":"overview/about/#domain-driven-design-ddd","title":"Domain-Driven Design (DDD)","text":"<ul> <li>Entidades Ricas: L\u00f3gica de neg\u00f3cio nas entidades</li> <li>Value Objects: Money, Email, Periodo</li> <li>Aggregates: Usuario, Transacao, Categoria</li> <li>Domain Events: Para comunica\u00e7\u00e3o entre bounded contexts</li> </ul>"},{"location":"overview/about/#cqrs-command-query-responsibility-segregation","title":"CQRS (Command Query Responsibility Segregation)","text":"<ul> <li>Commands: Para opera\u00e7\u00f5es de escrita</li> <li>Queries: Para opera\u00e7\u00f5es de leitura</li> <li>Handlers: Processamento espec\u00edfico para cada comando/consulta</li> <li>MediatR: Padr\u00e3o mediator para desacoplamento</li> </ul>"},{"location":"overview/about/#solid-principles","title":"SOLID Principles","text":"<ul> <li>S - Single Responsibility: Cada classe tem uma responsabilidade</li> <li>O - Open/Closed: Extens\u00edvel atrav\u00e9s de interfaces</li> <li>L - Liskov Substitution: Value Objects implementam corretamente</li> <li>I - Interface Segregation: Interfaces espec\u00edficas</li> <li>D - Dependency Inversion: Depend\u00eancias atrav\u00e9s de abstra\u00e7\u00f5es</li> </ul>"},{"location":"overview/about/#qualidade-de-codigo","title":"Qualidade de C\u00f3digo","text":""},{"location":"overview/about/#testes-implementados","title":"Testes Implementados","text":"<ul> <li>158 testes com 100% de sucesso</li> <li>Cobertura completa em todas as camadas</li> <li>Testes unit\u00e1rios para Domain e Application</li> <li>Testes de integra\u00e7\u00e3o para API e Infrastructure</li> <li>Testes parametrizados com m\u00faltiplos cen\u00e1rios</li> </ul>"},{"location":"overview/about/#linting-e-formatacao","title":"Linting e Formata\u00e7\u00e3o","text":"<ul> <li>ESLint para frontend (TypeScript/React)</li> <li>Prettier para formata\u00e7\u00e3o consistente</li> <li>EditorConfig para backend (.NET)</li> <li>Husky para git hooks</li> <li>lint-staged para commits limpos</li> </ul>"},{"location":"overview/about/#tecnologias-emergentes","title":"Tecnologias Emergentes","text":""},{"location":"overview/about/#backend-net-8","title":"Backend (.NET 8)","text":"<ul> <li>ASP.NET Core 8 - Framework web mais recente</li> <li>Entity Framework Core - ORM moderno</li> <li>MediatR - Padr\u00e3o mediator</li> <li>FluentValidation - Valida\u00e7\u00f5es declarativas</li> <li>AutoMapper - Mapeamento autom\u00e1tico</li> <li>Serilog - Logs estruturados</li> </ul>"},{"location":"overview/about/#frontend-nextjs-14","title":"Frontend (Next.js 14)","text":"<ul> <li>Next.js 14 - Framework React com App Router</li> <li>TypeScript - Tipagem est\u00e1tica</li> <li>Tailwind CSS - CSS utilit\u00e1rio</li> <li>Radix UI - Componentes acess\u00edveis</li> <li>React Hook Form - Formul\u00e1rios perform\u00e1ticos</li> <li>Recharts - Gr\u00e1ficos interativos</li> </ul>"},{"location":"overview/about/#devops-moderno","title":"DevOps Moderno","text":"<ul> <li>Docker - Containeriza\u00e7\u00e3o</li> <li>Docker Compose - Orquestra\u00e7\u00e3o</li> <li>GitHub Actions - CI/CD</li> <li>Nginx - Reverse proxy</li> <li>PostgreSQL - Banco de dados moderno</li> </ul>"},{"location":"overview/about/#metricas-do-projeto","title":"M\u00e9tricas do Projeto","text":""},{"location":"overview/about/#codigo","title":"C\u00f3digo","text":"<ul> <li>Backend: ~15.000 linhas de c\u00f3digo</li> <li>Frontend: ~8.000 linhas de c\u00f3digo</li> <li>Testes: 158 testes implementados</li> <li>Cobertura: 90%+ em camadas cr\u00edticas</li> </ul>"},{"location":"overview/about/#funcionalidades","title":"Funcionalidades","text":"<ul> <li>Autentica\u00e7\u00e3o completa com JWT</li> <li>CRUD de todas as entidades</li> <li>Relat\u00f3rios com gr\u00e1ficos</li> <li>Valida\u00e7\u00f5es robustas</li> <li>API REST completa</li> <li>Interface responsiva</li> </ul>"},{"location":"overview/about/#qualidade","title":"Qualidade","text":"<ul> <li>Linting configurado</li> <li>Formata\u00e7\u00e3o autom\u00e1tica</li> <li>Testes automatizados</li> <li>CI/CD funcional</li> <li>Documenta\u00e7\u00e3o completa</li> </ul>"},{"location":"overview/about/#objetivos-academicos-alcancados","title":"Objetivos Acad\u00eamicos Alcan\u00e7ados","text":""},{"location":"overview/about/#conceitos-de-arquitetura","title":"Conceitos de Arquitetura","text":"<ul> <li>Clean Architecture</li> <li>Domain-Driven Design</li> <li>CQRS e Event Sourcing</li> <li>SOLID Principles</li> <li>Design Patterns</li> </ul>"},{"location":"overview/about/#tecnologias-emergentes_1","title":"Tecnologias Emergentes","text":"<ul> <li>.NET 8 e ASP.NET Core</li> <li>Next.js 14 e React</li> <li>Docker e Containeriza\u00e7\u00e3o</li> <li>CI/CD com GitHub Actions</li> <li>PostgreSQL e EF Core</li> </ul>"},{"location":"overview/about/#praticas-modernas","title":"Pr\u00e1ticas Modernas","text":"<ul> <li>Test-Driven Development (TDD)</li> <li>Code Quality e Linting</li> <li>Git Workflow</li> <li>Documentation as Code</li> <li>DevOps e Deploy</li> </ul>"},{"location":"overview/about/#proximos-passos","title":"Pr\u00f3ximos Passos","text":""},{"location":"overview/about/#melhorias-planejadas","title":"Melhorias Planejadas","text":"<ul> <li>[ ] Implementar Domain Events</li> <li>[ ] Adicionar Factory Methods</li> <li>[ ] Implementar Builders</li> <li>[ ] Event Sourcing completo</li> <li>[ ] Microservi\u00e7os</li> </ul>"},{"location":"overview/about/#funcionalidades-futuras","title":"Funcionalidades Futuras","text":"<ul> <li>[ ] Relat\u00f3rios avan\u00e7ados</li> <li>[ ] Metas financeiras</li> <li>[ ] Alertas inteligentes</li> <li>[ ] Export/Import de dados</li> <li>[ ] API mobile</li> </ul>"},{"location":"overview/about/#aprendizados","title":"Aprendizados","text":"<p>Este projeto demonstrou a evolu\u00e7\u00e3o de um sistema simples para uma aplica\u00e7\u00e3o enterprise, aplicando:</p> <ol> <li>Arquitetura Limpa - Separa\u00e7\u00e3o clara de responsabilidades</li> <li>DDD - Modelagem rica do dom\u00ednio</li> <li>CQRS - Segrega\u00e7\u00e3o de comandos e consultas</li> <li>Testes - Qualidade e confiabilidade</li> <li>DevOps - Deploy e opera\u00e7\u00e3o</li> <li>Documenta\u00e7\u00e3o - Conhecimento compartilhado</li> </ol> <p>O resultado \u00e9 um sistema robusto, escal\u00e1vel e maint\u00edvel que serve como refer\u00eancia para desenvolvimento moderno de software.</p>"},{"location":"overview/architecture/","title":"Arquitetura do Sistema","text":""},{"location":"overview/architecture/#visao-geral-da-arquitetura","title":"Vis\u00e3o Geral da Arquitetura","text":"<p>O SpendWise implementa uma arquitetura moderna baseada em Clean Architecture, Domain-Driven Design (DDD) e CQRS, garantindo separa\u00e7\u00e3o clara de responsabilidades e alta testabilidade.</p>"},{"location":"overview/architecture/#clean-architecture","title":"Clean Architecture","text":""},{"location":"overview/architecture/#camadas-da-arquitetura","title":"Camadas da Arquitetura","text":"<pre><code>graph TB\n    subgraph \"External Interfaces\"\n        UI[Web UI]\n        API[REST API]\n        DB[(Database)]\n    end\n\n    subgraph \"Application Layer\"\n        CQRS[CQRS + MediatR]\n        VAL[Validation]\n        MAP[AutoMapper]\n    end\n\n    subgraph \"Domain Layer\"\n        ENT[Entities]\n        VO[Value Objects]\n        SRV[Domain Services]\n        EVT[Domain Events]\n    end\n\n    subgraph \"Infrastructure Layer\"\n        REPO[Repositories]\n        EF[Entity Framework]\n        EXT[External Services]\n    end\n\n    UI --&gt; API\n    API --&gt; CQRS\n    CQRS --&gt; ENT\n    CQRS --&gt; REPO\n    REPO --&gt; EF\n    EF --&gt; DB\n</code></pre>"},{"location":"overview/architecture/#principios-aplicados","title":"Princ\u00edpios Aplicados","text":""},{"location":"overview/architecture/#1-dependency-inversion","title":"1. Dependency Inversion","text":"<ul> <li>Camadas internas n\u00e3o dependem de camadas externas</li> <li>Depend\u00eancias apontam para dentro</li> <li>Abstra\u00e7\u00f5es n\u00e3o dependem de detalhes</li> </ul>"},{"location":"overview/architecture/#2-separation-of-concerns","title":"2. Separation of Concerns","text":"<ul> <li>Cada camada tem responsabilidade espec\u00edfica</li> <li>Domain cont\u00e9m apenas regras de neg\u00f3cio</li> <li>Infrastructure isola detalhes t\u00e9cnicos</li> </ul>"},{"location":"overview/architecture/#3-testability","title":"3. Testability","text":"<ul> <li>Domain \u00e9 facilmente test\u00e1vel</li> <li>Depend\u00eancias s\u00e3o injetadas</li> <li>Mocks podem ser facilmente criados</li> </ul>"},{"location":"overview/architecture/#domain-driven-design-ddd","title":"Domain-Driven Design (DDD)","text":""},{"location":"overview/architecture/#bounded-contexts","title":"Bounded Contexts","text":"<pre><code>graph LR\n    subgraph \"SpendWise Context\"\n        USER[User Management]\n        FIN[Financial Operations]\n        CAT[Category Management]\n        REP[Reporting]\n    end\n\n    USER --&gt; FIN\n    CAT --&gt; FIN\n    FIN --&gt; REP\n</code></pre>"},{"location":"overview/architecture/#domain-model","title":"Domain Model","text":""},{"location":"overview/architecture/#entities","title":"Entities","text":"<ul> <li>Usuario: Agregado raiz para gest\u00e3o de usu\u00e1rios</li> <li>Transacao: Entidade central para movimenta\u00e7\u00f5es financeiras</li> <li>Categoria: Classifica\u00e7\u00e3o de transa\u00e7\u00f5es</li> <li>OrcamentoMensal: Controle de limites mensais</li> <li>Meta: Objetivos financeiros</li> </ul>"},{"location":"overview/architecture/#value-objects","title":"Value Objects","text":"<ul> <li>Money: Representa\u00e7\u00e3o segura de valores monet\u00e1rios</li> <li>Email: Valida\u00e7\u00e3o e normaliza\u00e7\u00e3o de emails</li> <li>Periodo: Encapsulamento de per\u00edodos temporais</li> </ul>"},{"location":"overview/architecture/#aggregates","title":"Aggregates","text":"<ul> <li>Usuario Aggregate: Gerencia dados do usu\u00e1rio e suas transa\u00e7\u00f5es</li> <li>Categoria Aggregate: Controla categorias e seus limites</li> </ul>"},{"location":"overview/architecture/#domain-services","title":"Domain Services","text":"<ul> <li>TransacaoService: L\u00f3gica complexa de transa\u00e7\u00f5es</li> <li>OrcamentoService: C\u00e1lculos de or\u00e7amento</li> <li>RelatorioService: Gera\u00e7\u00e3o de relat\u00f3rios</li> </ul>"},{"location":"overview/architecture/#cqrs-command-query-responsibility-segregation","title":"CQRS (Command Query Responsibility Segregation)","text":""},{"location":"overview/architecture/#commands-escrita","title":"Commands (Escrita)","text":"<pre><code>public record CreateTransacaoCommand(\n    string Descricao,\n    decimal Valor,\n    DateTime DataTransacao,\n    TipoTransacao Tipo,\n    Guid UsuarioId,\n    Guid CategoriaId\n) : IRequest&lt;TransacaoDto&gt;;\n</code></pre>"},{"location":"overview/architecture/#queries-leitura","title":"Queries (Leitura)","text":"<pre><code>public record GetTransacoesByPeriodoQuery(\n    DateTime DataInicio,\n    DateTime DataFim,\n    Guid UsuarioId\n) : IRequest&lt;IEnumerable&lt;TransacaoDto&gt;&gt;;\n</code></pre>"},{"location":"overview/architecture/#handlers","title":"Handlers","text":"<pre><code>public class CreateTransacaoCommandHandler : IRequestHandler&lt;CreateTransacaoCommand, TransacaoDto&gt;\n{\n    private readonly IUnitOfWork _unitOfWork;\n    private readonly IMapper _mapper;\n\n    public async Task&lt;TransacaoDto&gt; Handle(CreateTransacaoCommand request, CancellationToken cancellationToken)\n    {\n        // L\u00f3gica de cria\u00e7\u00e3o\n    }\n}\n</code></pre>"},{"location":"overview/architecture/#estrutura-de-camadas","title":"Estrutura de Camadas","text":""},{"location":"overview/architecture/#domain-layer","title":"Domain Layer","text":"<pre><code>SpendWise.Domain/\n Entities/           # Entidades de neg\u00f3cio\n ValueObjects/       # Objetos de valor\n Interfaces/         # Contratos do dom\u00ednio\n Enums/             # Enumera\u00e7\u00f5es\n Exceptions/        # Exce\u00e7\u00f5es de dom\u00ednio\n Utils/             # Utilit\u00e1rios\n</code></pre>"},{"location":"overview/architecture/#application-layer","title":"Application Layer","text":"<pre><code>SpendWise.Application/\n Commands/          # Comandos CQRS\n Queries/           # Consultas CQRS\n Handlers/          # Handlers CQRS\n DTOs/              # Data Transfer Objects\n Validators/        # Valida\u00e7\u00f5es\n Services/          # Servi\u00e7os de aplica\u00e7\u00e3o\n Mappings/          # Mapeamentos AutoMapper\n</code></pre>"},{"location":"overview/architecture/#infrastructure-layer","title":"Infrastructure Layer","text":"<pre><code>SpendWise.Infrastructure/\n Data/              # Entity Framework\n Repositories/      # Implementa\u00e7\u00f5es de reposit\u00f3rios\n Services/          # Servi\u00e7os externos\n Configurations/    # Configura\u00e7\u00f5es EF\n Migrations/        # Migra\u00e7\u00f5es do banco\n</code></pre>"},{"location":"overview/architecture/#api-layer","title":"API Layer","text":"<pre><code>SpendWise.API/\n Controllers/       # Controllers REST\n Middleware/        # Middleware customizado\n Extensions/        # Extens\u00f5es\n Program.cs         # Configura\u00e7\u00e3o da aplica\u00e7\u00e3o\n</code></pre>"},{"location":"overview/architecture/#fluxo-de-dados","title":"Fluxo de Dados","text":""},{"location":"overview/architecture/#criacao-de-transacao","title":"Cria\u00e7\u00e3o de Transa\u00e7\u00e3o","text":"<pre><code>sequenceDiagram\n    participant C as Controller\n    participant M as MediatR\n    participant H as Handler\n    participant D as Domain\n    participant R as Repository\n    participant DB as Database\n\n    C-&gt;&gt;M: CreateTransacaoCommand\n    M-&gt;&gt;H: Handle(command)\n    H-&gt;&gt;D: new Transacao(...)\n    D--&gt;&gt;H: Transacao entity\n    H-&gt;&gt;R: AddAsync(transacao)\n    R-&gt;&gt;DB: SaveChanges()\n    DB--&gt;&gt;R: Success\n    R--&gt;&gt;H: Transacao\n    H-&gt;&gt;H: Map to DTO\n    H--&gt;&gt;M: TransacaoDto\n    M--&gt;&gt;C: TransacaoDto\n</code></pre>"},{"location":"overview/architecture/#consulta-de-transacoes","title":"Consulta de Transa\u00e7\u00f5es","text":"<pre><code>sequenceDiagram\n    participant C as Controller\n    participant M as MediatR\n    participant H as QueryHandler\n    participant R as Repository\n    participant DB as Database\n\n    C-&gt;&gt;M: GetTransacoesQuery\n    M-&gt;&gt;H: Handle(query)\n    H-&gt;&gt;R: GetByPeriodoAsync(...)\n    R-&gt;&gt;DB: SELECT * FROM Transacoes\n    DB--&gt;&gt;R: List&lt;Transacao&gt;\n    R--&gt;&gt;H: List&lt;Transacao&gt;\n    H-&gt;&gt;H: Map to DTOs\n    H--&gt;&gt;M: List&lt;TransacaoDto&gt;\n    M--&gt;&gt;C: List&lt;TransacaoDto&gt;\n</code></pre>"},{"location":"overview/architecture/#testabilidade","title":"Testabilidade","text":""},{"location":"overview/architecture/#estrategia-de-testes","title":"Estrat\u00e9gia de Testes","text":""},{"location":"overview/architecture/#unit-tests-domain","title":"Unit Tests (Domain)","text":"<ul> <li>Testam regras de neg\u00f3cio isoladamente</li> <li>Sem depend\u00eancias externas</li> <li>Foco em l\u00f3gica de dom\u00ednio</li> </ul>"},{"location":"overview/architecture/#integration-tests-application","title":"Integration Tests (Application)","text":"<ul> <li>Testam handlers CQRS</li> <li>Com depend\u00eancias mockadas</li> <li>Valida\u00e7\u00e3o de fluxos completos</li> </ul>"},{"location":"overview/architecture/#api-tests-infrastructure","title":"API Tests (Infrastructure)","text":"<ul> <li>Testam endpoints completos</li> <li>Com banco de dados real</li> <li>Valida\u00e7\u00e3o end-to-end</li> </ul>"},{"location":"overview/architecture/#mocking-strategy","title":"Mocking Strategy","text":"<pre><code>// Exemplo de teste com mock\n[Fact]\npublic async Task CreateTransacao_ShouldReturnSuccess()\n{\n    // Arrange\n    var mockUnitOfWork = new Mock&lt;IUnitOfWork&gt;();\n    var mockMapper = new Mock&lt;IMapper&gt;();\n    var handler = new CreateTransacaoCommandHandler(mockUnitOfWork.Object, mockMapper.Object);\n\n    // Act\n    var result = await handler.Handle(command, CancellationToken.None);\n\n    // Assert\n    Assert.NotNull(result);\n    mockUnitOfWork.Verify(x =&gt; x.SaveChangesAsync(), Times.Once);\n}\n</code></pre>"},{"location":"overview/architecture/#seguranca","title":"Seguran\u00e7a","text":""},{"location":"overview/architecture/#autenticacao-e-autorizacao","title":"Autentica\u00e7\u00e3o e Autoriza\u00e7\u00e3o","text":"<ul> <li>JWT Tokens para autentica\u00e7\u00e3o</li> <li>Claims-based authorization</li> <li>Middleware de autentica\u00e7\u00e3o</li> <li>Prote\u00e7\u00e3o de rotas sens\u00edveis</li> </ul>"},{"location":"overview/architecture/#validacao-de-dados","title":"Valida\u00e7\u00e3o de Dados","text":"<ul> <li>FluentValidation para valida\u00e7\u00f5es</li> <li>Model Validation no ASP.NET Core</li> <li>Sanitiza\u00e7\u00e3o de inputs</li> <li>Rate Limiting para APIs</li> </ul>"},{"location":"overview/architecture/#performance","title":"Performance","text":""},{"location":"overview/architecture/#otimizacoes-implementadas","title":"Otimiza\u00e7\u00f5es Implementadas","text":"<ul> <li>Async/Await em todas as opera\u00e7\u00f5es I/O</li> <li>Pagination para listagens grandes</li> <li>Caching de consultas frequentes</li> <li>Connection Pooling no banco de dados</li> </ul>"},{"location":"overview/architecture/#monitoring","title":"Monitoring","text":"<ul> <li>Health Checks para monitoramento</li> <li>Structured Logging com Serilog</li> <li>Metrics de performance</li> <li>Error Tracking centralizado</li> </ul>"},{"location":"overview/architecture/#escalabilidade","title":"Escalabilidade","text":""},{"location":"overview/architecture/#horizontal-scaling","title":"Horizontal Scaling","text":"<ul> <li>Stateless design</li> <li>Database independente</li> <li>Load Balancing ready</li> <li>Microservices preparation</li> </ul>"},{"location":"overview/architecture/#vertical-scaling","title":"Vertical Scaling","text":"<ul> <li>Memory optimization</li> <li>CPU efficient algorithms</li> <li>Database indexing</li> <li>Caching strategies</li> </ul>"},{"location":"overview/architecture/#manutenibilidade","title":"Manutenibilidade","text":""},{"location":"overview/architecture/#code-quality","title":"Code Quality","text":"<ul> <li>SOLID principles</li> <li>Clean Code practices</li> <li>Design Patterns aplicados</li> <li>Documentation completa</li> </ul>"},{"location":"overview/architecture/#refactoring","title":"Refactoring","text":"<ul> <li>Small methods</li> <li>Single responsibility</li> <li>Testable code</li> <li>Readable structure</li> </ul> <p>Esta arquitetura garante que o sistema seja robusto, escal\u00e1vel, test\u00e1vel e maint\u00edvel, seguindo as melhores pr\u00e1ticas da ind\u00fastria de software.</p>"},{"location":"overview/technologies/","title":"Tecnologias Utilizadas","text":""},{"location":"overview/technologies/#stack-tecnologico","title":"Stack Tecnol\u00f3gico","text":"<p>O SpendWise utiliza uma stack moderna e robusta, combinando as melhores tecnologias dispon\u00edveis para desenvolvimento web.</p>"},{"location":"overview/technologies/#backend-net-8","title":"Backend (.NET 8)","text":""},{"location":"overview/technologies/#aspnet-core-8","title":"ASP.NET Core 8","text":"<ul> <li>Framework: Web API moderna e perform\u00e1tica</li> <li>Caracter\u00edsticas: Cross-platform, async/await, dependency injection</li> <li>Vers\u00e3o: 8.0 (LTS)</li> <li>Benef\u00edcios: Alta performance, seguran\u00e7a, escalabilidade</li> </ul>"},{"location":"overview/technologies/#entity-framework-core","title":"Entity Framework Core","text":"<ul> <li>ORM: Mapeamento objeto-relacional</li> <li>Caracter\u00edsticas: Code First, Migrations, LINQ</li> <li>Vers\u00e3o: 8.0</li> <li>Benef\u00edcios: Produtividade, type safety, migrations autom\u00e1ticas</li> </ul>"},{"location":"overview/technologies/#postgresql","title":"PostgreSQL","text":"<ul> <li>Banco de Dados: Relacional robusto</li> <li>Caracter\u00edsticas: ACID, JSON support, full-text search</li> <li>Vers\u00e3o: 15+</li> <li>Benef\u00edcios: Confiabilidade, performance, recursos avan\u00e7ados</li> </ul>"},{"location":"overview/technologies/#mediatr","title":"MediatR","text":"<ul> <li>Padr\u00e3o: Mediator para CQRS</li> <li>Caracter\u00edsticas: Desacoplamento, testabilidade</li> <li>Vers\u00e3o: 12.0</li> <li>Benef\u00edcios: Separa\u00e7\u00e3o de responsabilidades, f\u00e1cil teste</li> </ul>"},{"location":"overview/technologies/#fluentvalidation","title":"FluentValidation","text":"<ul> <li>Valida\u00e7\u00e3o: Valida\u00e7\u00f5es declarativas</li> <li>Caracter\u00edsticas: Fluent API, custom validators</li> <li>Vers\u00e3o: 11.0</li> <li>Benef\u00edcios: Valida\u00e7\u00f5es robustas, mensagens customizadas</li> </ul>"},{"location":"overview/technologies/#automapper","title":"AutoMapper","text":"<ul> <li>Mapeamento: Objeto para objeto</li> <li>Caracter\u00edsticas: Performance, configura\u00e7\u00e3o flex\u00edvel</li> <li>Vers\u00e3o: 12.0</li> <li>Benef\u00edcios: Redu\u00e7\u00e3o de c\u00f3digo boilerplate</li> </ul>"},{"location":"overview/technologies/#serilog","title":"Serilog","text":"<ul> <li>Logging: Logs estruturados</li> <li>Caracter\u00edsticas: Structured logging, sinks</li> <li>Vers\u00e3o: 3.0</li> <li>Benef\u00edcios: Logs organizados, f\u00e1cil an\u00e1lise</li> </ul>"},{"location":"overview/technologies/#frontend-nextjs-14","title":"Frontend (Next.js 14)","text":""},{"location":"overview/technologies/#nextjs-14","title":"Next.js 14","text":"<ul> <li>Framework: React com App Router</li> <li>Caracter\u00edsticas: SSR, SSG, ISR, API Routes</li> <li>Vers\u00e3o: 14.0</li> <li>Benef\u00edcios: Performance, SEO, developer experience</li> </ul>"},{"location":"overview/technologies/#typescript","title":"TypeScript","text":"<ul> <li>Linguagem: JavaScript tipado</li> <li>Caracter\u00edsticas: Type safety, IntelliSense</li> <li>Vers\u00e3o: 5.0</li> <li>Benef\u00edcios: Menos bugs, melhor refactoring</li> </ul>"},{"location":"overview/technologies/#tailwind-css","title":"Tailwind CSS","text":"<ul> <li>CSS Framework: Utility-first</li> <li>Caracter\u00edsticas: Responsive, customiz\u00e1vel</li> <li>Vers\u00e3o: 3.0</li> <li>Benef\u00edcios: Desenvolvimento r\u00e1pido, consist\u00eancia</li> </ul>"},{"location":"overview/technologies/#radix-ui","title":"Radix UI","text":"<ul> <li>Componentes: Acess\u00edveis e customiz\u00e1veis</li> <li>Caracter\u00edsticas: Headless, acessibilidade</li> <li>Vers\u00e3o: 1.0</li> <li>Benef\u00edcios: Acessibilidade, customiza\u00e7\u00e3o</li> </ul>"},{"location":"overview/technologies/#react-hook-form","title":"React Hook Form","text":"<ul> <li>Formul\u00e1rios: Gerenciamento perform\u00e1tico</li> <li>Caracter\u00edsticas: Valida\u00e7\u00e3o, performance</li> <li>Vers\u00e3o: 7.0</li> <li>Benef\u00edcios: Menos re-renders, valida\u00e7\u00e3o integrada</li> </ul>"},{"location":"overview/technologies/#recharts","title":"Recharts","text":"<ul> <li>Gr\u00e1ficos: Visualiza\u00e7\u00f5es interativas</li> <li>Caracter\u00edsticas: Responsive, customiz\u00e1vel</li> <li>Vers\u00e3o: 2.0</li> <li>Benef\u00edcios: Gr\u00e1ficos modernos, f\u00e1cil uso</li> </ul>"},{"location":"overview/technologies/#devops-infraestrutura","title":"DevOps &amp; Infraestrutura","text":""},{"location":"overview/technologies/#docker","title":"Docker","text":"<ul> <li>Containeriza\u00e7\u00e3o: Aplica\u00e7\u00f5es isoladas</li> <li>Caracter\u00edsticas: Multi-stage builds, health checks</li> <li>Vers\u00e3o: 24.0</li> <li>Benef\u00edcios: Consist\u00eancia, portabilidade</li> </ul>"},{"location":"overview/technologies/#docker-compose","title":"Docker Compose","text":"<ul> <li>Orquestra\u00e7\u00e3o: Multi-container applications</li> <li>Caracter\u00edsticas: Development, production configs</li> <li>Vers\u00e3o: 2.0</li> <li>Benef\u00edcios: Facilidade de setup, ambientes isolados</li> </ul>"},{"location":"overview/technologies/#nginx","title":"Nginx","text":"<ul> <li>Reverse Proxy: Load balancing, SSL</li> <li>Caracter\u00edsticas: High performance, configura\u00e7\u00e3o flex\u00edvel</li> <li>Vers\u00e3o: 1.24</li> <li>Benef\u00edcios: Performance, seguran\u00e7a</li> </ul>"},{"location":"overview/technologies/#github-actions","title":"GitHub Actions","text":"<ul> <li>CI/CD: Automa\u00e7\u00e3o de pipelines</li> <li>Caracter\u00edsticas: Workflows, matrix builds</li> <li>Vers\u00e3o: Latest</li> <li>Benef\u00edcios: Integra\u00e7\u00e3o cont\u00ednua, deploy autom\u00e1tico</li> </ul>"},{"location":"overview/technologies/#testes-qualidade","title":"Testes &amp; Qualidade","text":""},{"location":"overview/technologies/#xunit","title":"xUnit","text":"<ul> <li>Framework: Testes unit\u00e1rios</li> <li>Caracter\u00edsticas: Attributes, assertions</li> <li>Vers\u00e3o: 2.0</li> <li>Benef\u00edcios: Padr\u00e3o .NET, f\u00e1cil uso</li> </ul>"},{"location":"overview/technologies/#fluentassertions","title":"FluentAssertions","text":"<ul> <li>Assertions: Sintaxe fluente</li> <li>Caracter\u00edsticas: Readable tests, extens\u00edvel</li> <li>Vers\u00e3o: 6.0</li> <li>Benef\u00edcios: Testes mais leg\u00edveis</li> </ul>"},{"location":"overview/technologies/#moq","title":"Moq","text":"<ul> <li>Mocking: Mocks e stubs</li> <li>Caracter\u00edsticas: Type-safe, configura\u00e7\u00e3o flex\u00edvel</li> <li>Vers\u00e3o: 4.0</li> <li>Benef\u00edcios: Isolamento de depend\u00eancias</li> </ul>"},{"location":"overview/technologies/#testcontainers","title":"Testcontainers","text":"<ul> <li>Testes de Integra\u00e7\u00e3o: Containers para testes</li> <li>Caracter\u00edsticas: Real databases, cleanup autom\u00e1tico</li> <li>Vers\u00e3o: 3.0</li> <li>Benef\u00edcios: Testes mais realistas</li> </ul>"},{"location":"overview/technologies/#playwright","title":"Playwright","text":"<ul> <li>E2E Testing: Testes end-to-end</li> <li>Caracter\u00edsticas: Multi-browser, auto-wait</li> <li>Vers\u00e3o: 1.0</li> <li>Benef\u00edcios: Testes de UI robustos</li> </ul>"},{"location":"overview/technologies/#monitoramento-observabilidade","title":"Monitoramento &amp; Observabilidade","text":""},{"location":"overview/technologies/#serilog_1","title":"Serilog","text":"<ul> <li>Logging: Logs estruturados</li> <li>Sinks: Console, File, Database</li> <li>Benef\u00edcios: Debugging, an\u00e1lise de performance</li> </ul>"},{"location":"overview/technologies/#health-checks","title":"Health Checks","text":"<ul> <li>Monitoramento: Status da aplica\u00e7\u00e3o</li> <li>Caracter\u00edsticas: Database, external services</li> <li>Benef\u00edcios: Detec\u00e7\u00e3o de problemas</li> </ul>"},{"location":"overview/technologies/#structured-logging","title":"Structured Logging","text":"<ul> <li>Formato: JSON logs</li> <li>Caracter\u00edsticas: Correla\u00e7\u00e3o, an\u00e1lise</li> <li>Benef\u00edcios: Troubleshooting eficiente</li> </ul>"},{"location":"overview/technologies/#seguranca","title":"Seguran\u00e7a","text":""},{"location":"overview/technologies/#jwt-json-web-tokens","title":"JWT (JSON Web Tokens)","text":"<ul> <li>Autentica\u00e7\u00e3o: Stateless authentication</li> <li>Caracter\u00edsticas: Self-contained, secure</li> <li>Benef\u00edcios: Escalabilidade, seguran\u00e7a</li> </ul>"},{"location":"overview/technologies/#bcrypt","title":"BCrypt","text":"<ul> <li>Hashing: Senhas seguras</li> <li>Caracter\u00edsticas: Salt autom\u00e1tico, slow hashing</li> <li>Benef\u00edcios: Prote\u00e7\u00e3o contra ataques</li> </ul>"},{"location":"overview/technologies/#https","title":"HTTPS","text":"<ul> <li>Criptografia: Comunica\u00e7\u00e3o segura</li> <li>Caracter\u00edsticas: TLS 1.3, certificados</li> <li>Benef\u00edcios: Prote\u00e7\u00e3o de dados</li> </ul>"},{"location":"overview/technologies/#rate-limiting","title":"Rate Limiting","text":"<ul> <li>Prote\u00e7\u00e3o: Ataques de for\u00e7a bruta</li> <li>Caracter\u00edsticas: Por IP, por usu\u00e1rio</li> <li>Benef\u00edcios: Preven\u00e7\u00e3o de abuso</li> </ul>"},{"location":"overview/technologies/#performance","title":"Performance","text":""},{"location":"overview/technologies/#asyncawait","title":"Async/Await","text":"<ul> <li>Concorr\u00eancia: Opera\u00e7\u00f5es n\u00e3o-bloqueantes</li> <li>Benef\u00edcios: Melhor utiliza\u00e7\u00e3o de recursos</li> </ul>"},{"location":"overview/technologies/#connection-pooling","title":"Connection Pooling","text":"<ul> <li>Database: Reutiliza\u00e7\u00e3o de conex\u00f5es</li> <li>Benef\u00edcios: Performance, escalabilidade</li> </ul>"},{"location":"overview/technologies/#caching","title":"Caching","text":"<ul> <li>Mem\u00f3ria: Dados frequentemente acessados</li> <li>Caracter\u00edsticas: In-memory, distributed</li> <li>Benef\u00edcios: Redu\u00e7\u00e3o de lat\u00eancia</li> </ul>"},{"location":"overview/technologies/#cdn","title":"CDN","text":"<ul> <li>Assets: Entrega global</li> <li>Caracter\u00edsticas: Edge locations</li> <li>Benef\u00edcios: Performance global</li> </ul>"},{"location":"overview/technologies/#ferramentas-de-desenvolvimento","title":"Ferramentas de Desenvolvimento","text":""},{"location":"overview/technologies/#visual-studio-code","title":"Visual Studio Code","text":"<ul> <li>IDE: Editor moderno</li> <li>Extensions: C#, TypeScript, Docker</li> <li>Benef\u00edcios: Produtividade, integra\u00e7\u00e3o</li> </ul>"},{"location":"overview/technologies/#git","title":"Git","text":"<ul> <li>Version Control: Controle de vers\u00e3o</li> <li>Caracter\u00edsticas: Branching, merging</li> <li>Benef\u00edcios: Colabora\u00e7\u00e3o, hist\u00f3rico</li> </ul>"},{"location":"overview/technologies/#eslint","title":"ESLint","text":"<ul> <li>Linting: Qualidade de c\u00f3digo</li> <li>Caracter\u00edsticas: Rules, auto-fix</li> <li>Benef\u00edcios: Consist\u00eancia, bugs</li> </ul>"},{"location":"overview/technologies/#prettier","title":"Prettier","text":"<ul> <li>Formata\u00e7\u00e3o: C\u00f3digo consistente</li> <li>Caracter\u00edsticas: Auto-format, configura\u00e7\u00e3o</li> <li>Benef\u00edcios: Legibilidade, padroniza\u00e7\u00e3o</li> </ul>"},{"location":"overview/technologies/#bibliotecas-de-apoio","title":"Bibliotecas de Apoio","text":""},{"location":"overview/technologies/#backend","title":"Backend","text":"<ul> <li>FluentValidation: Valida\u00e7\u00f5es</li> <li>AutoMapper: Mapeamento</li> <li>Serilog: Logging</li> <li>MediatR: CQRS</li> <li>Entity Framework: ORM</li> </ul>"},{"location":"overview/technologies/#frontend","title":"Frontend","text":"<ul> <li>React Hook Form: Formul\u00e1rios</li> <li>Radix UI: Componentes</li> <li>Tailwind CSS: Estilos</li> <li>Recharts: Gr\u00e1ficos</li> <li>Zustand: Estado</li> </ul>"},{"location":"overview/technologies/#devops","title":"DevOps","text":"<ul> <li>Docker: Containeriza\u00e7\u00e3o</li> <li>Nginx: Reverse proxy</li> <li>GitHub Actions: CI/CD</li> <li>PostgreSQL: Database</li> </ul>"},{"location":"overview/technologies/#criterios-de-escolha","title":"Crit\u00e9rios de Escolha","text":""},{"location":"overview/technologies/#performance_1","title":"Performance","text":"<ul> <li>Backend: .NET 8 (alta performance)</li> <li>Frontend: Next.js 14 (SSR/SSG)</li> <li>Database: PostgreSQL (robusto)</li> </ul>"},{"location":"overview/technologies/#produtividade","title":"Produtividade","text":"<ul> <li>TypeScript: Type safety</li> <li>AutoMapper: Redu\u00e7\u00e3o de c\u00f3digo</li> <li>Tailwind: CSS r\u00e1pido</li> </ul>"},{"location":"overview/technologies/#escalabilidade","title":"Escalabilidade","text":"<ul> <li>Docker: Containeriza\u00e7\u00e3o</li> <li>CQRS: Separa\u00e7\u00e3o de responsabilidades</li> <li>Microservices: Prepara\u00e7\u00e3o futura</li> </ul>"},{"location":"overview/technologies/#manutenibilidade","title":"Manutenibilidade","text":"<ul> <li>Clean Architecture: Separa\u00e7\u00e3o clara</li> <li>Tests: Cobertura alta</li> <li>Documentation: Completa</li> </ul>"},{"location":"overview/technologies/#proximas-tecnologias","title":"Pr\u00f3ximas Tecnologias","text":""},{"location":"overview/technologies/#planejadas","title":"Planejadas","text":"<ul> <li>Redis: Caching distribu\u00eddo</li> <li>Elasticsearch: Busca avan\u00e7ada</li> <li>Kubernetes: Orquestra\u00e7\u00e3o</li> <li>Prometheus: M\u00e9tricas</li> <li>Grafana: Dashboards</li> </ul>"},{"location":"overview/technologies/#em-avaliacao","title":"Em Avalia\u00e7\u00e3o","text":"<ul> <li>gRPC: Comunica\u00e7\u00e3o interna</li> <li>GraphQL: API flex\u00edvel</li> <li>WebSockets: Real-time</li> <li>Machine Learning: Insights</li> </ul> <p>Esta stack tecnol\u00f3gica garante que o SpendWise seja uma aplica\u00e7\u00e3o moderna, escal\u00e1vel e maint\u00edvel, seguindo as melhores pr\u00e1ticas da ind\u00fastria.</p>"},{"location":"specs/business-rules/","title":"Regras de Neg\u00f3cio","text":""},{"location":"specs/business-rules/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>Este documento detalha todas as regras de neg\u00f3cio implementadas no SpendWise, servindo como especifica\u00e7\u00e3o para desenvolvimento e valida\u00e7\u00e3o dos testes.</p>"},{"location":"specs/business-rules/#regra-1-limite-mensal-por-categoria","title":"Regra 1: Limite Mensal por Categoria","text":""},{"location":"specs/business-rules/#descricao","title":"Descri\u00e7\u00e3o","text":"<p>Controle de gastos por categoria com limite mensal acumulativo e sistema de alertas.</p>"},{"location":"specs/business-rules/#comportamento-esperado","title":"Comportamento Esperado","text":"<ol> <li>C\u00e1lculo Acumulado: Somar todas as despesas da categoria no m\u00eas corrente + nova despesa</li> <li>Alerta aos 80%: Emitir aviso quando atingir 80% do limite</li> <li>Bloqueio aos 100%: Impedir nova despesa que ultrapasse o limite</li> </ol>"},{"location":"specs/business-rules/#criterios-de-aceitacao","title":"Crit\u00e9rios de Aceita\u00e7\u00e3o","text":"<ul> <li>Usu\u00e1rio pode definir limite mensal para cada categoria</li> <li>Sistema calcula gasto acumulado do m\u00eas automaticamente</li> <li>Alerta \u00e9 exibido quando gasto \u2265 80% do limite</li> <li>Despesa \u00e9 bloqueada quando gasto + nova despesa &gt; limite</li> <li>Alertas s\u00e3o enviados em tempo real</li> </ul>"},{"location":"specs/business-rules/#cenarios-de-teste","title":"Cen\u00e1rios de Teste","text":"<pre><code>Cen\u00e1rio: Alerta aos 80% do limite\n  Dado que tenho uma categoria \"Alimenta\u00e7\u00e3o\" com limite de R$ 1000\n  E j\u00e1 gastei R$ 790 no m\u00eas atual\n  Quando tento adicionar uma despesa de R$ 50\n  Ent\u00e3o o sistema deve permitir a despesa\n  E exibir alerta \"Categoria pr\u00f3xima do limite: 84% utilizado\"\n\nCen\u00e1rio: Bloqueio ao ultrapassar limite\n  Dado que tenho uma categoria \"Lazer\" com limite de R$ 500\n  E j\u00e1 gastei R$ 480 no m\u00eas atual\n  Quando tento adicionar uma despesa de R$ 50\n  Ent\u00e3o o sistema deve bloquear a opera\u00e7\u00e3o\n  E exibir mensagem \"Despesa ultrapassa limite da categoria\"\n</code></pre>"},{"location":"specs/business-rules/#regra-2-orcamento-mensal-por-usuario","title":"Regra 2: Or\u00e7amento Mensal por Usu\u00e1rio","text":""},{"location":"specs/business-rules/#descricao_1","title":"Descri\u00e7\u00e3o","text":"<p>Controle global de gastos mensais por usu\u00e1rio, impedindo que o total de despesas ultrapasse o or\u00e7amento definido.</p>"},{"location":"specs/business-rules/#comportamento-esperado_1","title":"Comportamento Esperado","text":"<ol> <li>Or\u00e7amento \u00danico: Um or\u00e7amento por usu\u00e1rio por m\u00eas</li> <li>Valida\u00e7\u00e3o Global: Verificar total de despesas antes de permitir nova transa\u00e7\u00e3o</li> <li>Bloqueio Preventivo: Impedir despesa que exceda or\u00e7amento restante</li> </ol>"},{"location":"specs/business-rules/#criterios-de-aceitacao_1","title":"Crit\u00e9rios de Aceita\u00e7\u00e3o","text":"<ul> <li>Usu\u00e1rio define or\u00e7amento mensal \u00fanico</li> <li>Sistema calcula total de despesas do m\u00eas</li> <li>Despesa \u00e9 bloqueada se exceder saldo restante</li> <li>Relat\u00f3rio mostra % de utiliza\u00e7\u00e3o do or\u00e7amento</li> <li>Alertas aos 90% de utiliza\u00e7\u00e3o</li> </ul>"},{"location":"specs/business-rules/#cenarios-de-teste_1","title":"Cen\u00e1rios de Teste","text":"<pre><code>Cen\u00e1rio: Bloqueio por falta de or\u00e7amento\n  Dado que defini or\u00e7amento mensal de R$ 3000\n  E j\u00e1 gastei R$ 2950 no m\u00eas atual\n  Quando tento adicionar despesa de R$ 100\n  Ent\u00e3o o sistema deve bloquear a opera\u00e7\u00e3o\n  E exibir \"Or\u00e7amento mensal insuficiente: restam R$ 50\"\n</code></pre>"},{"location":"specs/business-rules/#regra-3-validacao-temporal","title":"\u23f0 Regra 3: Valida\u00e7\u00e3o Temporal","text":""},{"location":"specs/business-rules/#descricao_2","title":"Descri\u00e7\u00e3o","text":"<p>Controles de integridade temporal para garantir consist\u00eancia dos dados financeiros.</p>"},{"location":"specs/business-rules/#comportamento-esperado_2","title":"Comportamento Esperado","text":"<ol> <li>Data N\u00e3o Futura: Transa\u00e7\u00f5es n\u00e3o podem ter data posterior ao dia atual</li> <li>Fechamento Mensal: Ap\u00f3s fechamento, proibir altera\u00e7\u00f5es no per\u00edodo</li> <li>Auditoria: Manter hist\u00f3rico de todas as altera\u00e7\u00f5es</li> </ol>"},{"location":"specs/business-rules/#criterios-de-aceitacao_2","title":"Crit\u00e9rios de Aceita\u00e7\u00e3o","text":"<ul> <li>Data da transa\u00e7\u00e3o \u2264 data atual</li> <li>Transa\u00e7\u00f5es de m\u00eas fechado s\u00e3o bloqueadas para edi\u00e7\u00e3o</li> <li>Fechamento mensal \u00e9 irrevers\u00edvel</li> <li>Log de auditoria registra todas as tentativas</li> </ul>"},{"location":"specs/business-rules/#cenarios-de-teste_2","title":"Cen\u00e1rios de Teste","text":"<pre><code>Cen\u00e1rio: Bloqueio de data futura\n  Quando tento criar transa\u00e7\u00e3o com data de amanh\u00e3\n  Ent\u00e3o o sistema deve rejeitar\n  E exibir \"Data n\u00e3o pode ser futura\"\n\nCen\u00e1rio: Prote\u00e7\u00e3o de m\u00eas fechado\n  Dado que fechei o m\u00eas de julho/2025\n  Quando tento editar transa\u00e7\u00e3o de 15/07/2025\n  Ent\u00e3o o sistema deve bloquear\n  E exibir \"M\u00eas j\u00e1 fechado para altera\u00e7\u00f5es\"\n</code></pre>"},{"location":"specs/business-rules/#regra-4-prioridade-essencial-x-superfluo","title":"Regra 4: Prioridade Essencial x Sup\u00e9rfluo","text":""},{"location":"specs/business-rules/#descricao_3","title":"Descri\u00e7\u00e3o","text":"<p>Sistema inteligente de prioriza\u00e7\u00e3o que bloqueia gastos sup\u00e9rfluos quando h\u00e1 comprometimento financeiro.</p>"},{"location":"specs/business-rules/#comportamento-esperado_3","title":"Comportamento Esperado","text":"<ol> <li>Classifica\u00e7\u00e3o: Categorias marcadas como ESSENCIAL ou SUPERFLUO</li> <li>Valida\u00e7\u00e3o Preventiva: Bloquear sup\u00e9rfluos se essenciais comprometidos</li> <li>Proje\u00e7\u00e3o Inteligente: Considerar tend\u00eancias mensais</li> </ol>"},{"location":"specs/business-rules/#criterios-de-aceitacao_3","title":"Crit\u00e9rios de Aceita\u00e7\u00e3o","text":"<ul> <li>Categorias classificadas por tipo</li> <li>Gastos sup\u00e9rfluos bloqueados se or\u00e7amento essencial &gt; 100%</li> <li>Alerta quando proje\u00e7\u00e3o essencial indica problema</li> <li>Exce\u00e7\u00f5es podem ser autorizadas manualmente</li> </ul>"},{"location":"specs/business-rules/#cenarios-de-teste_3","title":"Cen\u00e1rios de Teste","text":"<pre><code>Cen\u00e1rio: Bloqueio de sup\u00e9rfluo por comprometimento essencial\n  Dado que categorias essenciais j\u00e1 consumiram 105% do or\u00e7amento\n  Quando tento adicionar despesa em categoria sup\u00e9rflua\n  Ent\u00e3o o sistema deve bloquear\n  E sugerir \"Quite primeiro os gastos essenciais\"\n</code></pre>"},{"location":"specs/business-rules/#regra-5-relatorios-e-alertas","title":"Regra 5: Relat\u00f3rios e Alertas","text":""},{"location":"specs/business-rules/#descricao_4","title":"Descri\u00e7\u00e3o","text":"<p>Sistema proativo de monitoramento e reporting para educa\u00e7\u00e3o financeira.</p>"},{"location":"specs/business-rules/#comportamento-esperado_4","title":"Comportamento Esperado","text":"<ol> <li>Relat\u00f3rio Mensal: Consolida\u00e7\u00e3o autom\u00e1tica de receitas, despesas e saldos</li> <li>Alertas Autom\u00e1ticos: Notifica\u00e7\u00f5es preventivas</li> <li>An\u00e1lise por Categoria: Breakdown detalhado dos gastos</li> </ol>"},{"location":"specs/business-rules/#criterios-de-aceitacao_4","title":"Crit\u00e9rios de Aceita\u00e7\u00e3o","text":"<ul> <li>Relat\u00f3rio mensal gerado automaticamente</li> <li>Alertas em tempo real para limites</li> <li>Compara\u00e7\u00e3o m\u00eas anterior</li> <li>Gr\u00e1ficos e visualiza\u00e7\u00f5es</li> </ul>"},{"location":"specs/business-rules/#regra-6-metas-financeiras","title":"Regra 6: Metas Financeiras","text":""},{"location":"specs/business-rules/#descricao_5","title":"Descri\u00e7\u00e3o","text":"<p>Sistema de defini\u00e7\u00e3o e acompanhamento de objetivos financeiros com proje\u00e7\u00f5es inteligentes.</p>"},{"location":"specs/business-rules/#comportamento-esperado_5","title":"Comportamento Esperado","text":"<ol> <li>Defini\u00e7\u00e3o de Metas: \"Juntar X at\u00e9 YYYY-MM\"</li> <li>C\u00e1lculo de Progresso: Receitas - Despesas - Compromissos</li> <li>Proje\u00e7\u00e3o de Alcance: Estimativa baseada em m\u00e9dia mensal</li> </ol>"},{"location":"specs/business-rules/#criterios-de-aceitacao_5","title":"Crit\u00e9rios de Aceita\u00e7\u00e3o","text":"<ul> <li>M\u00faltiplas metas simult\u00e2neas</li> <li>Progresso calculado automaticamente</li> <li>Proje\u00e7\u00e3o de data de alcance</li> <li>Alertas de marcos (25%, 50%, 75%, 100%)</li> </ul>"},{"location":"specs/business-rules/#cenarios-de-teste_4","title":"Cen\u00e1rios de Teste","text":"<pre><code>Cen\u00e1rio: Proje\u00e7\u00e3o de meta\n  Dado que defini meta de R$ 10000 at\u00e9 dez/2025\n  E tenho hist\u00f3rico de economia m\u00e9dia de R$ 1000/m\u00eas\n  Quando consulto o progresso\n  Ent\u00e3o sistema projeta alcance em outubro/2025\n  E sugere \"Meta ser\u00e1 alcan\u00e7ada 2 meses antes do prazo\"\n</code></pre>"},{"location":"specs/business-rules/#testes-de-integracao-das-regras","title":"Testes de Integra\u00e7\u00e3o das Regras","text":""},{"location":"specs/business-rules/#cenario-complexo-multiplas-regras","title":"Cen\u00e1rio Complexo: M\u00faltiplas Regras","text":"<pre><code>Cen\u00e1rio: Valida\u00e7\u00e3o integrada de todas as regras\n  Dado usu\u00e1rio com or\u00e7amento mensal de R$ 3000\n  E categoria \"Alimenta\u00e7\u00e3o\" (essencial) com limite R$ 800\n  E categoria \"Lazer\" (sup\u00e9rfluo) com limite R$ 400\n  E j\u00e1 gastou R$ 2800 no m\u00eas (R$ 750 alimenta\u00e7\u00e3o, R$ 2050 outras)\n  Quando tenta adicionar R$ 100 em \"Lazer\"\n  Ent\u00e3o sistema deve:\n    - Verificar limite categoria (OK: 0/400)\n    - Verificar or\u00e7amento global (OK: restam R$ 200)\n    - Verificar prioridade (OK: essenciais controlados)\n    - Permitir transa\u00e7\u00e3o\n    - Emitir alerta \"Or\u00e7amento 93% utilizado\"\n</code></pre>"},{"location":"specs/business-rules/#implementacao-das-regras","title":"Implementa\u00e7\u00e3o das Regras","text":""},{"location":"specs/business-rules/#domain-layer","title":"Domain Layer","text":"<p>As regras de neg\u00f3cio s\u00e3o implementadas principalmente no Domain Layer:</p> <pre><code>public class Categoria\n{\n    public bool UltrapassouLimite(decimal valorGasto)\n    {\n        return valorGasto &gt; Limite?.Valor;\n    }\n\n    public bool PodeGastar(decimal valorGasto, decimal gastoAtual)\n    {\n        return (gastoAtual + valorGasto) &lt;= (Limite?.Valor ?? decimal.MaxValue);\n    }\n}\n</code></pre>"},{"location":"specs/business-rules/#application-layer","title":"Application Layer","text":"<p>Valida\u00e7\u00f5es complexas s\u00e3o implementadas nos handlers:</p> <pre><code>public class CreateTransacaoCommandHandler : IRequestHandler&lt;CreateTransacaoCommand, TransacaoDto&gt;\n{\n    public async Task&lt;TransacaoDto&gt; Handle(CreateTransacaoCommand request, CancellationToken cancellationToken)\n    {\n        // Validar regras de neg\u00f3cio\n        await ValidateBusinessRules(request);\n\n        // Criar transa\u00e7\u00e3o\n        var transacao = new Transacao(/* ... */);\n\n        // Salvar\n        await _unitOfWork.Transacoes.AddAsync(transacao);\n        await _unitOfWork.SaveChangesAsync();\n\n        return _mapper.Map&lt;TransacaoDto&gt;(transacao);\n    }\n}\n</code></pre>"},{"location":"specs/business-rules/#testes","title":"Testes","text":"<p>Cada regra \u00e9 testada isoladamente e em conjunto:</p> <pre><code>[Fact]\npublic void Categoria_UltrapassouLimite_ShouldReturnTrue()\n{\n    // Arrange\n    var categoria = new Categoria(\"Teste\", TipoCategoria.Despesa, Guid.NewGuid(), null, new Money(100));\n\n    // Act\n    var result = categoria.UltrapassouLimite(150);\n\n    // Assert\n    Assert.True(result);\n}\n</code></pre>"},{"location":"specs/business-rules/#metricas-de-qualidade","title":"M\u00e9tricas de Qualidade","text":""},{"location":"specs/business-rules/#cobertura-de-testes","title":"Cobertura de Testes","text":"<ul> <li>Regras de Neg\u00f3cio: 100% cobertas</li> <li>Cen\u00e1rios de Teste: 95% implementados</li> <li>Valida\u00e7\u00f5es: 100% testadas</li> </ul>"},{"location":"specs/business-rules/#validacao-continua","title":"Valida\u00e7\u00e3o Cont\u00ednua","text":"<ul> <li>CI/CD: Valida\u00e7\u00e3o autom\u00e1tica em cada commit</li> <li>Testes de Integra\u00e7\u00e3o: Valida\u00e7\u00e3o end-to-end</li> <li>Testes de Performance: Valida\u00e7\u00e3o de regras complexas</li> </ul> <p>Esta documenta\u00e7\u00e3o garante que todas as regras de neg\u00f3cio sejam implementadas corretamente e testadas adequadamente, mantendo a integridade e consist\u00eancia do sistema.</p>"},{"location":"specs/user-stories/","title":"User Stories - SpendWise","text":"<p>Vis\u00e3o: App de finan\u00e7as pessoais para registrar receitas/despesas, controlar or\u00e7amento mensal, fechar meses e analisar relat\u00f3rios. Personas: Usu\u00e1rio final (pessoa f\u00edsica). Prioridade (MoSCoW): Must / Should / Could.</p>"},{"location":"specs/user-stories/#sumario","title":"Sum\u00e1rio","text":"<ul> <li>E1 \u2014 Autentica\u00e7\u00e3o &amp; Sess\u00e3o</li> <li>E2 \u2014 Categorias</li> <li>E3 \u2014 Transa\u00e7\u00f5es</li> <li>E4 \u2014 Or\u00e7amento Mensal</li> <li>E5 \u2014 Fechamento Mensal</li> <li>E6 \u2014 Relat\u00f3rios</li> <li>E7 \u2014 Metas Financeiras</li> <li>E8 \u2014 Alertas</li> <li>E9 \u2014 Observabilidade &amp; Sa\u00fade</li> <li>E10 \u2014 Infra/DevEx</li> </ul>"},{"location":"specs/user-stories/#e1-autenticacao-sessao","title":"E1 \u2014 Autentica\u00e7\u00e3o &amp; Sess\u00e3o","text":"<p>Objetivo: permitir acesso seguro ao app (criar conta, login, logout, recupera\u00e7\u00e3o). Valor: seguran\u00e7a e personaliza\u00e7\u00e3o por usu\u00e1rio. Regras: e-mail \u00fanico; feedback claro de erros. Depend\u00eancias: \u2014  </p>"},{"location":"specs/user-stories/#stories","title":"Stories","text":""},{"location":"specs/user-stories/#sw-001-cadastrar-conta-com-e-mailsenha-must-3sp","title":"SW-001 \u2014 Cadastrar conta com e-mail/senha (Must \u00b7 3SP)","text":"<p>Descri\u00e7\u00e3o: criar nova conta informando nome, e-mail e senha forte. Crit\u00e9rios de Aceite <pre><code>Dado que estou na tela de cadastro\nQuando informo nome, email v\u00e1lido e senha forte\nEnt\u00e3o devo ver minha conta criada e ser autenticado\nE devo ver meu nome no topo da aplica\u00e7\u00e3o\n</code></pre></p>"},{"location":"specs/user-stories/#sw-002-entrar-com-e-mailsenha-must-2sp","title":"SW-002 \u2014 Entrar com e-mail/senha (Must \u00b7 2SP)","text":"<p>Descri\u00e7\u00e3o: autenticar usu\u00e1rio existente. Crit\u00e9rios: e-mail case-insensitive; mensagem clara em credenciais inv\u00e1lidas; \"lembrar de mim\" opcional.</p>"},{"location":"specs/user-stories/#sw-003-sair-da-sessao-must-1sp","title":"SW-003 \u2014 Sair da sess\u00e3o (Must \u00b7 1SP)","text":"<p>Descri\u00e7\u00e3o: encerrar sess\u00e3o atual. Crit\u00e9rios: limpar token/cookies e redirecionar para /login.</p>"},{"location":"specs/user-stories/#sw-004-recuperar-senha-link-por-e-mail-should-5sp","title":"SW-004 \u2014 Recuperar senha (link por e-mail) (Should \u00b7 5SP)","text":"<p>Descri\u00e7\u00e3o: fluxo de reset por link enviado ao e-mail. Crit\u00e9rios: envio do link (mock no prot\u00f3tipo); confirma\u00e7\u00e3o de redefini\u00e7\u00e3o.</p>"},{"location":"specs/user-stories/#e2-categorias","title":"E2 \u2014 Categorias","text":"<p>Objetivo: organizar despesas por tipo e limites. Valor: visibilidade de gastos e alertas por categoria. Regras: nome \u00fanico por usu\u00e1rio; tipo {ESSENCIAL, SUPERFLUO}; limite \u2265 0. Depend\u00eancias: E1.</p>"},{"location":"specs/user-stories/#stories_1","title":"Stories","text":""},{"location":"specs/user-stories/#sw-010-criar-categoria-nome-tipo-limite-opcional-must-3sp","title":"SW-010 \u2014 Criar categoria (nome, tipo, limite opcional) (Must \u00b7 3SP)","text":"<p>Crit\u00e9rios <pre><code>Dado que estou autenticado\nQuando crio uma categoria com nome \u00fanico no meu usu\u00e1rio e tipo (ESSENCIAL|SUPERFLUO)\nEnt\u00e3o a categoria aparece na lista\nE se informar limite, deve ser &gt;= 0\n</code></pre></p>"},{"location":"specs/user-stories/#sw-011-editar-categoria-must-2sp","title":"SW-011 \u2014 Editar categoria (Must \u00b7 2SP)","text":"<p>Crit\u00e9rios: impedir nomes duplicados por usu\u00e1rio; validar tipo/limite.</p>"},{"location":"specs/user-stories/#sw-012-excluir-categoria-must-2sp","title":"SW-012 \u2014 Excluir categoria (Must \u00b7 2SP)","text":"<p>Crit\u00e9rios: confirmar exclus\u00e3o; orientar sobre despesas vinculadas.</p>"},{"location":"specs/user-stories/#sw-013-reatribuir-despesas-ao-excluir-categoria-should-3sp","title":"SW-013 \u2014 Reatribuir despesas ao excluir categoria (Should \u00b7 3SP)","text":"<p>Crit\u00e9rios: oferecer mover despesas para categoria \"Outros\" (ou escolhida).</p>"},{"location":"specs/user-stories/#sw-014-visualizar-categorias-com-progresso-de-limite-must-2sp","title":"SW-014 \u2014 Visualizar categorias com progresso de limite (Must \u00b7 2SP)","text":"<p>Crit\u00e9rios: mostrar gasto do m\u00eas, % usado, badge de &gt;80% e \"Ultrapassado\".</p>"},{"location":"specs/user-stories/#e3-transacoes","title":"E3 \u2014 Transa\u00e7\u00f5es","text":"<p>Objetivo: CRUD de receitas e despesas com filtros. Valor: registrar e analisar movimenta\u00e7\u00f5es. Regras: valor &gt; 0; data n\u00e3o futura; despesa exige categoria; receita n\u00e3o tem categoria. Depend\u00eancias: E1, E2.</p>"},{"location":"specs/user-stories/#stories_2","title":"Stories","text":""},{"location":"specs/user-stories/#sw-030-criar-despesa-categoria-obrigatoria-must-3sp","title":"SW-030 \u2014 Criar despesa (categoria obrigat\u00f3ria) (Must \u00b7 3SP)","text":"<pre><code>Dado que estou autenticado\nE existe ao menos uma categoria\nQuando cadastro uma DESPESA com valor &gt; 0, data n\u00e3o futura e categoria selecionada\nEnt\u00e3o a despesa aparece na lista e atualiza o dashboard\n</code></pre>"},{"location":"specs/user-stories/#sw-031-criar-receita-sem-categoria-must-2sp","title":"SW-031 \u2014 Criar receita (sem categoria) (Must \u00b7 2SP)","text":"<p>Crit\u00e9rios: n\u00e3o exibir select de categoria; valor &gt; 0; data n\u00e3o futura.</p>"},{"location":"specs/user-stories/#sw-032-listarfiltrarpaginar-transacoes-must-3sp","title":"SW-032 \u2014 Listar/filtrar/paginar transa\u00e7\u00f5es (Must \u00b7 3SP)","text":"<p>Crit\u00e9rios: filtros por tipo, categoria, intervalo de datas e busca textual; pagina\u00e7\u00e3o (ou lazy load).</p>"},{"location":"specs/user-stories/#sw-033-editar-transacao-mes-aberto-must-3sp","title":"SW-033 \u2014 Editar transa\u00e7\u00e3o (m\u00eas aberto) (Must \u00b7 3SP)","text":"<p>Crit\u00e9rios: se m\u00eas fechado, edi\u00e7\u00e3o desabilitada com tooltip \"M\u00eas fechado\"; se aberto, validar regras e salvar.</p>"},{"location":"specs/user-stories/#sw-034-excluir-transacao-mes-aberto-must-2sp","title":"SW-034 \u2014 Excluir transa\u00e7\u00e3o (m\u00eas aberto) (Must \u00b7 2SP)","text":"<p>Crit\u00e9rios: confirma\u00e7\u00e3o; bloquear se m\u00eas fechado.</p>"},{"location":"specs/user-stories/#sw-035-importar-csv-de-transacoes-mock-could-5sp","title":"SW-035 \u2014 Importar CSV de transa\u00e7\u00f5es (mock) (Could \u00b7 5SP)","text":"<p>Crit\u00e9rios: upload, pr\u00e9-visualiza\u00e7\u00e3o, mapeamento simples de colunas (sem persist\u00eancia real).</p>"},{"location":"specs/user-stories/#e4-orcamento-mensal","title":"E4 \u2014 Or\u00e7amento Mensal","text":"<p>Objetivo: definir teto de gastos do m\u00eas e acompanhar uso. Valor: controle financeiro por per\u00edodo. Regras: um or\u00e7amento por usu\u00e1rio por m\u00eas; valor \u2265 0. Depend\u00eancias: E1, E3.</p>"},{"location":"specs/user-stories/#stories_3","title":"Stories","text":""},{"location":"specs/user-stories/#sw-040-definir-orcamento-do-mes-unico-por-anomes-must-3sp","title":"SW-040 \u2014 Definir or\u00e7amento do m\u00eas (\u00fanico por anoMes) (Must \u00b7 3SP)","text":"<pre><code>Dado que estou autenticado\nQuando defino o or\u00e7amento para um m\u00eas (valor &gt;= 0)\nEnt\u00e3o o sistema salva apenas um or\u00e7amento por m\u00eas por usu\u00e1rio\nE o dashboard mostra % usado\n</code></pre>"},{"location":"specs/user-stories/#sw-041-exibir-do-orcamento-usado-e-restante-must-2sp","title":"SW-041 \u2014 Exibir % do or\u00e7amento usado e restante (Must \u00b7 2SP)","text":"<p>Crit\u00e9rios: indicadores no Dashboard e na tela de Or\u00e7amento.</p>"},{"location":"specs/user-stories/#e5-fechamento-mensal","title":"E5 \u2014 Fechamento Mensal","text":"<p>Objetivo: consolidar o m\u00eas e travar altera\u00e7\u00f5es. Valor: integridade hist\u00f3rica. Regras: 1 fechamento por m\u00eas por usu\u00e1rio; transa\u00e7\u00f5es do m\u00eas fechado n\u00e3o podem ser editadas/exclu\u00eddas. Depend\u00eancias: E3.</p>"},{"location":"specs/user-stories/#stories_4","title":"Stories","text":""},{"location":"specs/user-stories/#sw-050-fechar-mes-consolidar-e-travar-edicoes-must-3sp","title":"SW-050 \u2014 Fechar m\u00eas (consolidar e travar edi\u00e7\u00f5es) (Must \u00b7 3SP)","text":"<pre><code>Dado que estou no m\u00eas corrente e tenho transa\u00e7\u00f5es\nQuando clico em \"Fechar m\u00eas\" e confirmo\nEnt\u00e3o o m\u00eas fica com status FECHADO\nE as transa\u00e7\u00f5es do m\u00eas ficam bloqueadas para edi\u00e7\u00e3o/exclus\u00e3o\n</code></pre>"},{"location":"specs/user-stories/#sw-051-exibir-status-do-mes-abertofechado-must-1sp","title":"SW-051 \u2014 Exibir status do m\u00eas (Aberto/Fechado) (Must \u00b7 1SP)","text":"<p>Crit\u00e9rios: badge nas telas; estado persiste ao recarregar.</p>"},{"location":"specs/user-stories/#sw-052-bloquear-editarexcluir-transacao-de-mes-fechado-must-2sp","title":"SW-052 \u2014 Bloquear editar/excluir transa\u00e7\u00e3o de m\u00eas fechado (Must \u00b7 2SP)","text":"<p>Crit\u00e9rios: bot\u00f5es desabilitados + tooltip \"M\u00eas fechado\"; tentativa retorna erro amig\u00e1vel.</p>"},{"location":"specs/user-stories/#sw-053-reabrir-mes-permissao-especial-could-5sp","title":"SW-053 \u2014 Reabrir m\u00eas (permiss\u00e3o especial) (Could \u00b7 5SP)","text":"<p>Crit\u00e9rios: fluxo protegido; registrar log/auditoria (mock).</p>"},{"location":"specs/user-stories/#e6-relatorios","title":"E6 \u2014 Relat\u00f3rios","text":"<p>Objetivo: vis\u00e3o anal\u00edtica por categoria e per\u00edodo. Valor: decis\u00f5es informadas sobre gastos. Depend\u00eancias: E3, E4.</p>"},{"location":"specs/user-stories/#stories_5","title":"Stories","text":""},{"location":"specs/user-stories/#sw-060-relatorio-por-categoria-mes-should-3sp","title":"SW-060 \u2014 Relat\u00f3rio por categoria (m\u00eas) (Should \u00b7 3SP)","text":"<p>Crit\u00e9rios: donut/top 5; tabela de totais por categoria.</p>"},{"location":"specs/user-stories/#sw-061-evolucao-no-mes-linha-diaria-should-3sp","title":"SW-061 \u2014 Evolu\u00e7\u00e3o no m\u00eas (linha di\u00e1ria) (Should \u00b7 3SP)","text":"<p>Crit\u00e9rios: gr\u00e1fico de saldo acumulado por dia.</p>"},{"location":"specs/user-stories/#sw-062-comparativo-de-meses-could-5sp","title":"SW-062 \u2014 Comparativo de meses (Could \u00b7 5SP)","text":"<p>Crit\u00e9rios: barras por m\u00eas; sele\u00e7\u00e3o de intervalo; destacar melhor/pior.</p>"},{"location":"specs/user-stories/#sw-063-exportar-csvpdf-mock-could-2sp","title":"SW-063 \u2014 Exportar CSV/PDF (mock) (Could \u00b7 2SP)","text":"<p>Crit\u00e9rios: bot\u00f5es de export que simulam arquivos.</p>"},{"location":"specs/user-stories/#e7-metas-financeiras","title":"E7 \u2014 Metas Financeiras","text":"<p>Objetivo: definir objetivos (valor-alvo e prazo) e acompanhar progresso. Valor: incentivo ao planejamento financeiro. Regras: valor-alvo &gt; 0; prazo futuro. Depend\u00eancias: E1, E3 (para progresso).</p>"},{"location":"specs/user-stories/#stories_6","title":"Stories","text":""},{"location":"specs/user-stories/#sw-070-criar-meta-descricao-valor-alvo-prazo-should-3sp","title":"SW-070 \u2014 Criar meta (descri\u00e7\u00e3o, valor-alvo, prazo) (Should \u00b7 3SP)","text":"<p>Crit\u00e9rios: valida\u00e7\u00e3o de valor e prazo; exibi\u00e7\u00e3o em listagem.</p>"},{"location":"specs/user-stories/#sw-071-progresso-da-meta-acumulado-could-3sp","title":"SW-071 \u2014 Progresso da meta (acumulado) (Could \u00b7 3SP)","text":"<p>Crit\u00e9rios: percentual alcan\u00e7ado; proje\u00e7\u00e3o simples (mock).</p>"},{"location":"specs/user-stories/#sw-072-editarexcluir-meta-could-2sp","title":"SW-072 \u2014 Editar/excluir meta (Could \u00b7 2SP)","text":"<p>Crit\u00e9rios: permitir ajustes e remo\u00e7\u00e3o com confirma\u00e7\u00e3o.</p>"},{"location":"specs/user-stories/#e8-alertas","title":"E8 \u2014 Alertas","text":"<p>Objetivo: avisar usu\u00e1rio sobre limites e or\u00e7amento. Valor: evitar ultrapassar gastos. Depend\u00eancias: E2, E3, E4.</p>"},{"location":"specs/user-stories/#stories_7","title":"Stories","text":""},{"location":"specs/user-stories/#sw-080-alerta-de-categoria-80-do-limite-should-2sp","title":"SW-080 \u2014 Alerta de categoria &gt; 80% do limite (Should \u00b7 2SP)","text":"<p>Crit\u00e9rios: badge/alert card quando gasto \u2265 80% do limite da categoria.</p>"},{"location":"specs/user-stories/#sw-081-alerta-de-orcamento-excedido-should-2sp","title":"SW-081 \u2014 Alerta de or\u00e7amento excedido (Should \u00b7 2SP)","text":"<p>Crit\u00e9rios: aviso e destaque visual quando or\u00e7amento do m\u00eas for excedido.</p>"},{"location":"specs/user-stories/#sw-082-central-de-alertas-do-mes-could-3sp","title":"SW-082 \u2014 Central de alertas do m\u00eas (Could \u00b7 3SP)","text":"<p>Crit\u00e9rios: listagem consolidada com filtros por severidade.</p>"},{"location":"specs/user-stories/#e9-observabilidade-saude","title":"E9 \u2014 Observabilidade &amp; Sa\u00fade","text":"<p>Objetivo: monitorar disponibilidade e registrar logs. Valor: diagn\u00f3stico r\u00e1pido e qualidade operacional. Depend\u00eancias: \u2014  </p>"},{"location":"specs/user-stories/#stories_8","title":"Stories","text":""},{"location":"specs/user-stories/#sw-090-health-check-health-must-1sp","title":"SW-090 \u2014 Health check <code>/health</code> (Must \u00b7 1SP)","text":"<p>Crit\u00e9rios: responde <code>200 OK</code> com liveness/readiness.</p>"},{"location":"specs/user-stories/#sw-091-logs-estruturados-serilog-must-2sp","title":"SW-091 \u2014 Logs estruturados (Serilog) (Must \u00b7 2SP)","text":"<p>Crit\u00e9rios: correla\u00e7\u00e3o request/response; n\u00edveis INFO/WARN/ERROR.</p>"},{"location":"specs/user-stories/#e10-infradevex","title":"E10 \u2014 Infra/DevEx","text":"<p>Objetivo: base de execu\u00e7\u00e3o, testes e entrega cont\u00ednua. Valor: produtividade e estabilidade do time. Depend\u00eancias: \u2014  </p>"},{"location":"specs/user-stories/#stories_9","title":"Stories","text":""},{"location":"specs/user-stories/#sw-100-dockerfile-multi-stage-api-compose-dev-must-2sp","title":"SW-100 \u2014 Dockerfile multi-stage (API) + Compose dev (Must \u00b7 2SP)","text":"<p>Crit\u00e9rios: subir API + PostgreSQL com <code>.env</code>.</p>"},{"location":"specs/user-stories/#sw-101-pipeline-ci-buildtest-backend-e-frontend-must-3sp","title":"SW-101 \u2014 Pipeline CI (build/test backend e frontend) (Must \u00b7 3SP)","text":"<p>Crit\u00e9rios: GitHub Actions com cache; <code>dotnet build/test</code> e <code>pnpm build/test</code> no PR.</p>"},{"location":"specs/user-stories/#sw-102-testes-unitarios-dominio-e-aplicacao-must-5sp","title":"SW-102 \u2014 Testes unit\u00e1rios (dom\u00ednio e aplica\u00e7\u00e3o) (Must \u00b7 5SP)","text":"<p>Crit\u00e9rios: cobrir VO Money e regra \"Despesa exige Categoria\"; \u2265 70% no dom\u00ednio.</p>"},{"location":"specs/user-stories/#sw-103-testes-de-integracao-com-testcontainers-api-db-should-5sp","title":"SW-103 \u2014 Testes de integra\u00e7\u00e3o com Testcontainers (API + DB) (Should \u00b7 5SP)","text":"<p>Crit\u00e9rios: CRUD + fechamento de m\u00eas contra banco real em container.</p>"},{"location":"specs/user-stories/#sw-104-e2e-playwright-fluxo-critico-should-5sp","title":"SW-104 \u2014 E2E (Playwright) \u2014 fluxo cr\u00edtico (Should \u00b7 5SP)","text":"<p>Crit\u00e9rios: Criar despesa \u2192 atingir limite \u2192 fechar m\u00eas \u2192 bloquear edi\u00e7\u00e3o (todos verdes).</p>"},{"location":"specs/user-stories/#sw-105-deploy-api-container-front-na-vercel-should-3sp","title":"SW-105 \u2014 Deploy (API container + Front na Vercel) (Should \u00b7 3SP)","text":"<p>Crit\u00e9rios: API publicada em provider de containers; Front na Vercel com URL p\u00fablica.</p>"},{"location":"specs/user-stories/#apendice","title":"Ap\u00eandice","text":""},{"location":"specs/user-stories/#definition-of-ready-dor","title":"Definition of Ready (DoR)","text":"<p>Hist\u00f3ria com benef\u00edcio claro, AC definidos, sem bloqueios e UI rascunhada.</p>"},{"location":"specs/user-stories/#definition-of-done-dod","title":"Definition of Done (DoD)","text":"<p>C\u00f3digo revisado, testes verdes, lint ok, pipeline ok, docs atualizadas e deploy no ambiente de teste.</p>"},{"location":"specs/user-stories/#nao-funcionais","title":"N\u00e3o Funcionais","text":"<p>Acessibilidade b\u00e1sica; TTFB razo\u00e1vel em listas; logs estruturados; rate limit simples.</p>"},{"location":"specs/user-stories/#status-de-implementacao","title":"Status de Implementa\u00e7\u00e3o","text":""},{"location":"specs/user-stories/#implementado-must","title":"** Implementado (Must)**","text":"<ul> <li>SW-001: Cadastrar conta </li> <li>SW-002: Entrar com e-mail/senha </li> <li>SW-003: Sair da sess\u00e3o </li> <li>SW-010: Criar categoria </li> <li>SW-011: Editar categoria </li> <li>SW-012: Excluir categoria </li> <li>SW-014: Visualizar categorias com progresso </li> <li>SW-030: Criar despesa </li> <li>SW-031: Criar receita </li> <li>SW-032: Listar/filtrar transa\u00e7\u00f5es </li> <li>SW-033: Editar transa\u00e7\u00e3o </li> <li>SW-034: Excluir transa\u00e7\u00e3o </li> <li>SW-040: Definir or\u00e7amento do m\u00eas </li> <li>SW-041: Exibir % do or\u00e7amento </li> <li>SW-050: Fechar m\u00eas </li> <li>SW-051: Exibir status do m\u00eas </li> <li>SW-052: Bloquear edi\u00e7\u00e3o de m\u00eas fechado </li> <li>SW-090: Health check </li> <li>SW-091: Logs estruturados </li> <li>SW-100: Docker + Compose </li> <li>SW-101: Pipeline CI </li> <li>SW-102: Testes unit\u00e1rios </li> </ul>"},{"location":"specs/user-stories/#em-desenvolvimento-should","title":"** Em Desenvolvimento (Should)**","text":"<ul> <li>SW-004: Recuperar senha</li> <li>SW-013: Reatribuir despesas</li> <li>SW-060: Relat\u00f3rio por categoria</li> <li>SW-061: Evolu\u00e7\u00e3o no m\u00eas</li> <li>SW-070: Criar meta</li> <li>SW-080: Alerta de categoria</li> <li>SW-081: Alerta de or\u00e7amento</li> <li>SW-103: Testes de integra\u00e7\u00e3o</li> </ul>"},{"location":"specs/user-stories/#planejado-could","title":"** Planejado (Could)**","text":"<ul> <li>SW-035: Importar CSV</li> <li>SW-053: Reabrir m\u00eas</li> <li>SW-062: Comparativo de meses</li> <li>SW-063: Exportar CSV/PDF</li> <li>SW-071: Progresso da meta</li> <li>SW-072: Editar/excluir meta</li> <li>SW-082: Central de alertas</li> <li>SW-104: E2E Playwright</li> <li>SW-105: Deploy produ\u00e7\u00e3o</li> </ul>"},{"location":"specs/user-stories/#metricas-de-progresso","title":"M\u00e9tricas de Progresso","text":"<ul> <li>Total de Stories: 42</li> <li>Implementadas: 22 (52%)</li> <li>Em Desenvolvimento: 8 (19%)</li> <li>Planejadas: 12 (29%)</li> </ul> <p>Status Geral:  Em Andamento - Funcionalidades essenciais implementadas, foco em melhorias e funcionalidades avan\u00e7adas.</p>"}]}